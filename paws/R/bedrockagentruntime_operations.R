# This file is generated by make.paws. Please do not edit here.
#' @importFrom paws.common get_config new_operation new_request send_request
#' @include bedrockagentruntime_service.R
NULL

#' Deletes memory from the specified memory identifier
#'
#' @description
#' Deletes memory from the specified memory identifier.
#'
#' @usage
#' bedrockagentruntime_delete_agent_memory(agentAliasId, agentId, memoryId,
#'   sessionId)
#'
#' @param agentAliasId &#91;required&#93; The unique identifier of an alias of an agent.
#' @param agentId &#91;required&#93; The unique identifier of the agent to which the alias belongs.
#' @param memoryId The unique identifier of the memory.
#' @param sessionId The unique session identifier of the memory.
#'
#' @return
#' An empty list.
#'
#' @section Request syntax:
#' ```
#' svc$delete_agent_memory(
#'   agentAliasId = "string",
#'   agentId = "string",
#'   memoryId = "string",
#'   sessionId = "string"
#' )
#' ```
#'
#' @keywords internal
#'
#' @rdname bedrockagentruntime_delete_agent_memory
#'
#' @aliases bedrockagentruntime_delete_agent_memory
bedrockagentruntime_delete_agent_memory <- function(agentAliasId, agentId, memoryId = NULL, sessionId = NULL) {
  op <- new_operation(
    name = "DeleteAgentMemory",
    http_method = "DELETE",
    http_path = "/agents/{agentId}/agentAliases/{agentAliasId}/memories",
    host_prefix = "",
    paginator = list(),
    stream_api = FALSE
  )
  input <- .bedrockagentruntime$delete_agent_memory_input(agentAliasId = agentAliasId, agentId = agentId, memoryId = memoryId, sessionId = sessionId)
  output <- .bedrockagentruntime$delete_agent_memory_output()
  config <- get_config()
  svc <- .bedrockagentruntime$service(config, op)
  request <- new_request(svc, op, input, output)
  response <- send_request(request)
  return(response)
}
.bedrockagentruntime$operations$delete_agent_memory <- bedrockagentruntime_delete_agent_memory

#' Generates an SQL query from a natural language query
#'
#' @description
#' Generates an SQL query from a natural language query. For more
#' information, see [Generate a query for structured
#' data](https://docs.aws.amazon.com/bedrock/latest/userguide/knowledge-base-generate-query.html)
#' in the Amazon Bedrock User Guide.
#'
#' @usage
#' bedrockagentruntime_generate_query(queryGenerationInput,
#'   transformationConfiguration)
#'
#' @param queryGenerationInput &#91;required&#93; Specifies information about a natural language query to transform into
#' SQL.
#' @param transformationConfiguration &#91;required&#93; Specifies configurations for transforming the natural language query
#' into SQL.
#'
#' @return
#' A list with the following syntax:
#' ```
#' list(
#'   queries = list(
#'     list(
#'       sql = "string",
#'       type = "REDSHIFT_SQL"
#'     )
#'   )
#' )
#' ```
#'
#' @section Request syntax:
#' ```
#' svc$generate_query(
#'   queryGenerationInput = list(
#'     text = "string",
#'     type = "TEXT"
#'   ),
#'   transformationConfiguration = list(
#'     mode = "TEXT_TO_SQL",
#'     textToSqlConfiguration = list(
#'       knowledgeBaseConfiguration = list(
#'         knowledgeBaseArn = "string"
#'       ),
#'       type = "KNOWLEDGE_BASE"
#'     )
#'   )
#' )
#' ```
#'
#' @keywords internal
#'
#' @rdname bedrockagentruntime_generate_query
#'
#' @aliases bedrockagentruntime_generate_query
bedrockagentruntime_generate_query <- function(queryGenerationInput, transformationConfiguration) {
  op <- new_operation(
    name = "GenerateQuery",
    http_method = "POST",
    http_path = "/generateQuery",
    host_prefix = "",
    paginator = list(),
    stream_api = FALSE
  )
  input <- .bedrockagentruntime$generate_query_input(queryGenerationInput = queryGenerationInput, transformationConfiguration = transformationConfiguration)
  output <- .bedrockagentruntime$generate_query_output()
  config <- get_config()
  svc <- .bedrockagentruntime$service(config, op)
  request <- new_request(svc, op, input, output)
  response <- send_request(request)
  return(response)
}
.bedrockagentruntime$operations$generate_query <- bedrockagentruntime_generate_query

#' Gets the sessions stored in the memory of the agent
#'
#' @description
#' Gets the sessions stored in the memory of the agent.
#'
#' @usage
#' bedrockagentruntime_get_agent_memory(agentAliasId, agentId, maxItems,
#'   memoryId, memoryType, nextToken)
#'
#' @param agentAliasId &#91;required&#93; The unique identifier of an alias of an agent.
#' @param agentId &#91;required&#93; The unique identifier of the agent to which the alias belongs.
#' @param maxItems The maximum number of items to return in the response. If the total
#' number of results is greater than this value, use the token returned in
#' the response in the `nextToken` field when making another request to
#' return the next batch of results.
#' @param memoryId &#91;required&#93; The unique identifier of the memory.
#' @param memoryType &#91;required&#93; The type of memory.
#' @param nextToken If the total number of results is greater than the maxItems value
#' provided in the request, enter the token returned in the `nextToken`
#' field in the response in this field to return the next batch of results.
#'
#' @return
#' A list with the following syntax:
#' ```
#' list(
#'   memoryContents = list(
#'     list(
#'       sessionSummary = list(
#'         memoryId = "string",
#'         sessionExpiryTime = as.POSIXct(
#'           "2015-01-01"
#'         ),
#'         sessionId = "string",
#'         sessionStartTime = as.POSIXct(
#'           "2015-01-01"
#'         ),
#'         summaryText = "string"
#'       )
#'     )
#'   ),
#'   nextToken = "string"
#' )
#' ```
#'
#' @section Request syntax:
#' ```
#' svc$get_agent_memory(
#'   agentAliasId = "string",
#'   agentId = "string",
#'   maxItems = 123,
#'   memoryId = "string",
#'   memoryType = "SESSION_SUMMARY",
#'   nextToken = "string"
#' )
#' ```
#'
#' @keywords internal
#'
#' @rdname bedrockagentruntime_get_agent_memory
#'
#' @aliases bedrockagentruntime_get_agent_memory
bedrockagentruntime_get_agent_memory <- function(agentAliasId, agentId, maxItems = NULL, memoryId, memoryType, nextToken = NULL) {
  op <- new_operation(
    name = "GetAgentMemory",
    http_method = "GET",
    http_path = "/agents/{agentId}/agentAliases/{agentAliasId}/memories",
    host_prefix = "",
    paginator = list(input_token = "nextToken", output_token = "nextToken", limit_key = "maxItems", result_key = "memoryContents"),
    stream_api = FALSE
  )
  input <- .bedrockagentruntime$get_agent_memory_input(agentAliasId = agentAliasId, agentId = agentId, maxItems = maxItems, memoryId = memoryId, memoryType = memoryType, nextToken = nextToken)
  output <- .bedrockagentruntime$get_agent_memory_output()
  config <- get_config()
  svc <- .bedrockagentruntime$service(config, op)
  request <- new_request(svc, op, input, output)
  response <- send_request(request)
  return(response)
}
.bedrockagentruntime$operations$get_agent_memory <- bedrockagentruntime_get_agent_memory

#' Sends a prompt for the agent to process and respond to
#'
#' @description
#' Sends a prompt for the agent to process and respond to. Note the
#' following fields for the request:
#' 
#' -   To continue the same conversation with an agent, use the same
#'     `sessionId` value in the request.
#' 
#' -   To activate trace enablement, turn `enableTrace` to `true`. Trace
#'     enablement helps you follow the agent's reasoning process that led
#'     it to the information it processed, the actions it took, and the
#'     final result it yielded. For more information, see [Trace
#'     enablement](https://docs.aws.amazon.com/bedrock/latest/userguide/agents-test.html#trace-events).
#' 
#' -   To stream agent responses, make sure that only orchestration prompt
#'     is enabled. Agent streaming is not supported for the following
#'     steps:
#' 
#'     -   `Pre-processing`
#' 
#'     -   `Post-processing`
#' 
#'     -   Agent with 1 Knowledge base and `User Input` not enabled
#' 
#' -   End a conversation by setting `endSession` to `true`.
#' 
#' -   In the `sessionState` object, you can include attributes for the
#'     session or prompt or, if you configured an action group to return
#'     control, results from invocation of the action group.
#' 
#' The response contains both **chunk** and **trace** attributes.
#' 
#' The final response is returned in the `bytes` field of the `chunk`
#' object. The [`invoke_agent`][bedrockagentruntime_invoke_agent] returns
#' one chunk for the entire interaction.
#' 
#' -   The `attribution` object contains citations for parts of the
#'     response.
#' 
#' -   If you set `enableTrace` to `true` in the request, you can trace the
#'     agent's steps and reasoning process that led it to the response.
#' 
#' -   If the action predicted was configured to return control, the
#'     response returns parameters for the action, elicited from the user,
#'     in the `returnControl` field.
#' 
#' -   Errors are also surfaced in the response.
#'
#' @usage
#' bedrockagentruntime_invoke_agent(agentAliasId, agentId,
#'   bedrockModelConfigurations, enableTrace, endSession, inputText,
#'   memoryId, sessionId, sessionState, sourceArn, streamingConfigurations)
#'
#' @param agentAliasId &#91;required&#93; The alias of the agent to use.
#' @param agentId &#91;required&#93; The unique identifier of the agent to use.
#' @param bedrockModelConfigurations Model performance settings for the request.
#' @param enableTrace Specifies whether to turn on the trace or not to track the agent's
#' reasoning process. For more information, see [Trace
#' enablement](https://docs.aws.amazon.com/bedrock/latest/userguide/agents-test.html#trace-events).
#' @param endSession Specifies whether to end the session with the agent or not.
#' @param inputText The prompt text to send the agent.
#' 
#' If you include `returnControlInvocationResults` in the `sessionState`
#' field, the `inputText` field will be ignored.
#' @param memoryId The unique identifier of the agent memory.
#' @param sessionId &#91;required&#93; The unique identifier of the session. Use the same value across requests
#' to continue the same conversation.
#' @param sessionState Contains parameters that specify various attributes of the session. For
#' more information, see [Control session
#' context](https://docs.aws.amazon.com/bedrock/latest/userguide/agents-session-state.html).
#' 
#' If you include `returnControlInvocationResults` in the `sessionState`
#' field, the `inputText` field will be ignored.
#' @param sourceArn The ARN of the resource making the request.
#' @param streamingConfigurations Specifies the configurations for streaming.
#' 
#' To use agent streaming, you need permissions to perform the
#' `bedrock:InvokeModelWithResponseStream` action.
#'
#' @return
#' A list with the following syntax:
#' ```
#' list(
#'   completion = list(
#'     accessDeniedException = list(
#'       message = "string"
#'     ),
#'     badGatewayException = list(
#'       message = "string",
#'       resourceName = "string"
#'     ),
#'     chunk = list(
#'       attribution = list(
#'         citations = list(
#'           list(
#'             generatedResponsePart = list(
#'               textResponsePart = list(
#'                 span = list(
#'                   end = 123,
#'                   start = 123
#'                 ),
#'                 text = "string"
#'               )
#'             ),
#'             retrievedReferences = list(
#'               list(
#'                 content = list(
#'                   byteContent = "string",
#'                   row = list(
#'                     list(
#'                       columnName = "string",
#'                       columnValue = "string",
#'                       type = "BLOB"|"BOOLEAN"|"DOUBLE"|"NULL"|"LONG"|"STRING"
#'                     )
#'                   ),
#'                   text = "string",
#'                   type = "TEXT"|"IMAGE"|"ROW"
#'                 ),
#'                 location = list(
#'                   confluenceLocation = list(
#'                     url = "string"
#'                   ),
#'                   customDocumentLocation = list(
#'                     id = "string"
#'                   ),
#'                   kendraDocumentLocation = list(
#'                     uri = "string"
#'                   ),
#'                   s3Location = list(
#'                     uri = "string"
#'                   ),
#'                   salesforceLocation = list(
#'                     url = "string"
#'                   ),
#'                   sharePointLocation = list(
#'                     url = "string"
#'                   ),
#'                   sqlLocation = list(
#'                     query = "string"
#'                   ),
#'                   type = "S3"|"WEB"|"CONFLUENCE"|"SALESFORCE"|"SHAREPOINT"|"CUSTOM"|"KENDRA"|"SQL",
#'                   webLocation = list(
#'                     url = "string"
#'                   )
#'                 ),
#'                 metadata = list(
#'                   list()
#'                 )
#'               )
#'             )
#'           )
#'         )
#'       ),
#'       bytes = raw
#'     ),
#'     conflictException = list(
#'       message = "string"
#'     ),
#'     dependencyFailedException = list(
#'       message = "string",
#'       resourceName = "string"
#'     ),
#'     files = list(
#'       files = list(
#'         list(
#'           bytes = raw,
#'           name = "string",
#'           type = "string"
#'         )
#'       )
#'     ),
#'     internalServerException = list(
#'       message = "string"
#'     ),
#'     modelNotReadyException = list(
#'       message = "string"
#'     ),
#'     resourceNotFoundException = list(
#'       message = "string"
#'     ),
#'     returnControl = list(
#'       invocationId = "string",
#'       invocationInputs = list(
#'         list(
#'           apiInvocationInput = list(
#'             actionGroup = "string",
#'             actionInvocationType = "RESULT"|"USER_CONFIRMATION"|"USER_CONFIRMATION_AND_RESULT",
#'             agentId = "string",
#'             apiPath = "string",
#'             collaboratorName = "string",
#'             httpMethod = "string",
#'             parameters = list(
#'               list(
#'                 name = "string",
#'                 type = "string",
#'                 value = "string"
#'               )
#'             ),
#'             requestBody = list(
#'               content = list(
#'                 list(
#'                   properties = list(
#'                     list(
#'                       name = "string",
#'                       type = "string",
#'                       value = "string"
#'                     )
#'                   )
#'                 )
#'               )
#'             )
#'           ),
#'           functionInvocationInput = list(
#'             actionGroup = "string",
#'             actionInvocationType = "RESULT"|"USER_CONFIRMATION"|"USER_CONFIRMATION_AND_RESULT",
#'             agentId = "string",
#'             collaboratorName = "string",
#'             function = "string",
#'             parameters = list(
#'               list(
#'                 name = "string",
#'                 type = "string",
#'                 value = "string"
#'               )
#'             )
#'           )
#'         )
#'       )
#'     ),
#'     serviceQuotaExceededException = list(
#'       message = "string"
#'     ),
#'     throttlingException = list(
#'       message = "string"
#'     ),
#'     trace = list(
#'       agentAliasId = "string",
#'       agentId = "string",
#'       agentVersion = "string",
#'       callerChain = list(
#'         list(
#'           agentAliasArn = "string"
#'         )
#'       ),
#'       collaboratorName = "string",
#'       sessionId = "string",
#'       trace = list(
#'         customOrchestrationTrace = list(
#'           event = list(
#'             text = "string"
#'           ),
#'           traceId = "string"
#'         ),
#'         failureTrace = list(
#'           failureReason = "string",
#'           traceId = "string"
#'         ),
#'         guardrailTrace = list(
#'           action = "INTERVENED"|"NONE",
#'           inputAssessments = list(
#'             list(
#'               contentPolicy = list(
#'                 filters = list(
#'                   list(
#'                     action = "BLOCKED",
#'                     confidence = "NONE"|"LOW"|"MEDIUM"|"HIGH",
#'                     type = "INSULTS"|"HATE"|"SEXUAL"|"VIOLENCE"|"MISCONDUCT"|"PROMPT_ATTACK"
#'                   )
#'                 )
#'               ),
#'               sensitiveInformationPolicy = list(
#'                 piiEntities = list(
#'                   list(
#'                     action = "BLOCKED"|"ANONYMIZED",
#'                     match = "string",
#'                     type = "ADDRESS"|"AGE"|"AWS_ACCESS_KEY"|"AWS_SECRET_KEY"|"CA_HEALTH_NUMBER"|"CA_SOCIAL_INSURANCE_NUMBER"|"CREDIT_DEBIT_CARD_CVV"|"CREDIT_DEBIT_CARD_EXPIRY"|"CREDIT_DEBIT_CARD_NUMBER"|"DRIVER_ID"|"EMAIL"|"INTERNATIONAL_BANK_ACCOUNT_NUMBER"|"IP_ADDRESS"|"LICENSE_PLATE"|"MAC_ADDRESS"|"NAME"|"PASSWORD"|"PHONE"|"PIN"|"SWIFT_CODE"|"UK_NATIONAL_HEALTH_SERVICE_NUMBER"|"UK_NATIONAL_INSURANCE_NUMBER"|"UK_UNIQUE_TAXPAYER_REFERENCE_NUMBER"|"URL"|"USERNAME"|"US_BANK_ACCOUNT_NUMBER"|"US_BANK_ROUTING_NUMBER"|"US_INDIVIDUAL_TAX_IDENTIFICATION_NUMBER"|"US_PASSPORT_NUMBER"|"US_SOCIAL_SECURITY_NUMBER"|"VEHICLE_IDENTIFICATION_NUMBER"
#'                   )
#'                 ),
#'                 regexes = list(
#'                   list(
#'                     action = "BLOCKED"|"ANONYMIZED",
#'                     match = "string",
#'                     name = "string",
#'                     regex = "string"
#'                   )
#'                 )
#'               ),
#'               topicPolicy = list(
#'                 topics = list(
#'                   list(
#'                     action = "BLOCKED",
#'                     name = "string",
#'                     type = "DENY"
#'                   )
#'                 )
#'               ),
#'               wordPolicy = list(
#'                 customWords = list(
#'                   list(
#'                     action = "BLOCKED",
#'                     match = "string"
#'                   )
#'                 ),
#'                 managedWordLists = list(
#'                   list(
#'                     action = "BLOCKED",
#'                     match = "string",
#'                     type = "PROFANITY"
#'                   )
#'                 )
#'               )
#'             )
#'           ),
#'           outputAssessments = list(
#'             list(
#'               contentPolicy = list(
#'                 filters = list(
#'                   list(
#'                     action = "BLOCKED",
#'                     confidence = "NONE"|"LOW"|"MEDIUM"|"HIGH",
#'                     type = "INSULTS"|"HATE"|"SEXUAL"|"VIOLENCE"|"MISCONDUCT"|"PROMPT_ATTACK"
#'                   )
#'                 )
#'               ),
#'               sensitiveInformationPolicy = list(
#'                 piiEntities = list(
#'                   list(
#'                     action = "BLOCKED"|"ANONYMIZED",
#'                     match = "string",
#'                     type = "ADDRESS"|"AGE"|"AWS_ACCESS_KEY"|"AWS_SECRET_KEY"|"CA_HEALTH_NUMBER"|"CA_SOCIAL_INSURANCE_NUMBER"|"CREDIT_DEBIT_CARD_CVV"|"CREDIT_DEBIT_CARD_EXPIRY"|"CREDIT_DEBIT_CARD_NUMBER"|"DRIVER_ID"|"EMAIL"|"INTERNATIONAL_BANK_ACCOUNT_NUMBER"|"IP_ADDRESS"|"LICENSE_PLATE"|"MAC_ADDRESS"|"NAME"|"PASSWORD"|"PHONE"|"PIN"|"SWIFT_CODE"|"UK_NATIONAL_HEALTH_SERVICE_NUMBER"|"UK_NATIONAL_INSURANCE_NUMBER"|"UK_UNIQUE_TAXPAYER_REFERENCE_NUMBER"|"URL"|"USERNAME"|"US_BANK_ACCOUNT_NUMBER"|"US_BANK_ROUTING_NUMBER"|"US_INDIVIDUAL_TAX_IDENTIFICATION_NUMBER"|"US_PASSPORT_NUMBER"|"US_SOCIAL_SECURITY_NUMBER"|"VEHICLE_IDENTIFICATION_NUMBER"
#'                   )
#'                 ),
#'                 regexes = list(
#'                   list(
#'                     action = "BLOCKED"|"ANONYMIZED",
#'                     match = "string",
#'                     name = "string",
#'                     regex = "string"
#'                   )
#'                 )
#'               ),
#'               topicPolicy = list(
#'                 topics = list(
#'                   list(
#'                     action = "BLOCKED",
#'                     name = "string",
#'                     type = "DENY"
#'                   )
#'                 )
#'               ),
#'               wordPolicy = list(
#'                 customWords = list(
#'                   list(
#'                     action = "BLOCKED",
#'                     match = "string"
#'                   )
#'                 ),
#'                 managedWordLists = list(
#'                   list(
#'                     action = "BLOCKED",
#'                     match = "string",
#'                     type = "PROFANITY"
#'                   )
#'                 )
#'               )
#'             )
#'           ),
#'           traceId = "string"
#'         ),
#'         orchestrationTrace = list(
#'           invocationInput = list(
#'             actionGroupInvocationInput = list(
#'               actionGroupName = "string",
#'               apiPath = "string",
#'               executionType = "LAMBDA"|"RETURN_CONTROL",
#'               function = "string",
#'               invocationId = "string",
#'               parameters = list(
#'                 list(
#'                   name = "string",
#'                   type = "string",
#'                   value = "string"
#'                 )
#'               ),
#'               requestBody = list(
#'                 content = list(
#'                   list(
#'                     list(
#'                       name = "string",
#'                       type = "string",
#'                       value = "string"
#'                     )
#'                   )
#'                 )
#'               ),
#'               verb = "string"
#'             ),
#'             agentCollaboratorInvocationInput = list(
#'               agentCollaboratorAliasArn = "string",
#'               agentCollaboratorName = "string",
#'               input = list(
#'                 returnControlResults = list(
#'                   invocationId = "string",
#'                   returnControlInvocationResults = list(
#'                     list(
#'                       apiResult = list(
#'                         actionGroup = "string",
#'                         agentId = "string",
#'                         apiPath = "string",
#'                         confirmationState = "CONFIRM"|"DENY",
#'                         httpMethod = "string",
#'                         httpStatusCode = 123,
#'                         responseBody = list(
#'                           list(
#'                             body = "string"
#'                           )
#'                         ),
#'                         responseState = "FAILURE"|"REPROMPT"
#'                       ),
#'                       functionResult = list(
#'                         actionGroup = "string",
#'                         agentId = "string",
#'                         confirmationState = "CONFIRM"|"DENY",
#'                         function = "string",
#'                         responseBody = list(
#'                           list(
#'                             body = "string"
#'                           )
#'                         ),
#'                         responseState = "FAILURE"|"REPROMPT"
#'                       )
#'                     )
#'                   )
#'                 ),
#'                 text = "string",
#'                 type = "TEXT"|"RETURN_CONTROL"
#'               )
#'             ),
#'             codeInterpreterInvocationInput = list(
#'               code = "string",
#'               files = list(
#'                 "string"
#'               )
#'             ),
#'             invocationType = "ACTION_GROUP"|"KNOWLEDGE_BASE"|"FINISH"|"ACTION_GROUP_CODE_INTERPRETER"|"AGENT_COLLABORATOR",
#'             knowledgeBaseLookupInput = list(
#'               knowledgeBaseId = "string",
#'               text = "string"
#'             ),
#'             traceId = "string"
#'           ),
#'           modelInvocationInput = list(
#'             foundationModel = "string",
#'             inferenceConfiguration = list(
#'               maximumLength = 123,
#'               stopSequences = list(
#'                 "string"
#'               ),
#'               temperature = 123.0,
#'               topK = 123,
#'               topP = 123.0
#'             ),
#'             overrideLambda = "string",
#'             parserMode = "DEFAULT"|"OVERRIDDEN",
#'             promptCreationMode = "DEFAULT"|"OVERRIDDEN",
#'             text = "string",
#'             traceId = "string",
#'             type = "PRE_PROCESSING"|"ORCHESTRATION"|"KNOWLEDGE_BASE_RESPONSE_GENERATION"|"POST_PROCESSING"|"ROUTING_CLASSIFIER"
#'           ),
#'           modelInvocationOutput = list(
#'             metadata = list(
#'               usage = list(
#'                 inputTokens = 123,
#'                 outputTokens = 123
#'               )
#'             ),
#'             rawResponse = list(
#'               content = "string"
#'             ),
#'             traceId = "string"
#'           ),
#'           observation = list(
#'             actionGroupInvocationOutput = list(
#'               text = "string"
#'             ),
#'             agentCollaboratorInvocationOutput = list(
#'               agentCollaboratorAliasArn = "string",
#'               agentCollaboratorName = "string",
#'               output = list(
#'                 returnControlPayload = list(
#'                   invocationId = "string",
#'                   invocationInputs = list(
#'                     list(
#'                       apiInvocationInput = list(
#'                         actionGroup = "string",
#'                         actionInvocationType = "RESULT"|"USER_CONFIRMATION"|"USER_CONFIRMATION_AND_RESULT",
#'                         agentId = "string",
#'                         apiPath = "string",
#'                         collaboratorName = "string",
#'                         httpMethod = "string",
#'                         parameters = list(
#'                           list(
#'                             name = "string",
#'                             type = "string",
#'                             value = "string"
#'                           )
#'                         ),
#'                         requestBody = list(
#'                           content = list(
#'                             list(
#'                               properties = list(
#'                                 list(
#'                                   name = "string",
#'                                   type = "string",
#'                                   value = "string"
#'                                 )
#'                               )
#'                             )
#'                           )
#'                         )
#'                       ),
#'                       functionInvocationInput = list(
#'                         actionGroup = "string",
#'                         actionInvocationType = "RESULT"|"USER_CONFIRMATION"|"USER_CONFIRMATION_AND_RESULT",
#'                         agentId = "string",
#'                         collaboratorName = "string",
#'                         function = "string",
#'                         parameters = list(
#'                           list(
#'                             name = "string",
#'                             type = "string",
#'                             value = "string"
#'                           )
#'                         )
#'                       )
#'                     )
#'                   )
#'                 ),
#'                 text = "string",
#'                 type = "TEXT"|"RETURN_CONTROL"
#'               )
#'             ),
#'             codeInterpreterInvocationOutput = list(
#'               executionError = "string",
#'               executionOutput = "string",
#'               executionTimeout = TRUE|FALSE,
#'               files = list(
#'                 "string"
#'               )
#'             ),
#'             finalResponse = list(
#'               text = "string"
#'             ),
#'             knowledgeBaseLookupOutput = list(
#'               retrievedReferences = list(
#'                 list(
#'                   content = list(
#'                     byteContent = "string",
#'                     row = list(
#'                       list(
#'                         columnName = "string",
#'                         columnValue = "string",
#'                         type = "BLOB"|"BOOLEAN"|"DOUBLE"|"NULL"|"LONG"|"STRING"
#'                       )
#'                     ),
#'                     text = "string",
#'                     type = "TEXT"|"IMAGE"|"ROW"
#'                   ),
#'                   location = list(
#'                     confluenceLocation = list(
#'                       url = "string"
#'                     ),
#'                     customDocumentLocation = list(
#'                       id = "string"
#'                     ),
#'                     kendraDocumentLocation = list(
#'                       uri = "string"
#'                     ),
#'                     s3Location = list(
#'                       uri = "string"
#'                     ),
#'                     salesforceLocation = list(
#'                       url = "string"
#'                     ),
#'                     sharePointLocation = list(
#'                       url = "string"
#'                     ),
#'                     sqlLocation = list(
#'                       query = "string"
#'                     ),
#'                     type = "S3"|"WEB"|"CONFLUENCE"|"SALESFORCE"|"SHAREPOINT"|"CUSTOM"|"KENDRA"|"SQL",
#'                     webLocation = list(
#'                       url = "string"
#'                     )
#'                   ),
#'                   metadata = list(
#'                     list()
#'                   )
#'                 )
#'               )
#'             ),
#'             repromptResponse = list(
#'               source = "ACTION_GROUP"|"KNOWLEDGE_BASE"|"PARSER",
#'               text = "string"
#'             ),
#'             traceId = "string",
#'             type = "ACTION_GROUP"|"AGENT_COLLABORATOR"|"KNOWLEDGE_BASE"|"FINISH"|"ASK_USER"|"REPROMPT"
#'           ),
#'           rationale = list(
#'             text = "string",
#'             traceId = "string"
#'           )
#'         ),
#'         postProcessingTrace = list(
#'           modelInvocationInput = list(
#'             foundationModel = "string",
#'             inferenceConfiguration = list(
#'               maximumLength = 123,
#'               stopSequences = list(
#'                 "string"
#'               ),
#'               temperature = 123.0,
#'               topK = 123,
#'               topP = 123.0
#'             ),
#'             overrideLambda = "string",
#'             parserMode = "DEFAULT"|"OVERRIDDEN",
#'             promptCreationMode = "DEFAULT"|"OVERRIDDEN",
#'             text = "string",
#'             traceId = "string",
#'             type = "PRE_PROCESSING"|"ORCHESTRATION"|"KNOWLEDGE_BASE_RESPONSE_GENERATION"|"POST_PROCESSING"|"ROUTING_CLASSIFIER"
#'           ),
#'           modelInvocationOutput = list(
#'             metadata = list(
#'               usage = list(
#'                 inputTokens = 123,
#'                 outputTokens = 123
#'               )
#'             ),
#'             parsedResponse = list(
#'               text = "string"
#'             ),
#'             rawResponse = list(
#'               content = "string"
#'             ),
#'             traceId = "string"
#'           )
#'         ),
#'         preProcessingTrace = list(
#'           modelInvocationInput = list(
#'             foundationModel = "string",
#'             inferenceConfiguration = list(
#'               maximumLength = 123,
#'               stopSequences = list(
#'                 "string"
#'               ),
#'               temperature = 123.0,
#'               topK = 123,
#'               topP = 123.0
#'             ),
#'             overrideLambda = "string",
#'             parserMode = "DEFAULT"|"OVERRIDDEN",
#'             promptCreationMode = "DEFAULT"|"OVERRIDDEN",
#'             text = "string",
#'             traceId = "string",
#'             type = "PRE_PROCESSING"|"ORCHESTRATION"|"KNOWLEDGE_BASE_RESPONSE_GENERATION"|"POST_PROCESSING"|"ROUTING_CLASSIFIER"
#'           ),
#'           modelInvocationOutput = list(
#'             metadata = list(
#'               usage = list(
#'                 inputTokens = 123,
#'                 outputTokens = 123
#'               )
#'             ),
#'             parsedResponse = list(
#'               isValid = TRUE|FALSE,
#'               rationale = "string"
#'             ),
#'             rawResponse = list(
#'               content = "string"
#'             ),
#'             traceId = "string"
#'           )
#'         ),
#'         routingClassifierTrace = list(
#'           invocationInput = list(
#'             actionGroupInvocationInput = list(
#'               actionGroupName = "string",
#'               apiPath = "string",
#'               executionType = "LAMBDA"|"RETURN_CONTROL",
#'               function = "string",
#'               invocationId = "string",
#'               parameters = list(
#'                 list(
#'                   name = "string",
#'                   type = "string",
#'                   value = "string"
#'                 )
#'               ),
#'               requestBody = list(
#'                 content = list(
#'                   list(
#'                     list(
#'                       name = "string",
#'                       type = "string",
#'                       value = "string"
#'                     )
#'                   )
#'                 )
#'               ),
#'               verb = "string"
#'             ),
#'             agentCollaboratorInvocationInput = list(
#'               agentCollaboratorAliasArn = "string",
#'               agentCollaboratorName = "string",
#'               input = list(
#'                 returnControlResults = list(
#'                   invocationId = "string",
#'                   returnControlInvocationResults = list(
#'                     list(
#'                       apiResult = list(
#'                         actionGroup = "string",
#'                         agentId = "string",
#'                         apiPath = "string",
#'                         confirmationState = "CONFIRM"|"DENY",
#'                         httpMethod = "string",
#'                         httpStatusCode = 123,
#'                         responseBody = list(
#'                           list(
#'                             body = "string"
#'                           )
#'                         ),
#'                         responseState = "FAILURE"|"REPROMPT"
#'                       ),
#'                       functionResult = list(
#'                         actionGroup = "string",
#'                         agentId = "string",
#'                         confirmationState = "CONFIRM"|"DENY",
#'                         function = "string",
#'                         responseBody = list(
#'                           list(
#'                             body = "string"
#'                           )
#'                         ),
#'                         responseState = "FAILURE"|"REPROMPT"
#'                       )
#'                     )
#'                   )
#'                 ),
#'                 text = "string",
#'                 type = "TEXT"|"RETURN_CONTROL"
#'               )
#'             ),
#'             codeInterpreterInvocationInput = list(
#'               code = "string",
#'               files = list(
#'                 "string"
#'               )
#'             ),
#'             invocationType = "ACTION_GROUP"|"KNOWLEDGE_BASE"|"FINISH"|"ACTION_GROUP_CODE_INTERPRETER"|"AGENT_COLLABORATOR",
#'             knowledgeBaseLookupInput = list(
#'               knowledgeBaseId = "string",
#'               text = "string"
#'             ),
#'             traceId = "string"
#'           ),
#'           modelInvocationInput = list(
#'             foundationModel = "string",
#'             inferenceConfiguration = list(
#'               maximumLength = 123,
#'               stopSequences = list(
#'                 "string"
#'               ),
#'               temperature = 123.0,
#'               topK = 123,
#'               topP = 123.0
#'             ),
#'             overrideLambda = "string",
#'             parserMode = "DEFAULT"|"OVERRIDDEN",
#'             promptCreationMode = "DEFAULT"|"OVERRIDDEN",
#'             text = "string",
#'             traceId = "string",
#'             type = "PRE_PROCESSING"|"ORCHESTRATION"|"KNOWLEDGE_BASE_RESPONSE_GENERATION"|"POST_PROCESSING"|"ROUTING_CLASSIFIER"
#'           ),
#'           modelInvocationOutput = list(
#'             metadata = list(
#'               usage = list(
#'                 inputTokens = 123,
#'                 outputTokens = 123
#'               )
#'             ),
#'             rawResponse = list(
#'               content = "string"
#'             ),
#'             traceId = "string"
#'           ),
#'           observation = list(
#'             actionGroupInvocationOutput = list(
#'               text = "string"
#'             ),
#'             agentCollaboratorInvocationOutput = list(
#'               agentCollaboratorAliasArn = "string",
#'               agentCollaboratorName = "string",
#'               output = list(
#'                 returnControlPayload = list(
#'                   invocationId = "string",
#'                   invocationInputs = list(
#'                     list(
#'                       apiInvocationInput = list(
#'                         actionGroup = "string",
#'                         actionInvocationType = "RESULT"|"USER_CONFIRMATION"|"USER_CONFIRMATION_AND_RESULT",
#'                         agentId = "string",
#'                         apiPath = "string",
#'                         collaboratorName = "string",
#'                         httpMethod = "string",
#'                         parameters = list(
#'                           list(
#'                             name = "string",
#'                             type = "string",
#'                             value = "string"
#'                           )
#'                         ),
#'                         requestBody = list(
#'                           content = list(
#'                             list(
#'                               properties = list(
#'                                 list(
#'                                   name = "string",
#'                                   type = "string",
#'                                   value = "string"
#'                                 )
#'                               )
#'                             )
#'                           )
#'                         )
#'                       ),
#'                       functionInvocationInput = list(
#'                         actionGroup = "string",
#'                         actionInvocationType = "RESULT"|"USER_CONFIRMATION"|"USER_CONFIRMATION_AND_RESULT",
#'                         agentId = "string",
#'                         collaboratorName = "string",
#'                         function = "string",
#'                         parameters = list(
#'                           list(
#'                             name = "string",
#'                             type = "string",
#'                             value = "string"
#'                           )
#'                         )
#'                       )
#'                     )
#'                   )
#'                 ),
#'                 text = "string",
#'                 type = "TEXT"|"RETURN_CONTROL"
#'               )
#'             ),
#'             codeInterpreterInvocationOutput = list(
#'               executionError = "string",
#'               executionOutput = "string",
#'               executionTimeout = TRUE|FALSE,
#'               files = list(
#'                 "string"
#'               )
#'             ),
#'             finalResponse = list(
#'               text = "string"
#'             ),
#'             knowledgeBaseLookupOutput = list(
#'               retrievedReferences = list(
#'                 list(
#'                   content = list(
#'                     byteContent = "string",
#'                     row = list(
#'                       list(
#'                         columnName = "string",
#'                         columnValue = "string",
#'                         type = "BLOB"|"BOOLEAN"|"DOUBLE"|"NULL"|"LONG"|"STRING"
#'                       )
#'                     ),
#'                     text = "string",
#'                     type = "TEXT"|"IMAGE"|"ROW"
#'                   ),
#'                   location = list(
#'                     confluenceLocation = list(
#'                       url = "string"
#'                     ),
#'                     customDocumentLocation = list(
#'                       id = "string"
#'                     ),
#'                     kendraDocumentLocation = list(
#'                       uri = "string"
#'                     ),
#'                     s3Location = list(
#'                       uri = "string"
#'                     ),
#'                     salesforceLocation = list(
#'                       url = "string"
#'                     ),
#'                     sharePointLocation = list(
#'                       url = "string"
#'                     ),
#'                     sqlLocation = list(
#'                       query = "string"
#'                     ),
#'                     type = "S3"|"WEB"|"CONFLUENCE"|"SALESFORCE"|"SHAREPOINT"|"CUSTOM"|"KENDRA"|"SQL",
#'                     webLocation = list(
#'                       url = "string"
#'                     )
#'                   ),
#'                   metadata = list(
#'                     list()
#'                   )
#'                 )
#'               )
#'             ),
#'             repromptResponse = list(
#'               source = "ACTION_GROUP"|"KNOWLEDGE_BASE"|"PARSER",
#'               text = "string"
#'             ),
#'             traceId = "string",
#'             type = "ACTION_GROUP"|"AGENT_COLLABORATOR"|"KNOWLEDGE_BASE"|"FINISH"|"ASK_USER"|"REPROMPT"
#'           )
#'         )
#'       )
#'     ),
#'     validationException = list(
#'       message = "string"
#'     )
#'   ),
#'   contentType = "string",
#'   memoryId = "string",
#'   sessionId = "string"
#' )
#' ```
#'
#' @section Request syntax:
#' ```
#' svc$invoke_agent(
#'   agentAliasId = "string",
#'   agentId = "string",
#'   bedrockModelConfigurations = list(
#'     performanceConfig = list(
#'       latency = "standard"|"optimized"
#'     )
#'   ),
#'   enableTrace = TRUE|FALSE,
#'   endSession = TRUE|FALSE,
#'   inputText = "string",
#'   memoryId = "string",
#'   sessionId = "string",
#'   sessionState = list(
#'     conversationHistory = list(
#'       messages = list(
#'         list(
#'           content = list(
#'             list(
#'               text = "string"
#'             )
#'           ),
#'           role = "user"|"assistant"
#'         )
#'       )
#'     ),
#'     files = list(
#'       list(
#'         name = "string",
#'         source = list(
#'           byteContent = list(
#'             data = raw,
#'             mediaType = "string"
#'           ),
#'           s3Location = list(
#'             uri = "string"
#'           ),
#'           sourceType = "S3"|"BYTE_CONTENT"
#'         ),
#'         useCase = "CODE_INTERPRETER"|"CHAT"
#'       )
#'     ),
#'     invocationId = "string",
#'     knowledgeBaseConfigurations = list(
#'       list(
#'         knowledgeBaseId = "string",
#'         retrievalConfiguration = list(
#'           vectorSearchConfiguration = list(
#'             filter = list(
#'               andAll = list(
#'                 list()
#'               ),
#'               equals = list(
#'                 key = "string",
#'                 value = list()
#'               ),
#'               greaterThan = list(
#'                 key = "string",
#'                 value = list()
#'               ),
#'               greaterThanOrEquals = list(
#'                 key = "string",
#'                 value = list()
#'               ),
#'               in = list(
#'                 key = "string",
#'                 value = list()
#'               ),
#'               lessThan = list(
#'                 key = "string",
#'                 value = list()
#'               ),
#'               lessThanOrEquals = list(
#'                 key = "string",
#'                 value = list()
#'               ),
#'               listContains = list(
#'                 key = "string",
#'                 value = list()
#'               ),
#'               notEquals = list(
#'                 key = "string",
#'                 value = list()
#'               ),
#'               notIn = list(
#'                 key = "string",
#'                 value = list()
#'               ),
#'               orAll = list(
#'                 list()
#'               ),
#'               startsWith = list(
#'                 key = "string",
#'                 value = list()
#'               ),
#'               stringContains = list(
#'                 key = "string",
#'                 value = list()
#'               )
#'             ),
#'             implicitFilterConfiguration = list(
#'               metadataAttributes = list(
#'                 list(
#'                   description = "string",
#'                   key = "string",
#'                   type = "STRING"|"NUMBER"|"BOOLEAN"|"STRING_LIST"
#'                 )
#'               ),
#'               modelArn = "string"
#'             ),
#'             numberOfResults = 123,
#'             overrideSearchType = "HYBRID"|"SEMANTIC",
#'             rerankingConfiguration = list(
#'               bedrockRerankingConfiguration = list(
#'                 metadataConfiguration = list(
#'                   selectionMode = "SELECTIVE"|"ALL",
#'                   selectiveModeConfiguration = list(
#'                     fieldsToExclude = list(
#'                       list(
#'                         fieldName = "string"
#'                       )
#'                     ),
#'                     fieldsToInclude = list(
#'                       list(
#'                         fieldName = "string"
#'                       )
#'                     )
#'                   )
#'                 ),
#'                 modelConfiguration = list(
#'                   additionalModelRequestFields = list(
#'                     list()
#'                   ),
#'                   modelArn = "string"
#'                 ),
#'                 numberOfRerankedResults = 123
#'               ),
#'               type = "BEDROCK_RERANKING_MODEL"
#'             )
#'           )
#'         )
#'       )
#'     ),
#'     promptSessionAttributes = list(
#'       "string"
#'     ),
#'     returnControlInvocationResults = list(
#'       list(
#'         apiResult = list(
#'           actionGroup = "string",
#'           agentId = "string",
#'           apiPath = "string",
#'           confirmationState = "CONFIRM"|"DENY",
#'           httpMethod = "string",
#'           httpStatusCode = 123,
#'           responseBody = list(
#'             list(
#'               body = "string"
#'             )
#'           ),
#'           responseState = "FAILURE"|"REPROMPT"
#'         ),
#'         functionResult = list(
#'           actionGroup = "string",
#'           agentId = "string",
#'           confirmationState = "CONFIRM"|"DENY",
#'           function = "string",
#'           responseBody = list(
#'             list(
#'               body = "string"
#'             )
#'           ),
#'           responseState = "FAILURE"|"REPROMPT"
#'         )
#'       )
#'     ),
#'     sessionAttributes = list(
#'       "string"
#'     )
#'   ),
#'   sourceArn = "string",
#'   streamingConfigurations = list(
#'     applyGuardrailInterval = 123,
#'     streamFinalResponse = TRUE|FALSE
#'   )
#' )
#' ```
#'
#' @keywords internal
#'
#' @rdname bedrockagentruntime_invoke_agent
#'
#' @aliases bedrockagentruntime_invoke_agent
bedrockagentruntime_invoke_agent <- function(agentAliasId, agentId, bedrockModelConfigurations = NULL, enableTrace = NULL, endSession = NULL, inputText = NULL, memoryId = NULL, sessionId, sessionState = NULL, sourceArn = NULL, streamingConfigurations = NULL) {
  op <- new_operation(
    name = "InvokeAgent",
    http_method = "POST",
    http_path = "/agents/{agentId}/agentAliases/{agentAliasId}/sessions/{sessionId}/text",
    host_prefix = "",
    paginator = list(),
    stream_api = TRUE
  )
  input <- .bedrockagentruntime$invoke_agent_input(agentAliasId = agentAliasId, agentId = agentId, bedrockModelConfigurations = bedrockModelConfigurations, enableTrace = enableTrace, endSession = endSession, inputText = inputText, memoryId = memoryId, sessionId = sessionId, sessionState = sessionState, sourceArn = sourceArn, streamingConfigurations = streamingConfigurations)
  output <- .bedrockagentruntime$invoke_agent_output()
  config <- get_config()
  svc <- .bedrockagentruntime$service(config, op)
  request <- new_request(svc, op, input, output)
  response <- send_request(request)
  return(response)
}
.bedrockagentruntime$operations$invoke_agent <- bedrockagentruntime_invoke_agent

#' Invokes an alias of a flow to run the inputs that you specify and return
#' the output of each node as a stream
#'
#' @description
#' Invokes an alias of a flow to run the inputs that you specify and return
#' the output of each node as a stream. If there's an error, the error is
#' returned. For more information, see [Test a flow in Amazon
#' Bedrock](https://docs.aws.amazon.com/bedrock/latest/userguide/flows-test.html)
#' in the [Amazon Bedrock User
#' Guide](https://docs.aws.amazon.com/bedrock/latest/userguide/what-is-bedrock.html).
#' 
#' The CLI doesn't support streaming operations in Amazon Bedrock,
#' including [`invoke_flow`][bedrockagentruntime_invoke_flow].
#'
#' @usage
#' bedrockagentruntime_invoke_flow(enableTrace, executionId,
#'   flowAliasIdentifier, flowIdentifier, inputs,
#'   modelPerformanceConfiguration)
#'
#' @param enableTrace Specifies whether to return the trace for the flow or not. Traces track
#' inputs and outputs for nodes in the flow. For more information, see
#' [Track each step in your prompt flow by viewing its trace in Amazon
#' Bedrock](https://docs.aws.amazon.com/bedrock/latest/userguide/flows-trace.html).
#' @param executionId The unique identifier for the current flow execution. If you don't
#' provide a value, Amazon Bedrock creates the identifier for you.
#' @param flowAliasIdentifier &#91;required&#93; The unique identifier of the flow alias.
#' @param flowIdentifier &#91;required&#93; The unique identifier of the flow.
#' @param inputs &#91;required&#93; A list of objects, each containing information about an input into the
#' flow.
#' @param modelPerformanceConfiguration Model performance settings for the request.
#'
#' @return
#' A list with the following syntax:
#' ```
#' list(
#'   executionId = "string",
#'   responseStream = list(
#'     accessDeniedException = list(
#'       message = "string"
#'     ),
#'     badGatewayException = list(
#'       message = "string",
#'       resourceName = "string"
#'     ),
#'     conflictException = list(
#'       message = "string"
#'     ),
#'     dependencyFailedException = list(
#'       message = "string",
#'       resourceName = "string"
#'     ),
#'     flowCompletionEvent = list(
#'       completionReason = "SUCCESS"|"INPUT_REQUIRED"
#'     ),
#'     flowMultiTurnInputRequestEvent = list(
#'       content = list(
#'         document = list()
#'       ),
#'       nodeName = "string",
#'       nodeType = "FlowInputNode"|"FlowOutputNode"|"LambdaFunctionNode"|"KnowledgeBaseNode"|"PromptNode"|"ConditionNode"|"LexNode"
#'     ),
#'     flowOutputEvent = list(
#'       content = list(
#'         document = list()
#'       ),
#'       nodeName = "string",
#'       nodeType = "FlowInputNode"|"FlowOutputNode"|"LambdaFunctionNode"|"KnowledgeBaseNode"|"PromptNode"|"ConditionNode"|"LexNode"
#'     ),
#'     flowTraceEvent = list(
#'       trace = list(
#'         conditionNodeResultTrace = list(
#'           nodeName = "string",
#'           satisfiedConditions = list(
#'             list(
#'               conditionName = "string"
#'             )
#'           ),
#'           timestamp = as.POSIXct(
#'             "2015-01-01"
#'           )
#'         ),
#'         nodeInputTrace = list(
#'           fields = list(
#'             list(
#'               content = list(
#'                 document = list()
#'               ),
#'               nodeInputName = "string"
#'             )
#'           ),
#'           nodeName = "string",
#'           timestamp = as.POSIXct(
#'             "2015-01-01"
#'           )
#'         ),
#'         nodeOutputTrace = list(
#'           fields = list(
#'             list(
#'               content = list(
#'                 document = list()
#'               ),
#'               nodeOutputName = "string"
#'             )
#'           ),
#'           nodeName = "string",
#'           timestamp = as.POSIXct(
#'             "2015-01-01"
#'           )
#'         )
#'       )
#'     ),
#'     internalServerException = list(
#'       message = "string"
#'     ),
#'     resourceNotFoundException = list(
#'       message = "string"
#'     ),
#'     serviceQuotaExceededException = list(
#'       message = "string"
#'     ),
#'     throttlingException = list(
#'       message = "string"
#'     ),
#'     validationException = list(
#'       message = "string"
#'     )
#'   )
#' )
#' ```
#'
#' @section Request syntax:
#' ```
#' svc$invoke_flow(
#'   enableTrace = TRUE|FALSE,
#'   executionId = "string",
#'   flowAliasIdentifier = "string",
#'   flowIdentifier = "string",
#'   inputs = list(
#'     list(
#'       content = list(
#'         document = list()
#'       ),
#'       nodeInputName = "string",
#'       nodeName = "string",
#'       nodeOutputName = "string"
#'     )
#'   ),
#'   modelPerformanceConfiguration = list(
#'     performanceConfig = list(
#'       latency = "standard"|"optimized"
#'     )
#'   )
#' )
#' ```
#'
#' @keywords internal
#'
#' @rdname bedrockagentruntime_invoke_flow
#'
#' @aliases bedrockagentruntime_invoke_flow
bedrockagentruntime_invoke_flow <- function(enableTrace = NULL, executionId = NULL, flowAliasIdentifier, flowIdentifier, inputs, modelPerformanceConfiguration = NULL) {
  op <- new_operation(
    name = "InvokeFlow",
    http_method = "POST",
    http_path = "/flows/{flowIdentifier}/aliases/{flowAliasIdentifier}",
    host_prefix = "",
    paginator = list(),
    stream_api = TRUE
  )
  input <- .bedrockagentruntime$invoke_flow_input(enableTrace = enableTrace, executionId = executionId, flowAliasIdentifier = flowAliasIdentifier, flowIdentifier = flowIdentifier, inputs = inputs, modelPerformanceConfiguration = modelPerformanceConfiguration)
  output <- .bedrockagentruntime$invoke_flow_output()
  config <- get_config()
  svc <- .bedrockagentruntime$service(config, op)
  request <- new_request(svc, op, input, output)
  response <- send_request(request)
  return(response)
}
.bedrockagentruntime$operations$invoke_flow <- bedrockagentruntime_invoke_flow

#' Invokes an inline Amazon Bedrock agent using the configurations you
#' provide with the request
#'
#' @description
#' Invokes an inline Amazon Bedrock agent using the configurations you
#' provide with the request.
#' 
#' -   Specify the following fields for security purposes.
#' 
#'     -   (Optional) `customerEncryptionKeyArn` – The Amazon Resource Name
#'         (ARN) of a KMS key to encrypt the creation of the agent.
#' 
#'     -   (Optional) `idleSessionTTLinSeconds` – Specify the number of
#'         seconds for which the agent should maintain session information.
#'         After this time expires, the subsequent
#'         [`invoke_inline_agent`][bedrockagentruntime_invoke_inline_agent]
#'         request begins a new session.
#' 
#' -   To override the default prompt behavior for agent orchestration and
#'     to use advanced prompts, include a `promptOverrideConfiguration`
#'     object. For more information, see [Advanced
#'     prompts](https://docs.aws.amazon.com/bedrock/latest/userguide/advanced-prompts.html).
#' 
#' -   The agent instructions will not be honored if your agent has only
#'     one knowledge base, uses default prompts, has no action group, and
#'     user input is disabled.
#'
#' @usage
#' bedrockagentruntime_invoke_inline_agent(actionGroups,
#'   bedrockModelConfigurations, customerEncryptionKeyArn, enableTrace,
#'   endSession, foundationModel, guardrailConfiguration,
#'   idleSessionTTLInSeconds, inlineSessionState, inputText, instruction,
#'   knowledgeBases, promptOverrideConfiguration, sessionId,
#'   streamingConfigurations)
#'
#' @param actionGroups A list of action groups with each action group defining the action the
#' inline agent needs to carry out.
#' @param bedrockModelConfigurations Model settings for the request.
#' @param customerEncryptionKeyArn The Amazon Resource Name (ARN) of the Amazon Web Services KMS key to use
#' to encrypt your inline agent.
#' @param enableTrace Specifies whether to turn on the trace or not to track the agent's
#' reasoning process. For more information, see [Using
#' trace](https://docs.aws.amazon.com/bedrock/latest/userguide/trace-events.html).
#' 
#'      </p> 
#' @param endSession Specifies whether to end the session with the inline agent or not.
#' @param foundationModel &#91;required&#93; The [model identifier
#' (ID)](https://docs.aws.amazon.com/bedrock/latest/userguide/models-supported.html#model-ids-arns)
#' of the model to use for orchestration by the inline agent. For example,
#' `meta.llama3-1-70b-instruct-v1:0`.
#' @param guardrailConfiguration The
#' [guardrails](https://docs.aws.amazon.com/bedrock/latest/userguide/guardrails.html)
#' to assign to the inline agent.
#' @param idleSessionTTLInSeconds The number of seconds for which the inline agent should maintain session
#' information. After this time expires, the subsequent
#' [`invoke_inline_agent`][bedrockagentruntime_invoke_inline_agent] request
#' begins a new session.
#' 
#' A user interaction remains active for the amount of time specified. If
#' no conversation occurs during this time, the session expires and the
#' data provided before the timeout is deleted.
#' @param inlineSessionState Parameters that specify the various attributes of a sessions. You can
#' include attributes for the session or prompt or, if you configured an
#' action group to return control, results from invocation of the action
#' group. For more information, see [Control session
#' context](https://docs.aws.amazon.com/bedrock/latest/userguide/agents-session-state.html).
#' 
#' If you include `returnControlInvocationResults` in the `sessionState`
#' field, the `inputText` field will be ignored.
#' @param inputText The prompt text to send to the agent.
#' 
#' If you include `returnControlInvocationResults` in the `sessionState`
#' field, the `inputText` field will be ignored.
#' @param instruction &#91;required&#93; The instructions that tell the inline agent what it should do and how it
#' should interact with users.
#' @param knowledgeBases Contains information of the knowledge bases to associate with.
#' @param promptOverrideConfiguration Configurations for advanced prompts used to override the default prompts
#' to enhance the accuracy of the inline agent.
#' @param sessionId &#91;required&#93; The unique identifier of the session. Use the same value across requests
#' to continue the same conversation.
#' @param streamingConfigurations Specifies the configurations for streaming.
#' 
#' To use agent streaming, you need permissions to perform the
#' `bedrock:InvokeModelWithResponseStream` action.
#'
#' @return
#' A list with the following syntax:
#' ```
#' list(
#'   completion = list(
#'     accessDeniedException = list(
#'       message = "string"
#'     ),
#'     badGatewayException = list(
#'       message = "string",
#'       resourceName = "string"
#'     ),
#'     chunk = list(
#'       attribution = list(
#'         citations = list(
#'           list(
#'             generatedResponsePart = list(
#'               textResponsePart = list(
#'                 span = list(
#'                   end = 123,
#'                   start = 123
#'                 ),
#'                 text = "string"
#'               )
#'             ),
#'             retrievedReferences = list(
#'               list(
#'                 content = list(
#'                   byteContent = "string",
#'                   row = list(
#'                     list(
#'                       columnName = "string",
#'                       columnValue = "string",
#'                       type = "BLOB"|"BOOLEAN"|"DOUBLE"|"NULL"|"LONG"|"STRING"
#'                     )
#'                   ),
#'                   text = "string",
#'                   type = "TEXT"|"IMAGE"|"ROW"
#'                 ),
#'                 location = list(
#'                   confluenceLocation = list(
#'                     url = "string"
#'                   ),
#'                   customDocumentLocation = list(
#'                     id = "string"
#'                   ),
#'                   kendraDocumentLocation = list(
#'                     uri = "string"
#'                   ),
#'                   s3Location = list(
#'                     uri = "string"
#'                   ),
#'                   salesforceLocation = list(
#'                     url = "string"
#'                   ),
#'                   sharePointLocation = list(
#'                     url = "string"
#'                   ),
#'                   sqlLocation = list(
#'                     query = "string"
#'                   ),
#'                   type = "S3"|"WEB"|"CONFLUENCE"|"SALESFORCE"|"SHAREPOINT"|"CUSTOM"|"KENDRA"|"SQL",
#'                   webLocation = list(
#'                     url = "string"
#'                   )
#'                 ),
#'                 metadata = list(
#'                   list()
#'                 )
#'               )
#'             )
#'           )
#'         )
#'       ),
#'       bytes = raw
#'     ),
#'     conflictException = list(
#'       message = "string"
#'     ),
#'     dependencyFailedException = list(
#'       message = "string",
#'       resourceName = "string"
#'     ),
#'     files = list(
#'       files = list(
#'         list(
#'           bytes = raw,
#'           name = "string",
#'           type = "string"
#'         )
#'       )
#'     ),
#'     internalServerException = list(
#'       message = "string"
#'     ),
#'     resourceNotFoundException = list(
#'       message = "string"
#'     ),
#'     returnControl = list(
#'       invocationId = "string",
#'       invocationInputs = list(
#'         list(
#'           apiInvocationInput = list(
#'             actionGroup = "string",
#'             actionInvocationType = "RESULT"|"USER_CONFIRMATION"|"USER_CONFIRMATION_AND_RESULT",
#'             agentId = "string",
#'             apiPath = "string",
#'             collaboratorName = "string",
#'             httpMethod = "string",
#'             parameters = list(
#'               list(
#'                 name = "string",
#'                 type = "string",
#'                 value = "string"
#'               )
#'             ),
#'             requestBody = list(
#'               content = list(
#'                 list(
#'                   properties = list(
#'                     list(
#'                       name = "string",
#'                       type = "string",
#'                       value = "string"
#'                     )
#'                   )
#'                 )
#'               )
#'             )
#'           ),
#'           functionInvocationInput = list(
#'             actionGroup = "string",
#'             actionInvocationType = "RESULT"|"USER_CONFIRMATION"|"USER_CONFIRMATION_AND_RESULT",
#'             agentId = "string",
#'             collaboratorName = "string",
#'             function = "string",
#'             parameters = list(
#'               list(
#'                 name = "string",
#'                 type = "string",
#'                 value = "string"
#'               )
#'             )
#'           )
#'         )
#'       )
#'     ),
#'     serviceQuotaExceededException = list(
#'       message = "string"
#'     ),
#'     throttlingException = list(
#'       message = "string"
#'     ),
#'     trace = list(
#'       sessionId = "string",
#'       trace = list(
#'         customOrchestrationTrace = list(
#'           event = list(
#'             text = "string"
#'           ),
#'           traceId = "string"
#'         ),
#'         failureTrace = list(
#'           failureReason = "string",
#'           traceId = "string"
#'         ),
#'         guardrailTrace = list(
#'           action = "INTERVENED"|"NONE",
#'           inputAssessments = list(
#'             list(
#'               contentPolicy = list(
#'                 filters = list(
#'                   list(
#'                     action = "BLOCKED",
#'                     confidence = "NONE"|"LOW"|"MEDIUM"|"HIGH",
#'                     type = "INSULTS"|"HATE"|"SEXUAL"|"VIOLENCE"|"MISCONDUCT"|"PROMPT_ATTACK"
#'                   )
#'                 )
#'               ),
#'               sensitiveInformationPolicy = list(
#'                 piiEntities = list(
#'                   list(
#'                     action = "BLOCKED"|"ANONYMIZED",
#'                     match = "string",
#'                     type = "ADDRESS"|"AGE"|"AWS_ACCESS_KEY"|"AWS_SECRET_KEY"|"CA_HEALTH_NUMBER"|"CA_SOCIAL_INSURANCE_NUMBER"|"CREDIT_DEBIT_CARD_CVV"|"CREDIT_DEBIT_CARD_EXPIRY"|"CREDIT_DEBIT_CARD_NUMBER"|"DRIVER_ID"|"EMAIL"|"INTERNATIONAL_BANK_ACCOUNT_NUMBER"|"IP_ADDRESS"|"LICENSE_PLATE"|"MAC_ADDRESS"|"NAME"|"PASSWORD"|"PHONE"|"PIN"|"SWIFT_CODE"|"UK_NATIONAL_HEALTH_SERVICE_NUMBER"|"UK_NATIONAL_INSURANCE_NUMBER"|"UK_UNIQUE_TAXPAYER_REFERENCE_NUMBER"|"URL"|"USERNAME"|"US_BANK_ACCOUNT_NUMBER"|"US_BANK_ROUTING_NUMBER"|"US_INDIVIDUAL_TAX_IDENTIFICATION_NUMBER"|"US_PASSPORT_NUMBER"|"US_SOCIAL_SECURITY_NUMBER"|"VEHICLE_IDENTIFICATION_NUMBER"
#'                   )
#'                 ),
#'                 regexes = list(
#'                   list(
#'                     action = "BLOCKED"|"ANONYMIZED",
#'                     match = "string",
#'                     name = "string",
#'                     regex = "string"
#'                   )
#'                 )
#'               ),
#'               topicPolicy = list(
#'                 topics = list(
#'                   list(
#'                     action = "BLOCKED",
#'                     name = "string",
#'                     type = "DENY"
#'                   )
#'                 )
#'               ),
#'               wordPolicy = list(
#'                 customWords = list(
#'                   list(
#'                     action = "BLOCKED",
#'                     match = "string"
#'                   )
#'                 ),
#'                 managedWordLists = list(
#'                   list(
#'                     action = "BLOCKED",
#'                     match = "string",
#'                     type = "PROFANITY"
#'                   )
#'                 )
#'               )
#'             )
#'           ),
#'           outputAssessments = list(
#'             list(
#'               contentPolicy = list(
#'                 filters = list(
#'                   list(
#'                     action = "BLOCKED",
#'                     confidence = "NONE"|"LOW"|"MEDIUM"|"HIGH",
#'                     type = "INSULTS"|"HATE"|"SEXUAL"|"VIOLENCE"|"MISCONDUCT"|"PROMPT_ATTACK"
#'                   )
#'                 )
#'               ),
#'               sensitiveInformationPolicy = list(
#'                 piiEntities = list(
#'                   list(
#'                     action = "BLOCKED"|"ANONYMIZED",
#'                     match = "string",
#'                     type = "ADDRESS"|"AGE"|"AWS_ACCESS_KEY"|"AWS_SECRET_KEY"|"CA_HEALTH_NUMBER"|"CA_SOCIAL_INSURANCE_NUMBER"|"CREDIT_DEBIT_CARD_CVV"|"CREDIT_DEBIT_CARD_EXPIRY"|"CREDIT_DEBIT_CARD_NUMBER"|"DRIVER_ID"|"EMAIL"|"INTERNATIONAL_BANK_ACCOUNT_NUMBER"|"IP_ADDRESS"|"LICENSE_PLATE"|"MAC_ADDRESS"|"NAME"|"PASSWORD"|"PHONE"|"PIN"|"SWIFT_CODE"|"UK_NATIONAL_HEALTH_SERVICE_NUMBER"|"UK_NATIONAL_INSURANCE_NUMBER"|"UK_UNIQUE_TAXPAYER_REFERENCE_NUMBER"|"URL"|"USERNAME"|"US_BANK_ACCOUNT_NUMBER"|"US_BANK_ROUTING_NUMBER"|"US_INDIVIDUAL_TAX_IDENTIFICATION_NUMBER"|"US_PASSPORT_NUMBER"|"US_SOCIAL_SECURITY_NUMBER"|"VEHICLE_IDENTIFICATION_NUMBER"
#'                   )
#'                 ),
#'                 regexes = list(
#'                   list(
#'                     action = "BLOCKED"|"ANONYMIZED",
#'                     match = "string",
#'                     name = "string",
#'                     regex = "string"
#'                   )
#'                 )
#'               ),
#'               topicPolicy = list(
#'                 topics = list(
#'                   list(
#'                     action = "BLOCKED",
#'                     name = "string",
#'                     type = "DENY"
#'                   )
#'                 )
#'               ),
#'               wordPolicy = list(
#'                 customWords = list(
#'                   list(
#'                     action = "BLOCKED",
#'                     match = "string"
#'                   )
#'                 ),
#'                 managedWordLists = list(
#'                   list(
#'                     action = "BLOCKED",
#'                     match = "string",
#'                     type = "PROFANITY"
#'                   )
#'                 )
#'               )
#'             )
#'           ),
#'           traceId = "string"
#'         ),
#'         orchestrationTrace = list(
#'           invocationInput = list(
#'             actionGroupInvocationInput = list(
#'               actionGroupName = "string",
#'               apiPath = "string",
#'               executionType = "LAMBDA"|"RETURN_CONTROL",
#'               function = "string",
#'               invocationId = "string",
#'               parameters = list(
#'                 list(
#'                   name = "string",
#'                   type = "string",
#'                   value = "string"
#'                 )
#'               ),
#'               requestBody = list(
#'                 content = list(
#'                   list(
#'                     list(
#'                       name = "string",
#'                       type = "string",
#'                       value = "string"
#'                     )
#'                   )
#'                 )
#'               ),
#'               verb = "string"
#'             ),
#'             agentCollaboratorInvocationInput = list(
#'               agentCollaboratorAliasArn = "string",
#'               agentCollaboratorName = "string",
#'               input = list(
#'                 returnControlResults = list(
#'                   invocationId = "string",
#'                   returnControlInvocationResults = list(
#'                     list(
#'                       apiResult = list(
#'                         actionGroup = "string",
#'                         agentId = "string",
#'                         apiPath = "string",
#'                         confirmationState = "CONFIRM"|"DENY",
#'                         httpMethod = "string",
#'                         httpStatusCode = 123,
#'                         responseBody = list(
#'                           list(
#'                             body = "string"
#'                           )
#'                         ),
#'                         responseState = "FAILURE"|"REPROMPT"
#'                       ),
#'                       functionResult = list(
#'                         actionGroup = "string",
#'                         agentId = "string",
#'                         confirmationState = "CONFIRM"|"DENY",
#'                         function = "string",
#'                         responseBody = list(
#'                           list(
#'                             body = "string"
#'                           )
#'                         ),
#'                         responseState = "FAILURE"|"REPROMPT"
#'                       )
#'                     )
#'                   )
#'                 ),
#'                 text = "string",
#'                 type = "TEXT"|"RETURN_CONTROL"
#'               )
#'             ),
#'             codeInterpreterInvocationInput = list(
#'               code = "string",
#'               files = list(
#'                 "string"
#'               )
#'             ),
#'             invocationType = "ACTION_GROUP"|"KNOWLEDGE_BASE"|"FINISH"|"ACTION_GROUP_CODE_INTERPRETER"|"AGENT_COLLABORATOR",
#'             knowledgeBaseLookupInput = list(
#'               knowledgeBaseId = "string",
#'               text = "string"
#'             ),
#'             traceId = "string"
#'           ),
#'           modelInvocationInput = list(
#'             foundationModel = "string",
#'             inferenceConfiguration = list(
#'               maximumLength = 123,
#'               stopSequences = list(
#'                 "string"
#'               ),
#'               temperature = 123.0,
#'               topK = 123,
#'               topP = 123.0
#'             ),
#'             overrideLambda = "string",
#'             parserMode = "DEFAULT"|"OVERRIDDEN",
#'             promptCreationMode = "DEFAULT"|"OVERRIDDEN",
#'             text = "string",
#'             traceId = "string",
#'             type = "PRE_PROCESSING"|"ORCHESTRATION"|"KNOWLEDGE_BASE_RESPONSE_GENERATION"|"POST_PROCESSING"|"ROUTING_CLASSIFIER"
#'           ),
#'           modelInvocationOutput = list(
#'             metadata = list(
#'               usage = list(
#'                 inputTokens = 123,
#'                 outputTokens = 123
#'               )
#'             ),
#'             rawResponse = list(
#'               content = "string"
#'             ),
#'             traceId = "string"
#'           ),
#'           observation = list(
#'             actionGroupInvocationOutput = list(
#'               text = "string"
#'             ),
#'             agentCollaboratorInvocationOutput = list(
#'               agentCollaboratorAliasArn = "string",
#'               agentCollaboratorName = "string",
#'               output = list(
#'                 returnControlPayload = list(
#'                   invocationId = "string",
#'                   invocationInputs = list(
#'                     list(
#'                       apiInvocationInput = list(
#'                         actionGroup = "string",
#'                         actionInvocationType = "RESULT"|"USER_CONFIRMATION"|"USER_CONFIRMATION_AND_RESULT",
#'                         agentId = "string",
#'                         apiPath = "string",
#'                         collaboratorName = "string",
#'                         httpMethod = "string",
#'                         parameters = list(
#'                           list(
#'                             name = "string",
#'                             type = "string",
#'                             value = "string"
#'                           )
#'                         ),
#'                         requestBody = list(
#'                           content = list(
#'                             list(
#'                               properties = list(
#'                                 list(
#'                                   name = "string",
#'                                   type = "string",
#'                                   value = "string"
#'                                 )
#'                               )
#'                             )
#'                           )
#'                         )
#'                       ),
#'                       functionInvocationInput = list(
#'                         actionGroup = "string",
#'                         actionInvocationType = "RESULT"|"USER_CONFIRMATION"|"USER_CONFIRMATION_AND_RESULT",
#'                         agentId = "string",
#'                         collaboratorName = "string",
#'                         function = "string",
#'                         parameters = list(
#'                           list(
#'                             name = "string",
#'                             type = "string",
#'                             value = "string"
#'                           )
#'                         )
#'                       )
#'                     )
#'                   )
#'                 ),
#'                 text = "string",
#'                 type = "TEXT"|"RETURN_CONTROL"
#'               )
#'             ),
#'             codeInterpreterInvocationOutput = list(
#'               executionError = "string",
#'               executionOutput = "string",
#'               executionTimeout = TRUE|FALSE,
#'               files = list(
#'                 "string"
#'               )
#'             ),
#'             finalResponse = list(
#'               text = "string"
#'             ),
#'             knowledgeBaseLookupOutput = list(
#'               retrievedReferences = list(
#'                 list(
#'                   content = list(
#'                     byteContent = "string",
#'                     row = list(
#'                       list(
#'                         columnName = "string",
#'                         columnValue = "string",
#'                         type = "BLOB"|"BOOLEAN"|"DOUBLE"|"NULL"|"LONG"|"STRING"
#'                       )
#'                     ),
#'                     text = "string",
#'                     type = "TEXT"|"IMAGE"|"ROW"
#'                   ),
#'                   location = list(
#'                     confluenceLocation = list(
#'                       url = "string"
#'                     ),
#'                     customDocumentLocation = list(
#'                       id = "string"
#'                     ),
#'                     kendraDocumentLocation = list(
#'                       uri = "string"
#'                     ),
#'                     s3Location = list(
#'                       uri = "string"
#'                     ),
#'                     salesforceLocation = list(
#'                       url = "string"
#'                     ),
#'                     sharePointLocation = list(
#'                       url = "string"
#'                     ),
#'                     sqlLocation = list(
#'                       query = "string"
#'                     ),
#'                     type = "S3"|"WEB"|"CONFLUENCE"|"SALESFORCE"|"SHAREPOINT"|"CUSTOM"|"KENDRA"|"SQL",
#'                     webLocation = list(
#'                       url = "string"
#'                     )
#'                   ),
#'                   metadata = list(
#'                     list()
#'                   )
#'                 )
#'               )
#'             ),
#'             repromptResponse = list(
#'               source = "ACTION_GROUP"|"KNOWLEDGE_BASE"|"PARSER",
#'               text = "string"
#'             ),
#'             traceId = "string",
#'             type = "ACTION_GROUP"|"AGENT_COLLABORATOR"|"KNOWLEDGE_BASE"|"FINISH"|"ASK_USER"|"REPROMPT"
#'           ),
#'           rationale = list(
#'             text = "string",
#'             traceId = "string"
#'           )
#'         ),
#'         postProcessingTrace = list(
#'           modelInvocationInput = list(
#'             foundationModel = "string",
#'             inferenceConfiguration = list(
#'               maximumLength = 123,
#'               stopSequences = list(
#'                 "string"
#'               ),
#'               temperature = 123.0,
#'               topK = 123,
#'               topP = 123.0
#'             ),
#'             overrideLambda = "string",
#'             parserMode = "DEFAULT"|"OVERRIDDEN",
#'             promptCreationMode = "DEFAULT"|"OVERRIDDEN",
#'             text = "string",
#'             traceId = "string",
#'             type = "PRE_PROCESSING"|"ORCHESTRATION"|"KNOWLEDGE_BASE_RESPONSE_GENERATION"|"POST_PROCESSING"|"ROUTING_CLASSIFIER"
#'           ),
#'           modelInvocationOutput = list(
#'             metadata = list(
#'               usage = list(
#'                 inputTokens = 123,
#'                 outputTokens = 123
#'               )
#'             ),
#'             parsedResponse = list(
#'               text = "string"
#'             ),
#'             rawResponse = list(
#'               content = "string"
#'             ),
#'             traceId = "string"
#'           )
#'         ),
#'         preProcessingTrace = list(
#'           modelInvocationInput = list(
#'             foundationModel = "string",
#'             inferenceConfiguration = list(
#'               maximumLength = 123,
#'               stopSequences = list(
#'                 "string"
#'               ),
#'               temperature = 123.0,
#'               topK = 123,
#'               topP = 123.0
#'             ),
#'             overrideLambda = "string",
#'             parserMode = "DEFAULT"|"OVERRIDDEN",
#'             promptCreationMode = "DEFAULT"|"OVERRIDDEN",
#'             text = "string",
#'             traceId = "string",
#'             type = "PRE_PROCESSING"|"ORCHESTRATION"|"KNOWLEDGE_BASE_RESPONSE_GENERATION"|"POST_PROCESSING"|"ROUTING_CLASSIFIER"
#'           ),
#'           modelInvocationOutput = list(
#'             metadata = list(
#'               usage = list(
#'                 inputTokens = 123,
#'                 outputTokens = 123
#'               )
#'             ),
#'             parsedResponse = list(
#'               isValid = TRUE|FALSE,
#'               rationale = "string"
#'             ),
#'             rawResponse = list(
#'               content = "string"
#'             ),
#'             traceId = "string"
#'           )
#'         ),
#'         routingClassifierTrace = list(
#'           invocationInput = list(
#'             actionGroupInvocationInput = list(
#'               actionGroupName = "string",
#'               apiPath = "string",
#'               executionType = "LAMBDA"|"RETURN_CONTROL",
#'               function = "string",
#'               invocationId = "string",
#'               parameters = list(
#'                 list(
#'                   name = "string",
#'                   type = "string",
#'                   value = "string"
#'                 )
#'               ),
#'               requestBody = list(
#'                 content = list(
#'                   list(
#'                     list(
#'                       name = "string",
#'                       type = "string",
#'                       value = "string"
#'                     )
#'                   )
#'                 )
#'               ),
#'               verb = "string"
#'             ),
#'             agentCollaboratorInvocationInput = list(
#'               agentCollaboratorAliasArn = "string",
#'               agentCollaboratorName = "string",
#'               input = list(
#'                 returnControlResults = list(
#'                   invocationId = "string",
#'                   returnControlInvocationResults = list(
#'                     list(
#'                       apiResult = list(
#'                         actionGroup = "string",
#'                         agentId = "string",
#'                         apiPath = "string",
#'                         confirmationState = "CONFIRM"|"DENY",
#'                         httpMethod = "string",
#'                         httpStatusCode = 123,
#'                         responseBody = list(
#'                           list(
#'                             body = "string"
#'                           )
#'                         ),
#'                         responseState = "FAILURE"|"REPROMPT"
#'                       ),
#'                       functionResult = list(
#'                         actionGroup = "string",
#'                         agentId = "string",
#'                         confirmationState = "CONFIRM"|"DENY",
#'                         function = "string",
#'                         responseBody = list(
#'                           list(
#'                             body = "string"
#'                           )
#'                         ),
#'                         responseState = "FAILURE"|"REPROMPT"
#'                       )
#'                     )
#'                   )
#'                 ),
#'                 text = "string",
#'                 type = "TEXT"|"RETURN_CONTROL"
#'               )
#'             ),
#'             codeInterpreterInvocationInput = list(
#'               code = "string",
#'               files = list(
#'                 "string"
#'               )
#'             ),
#'             invocationType = "ACTION_GROUP"|"KNOWLEDGE_BASE"|"FINISH"|"ACTION_GROUP_CODE_INTERPRETER"|"AGENT_COLLABORATOR",
#'             knowledgeBaseLookupInput = list(
#'               knowledgeBaseId = "string",
#'               text = "string"
#'             ),
#'             traceId = "string"
#'           ),
#'           modelInvocationInput = list(
#'             foundationModel = "string",
#'             inferenceConfiguration = list(
#'               maximumLength = 123,
#'               stopSequences = list(
#'                 "string"
#'               ),
#'               temperature = 123.0,
#'               topK = 123,
#'               topP = 123.0
#'             ),
#'             overrideLambda = "string",
#'             parserMode = "DEFAULT"|"OVERRIDDEN",
#'             promptCreationMode = "DEFAULT"|"OVERRIDDEN",
#'             text = "string",
#'             traceId = "string",
#'             type = "PRE_PROCESSING"|"ORCHESTRATION"|"KNOWLEDGE_BASE_RESPONSE_GENERATION"|"POST_PROCESSING"|"ROUTING_CLASSIFIER"
#'           ),
#'           modelInvocationOutput = list(
#'             metadata = list(
#'               usage = list(
#'                 inputTokens = 123,
#'                 outputTokens = 123
#'               )
#'             ),
#'             rawResponse = list(
#'               content = "string"
#'             ),
#'             traceId = "string"
#'           ),
#'           observation = list(
#'             actionGroupInvocationOutput = list(
#'               text = "string"
#'             ),
#'             agentCollaboratorInvocationOutput = list(
#'               agentCollaboratorAliasArn = "string",
#'               agentCollaboratorName = "string",
#'               output = list(
#'                 returnControlPayload = list(
#'                   invocationId = "string",
#'                   invocationInputs = list(
#'                     list(
#'                       apiInvocationInput = list(
#'                         actionGroup = "string",
#'                         actionInvocationType = "RESULT"|"USER_CONFIRMATION"|"USER_CONFIRMATION_AND_RESULT",
#'                         agentId = "string",
#'                         apiPath = "string",
#'                         collaboratorName = "string",
#'                         httpMethod = "string",
#'                         parameters = list(
#'                           list(
#'                             name = "string",
#'                             type = "string",
#'                             value = "string"
#'                           )
#'                         ),
#'                         requestBody = list(
#'                           content = list(
#'                             list(
#'                               properties = list(
#'                                 list(
#'                                   name = "string",
#'                                   type = "string",
#'                                   value = "string"
#'                                 )
#'                               )
#'                             )
#'                           )
#'                         )
#'                       ),
#'                       functionInvocationInput = list(
#'                         actionGroup = "string",
#'                         actionInvocationType = "RESULT"|"USER_CONFIRMATION"|"USER_CONFIRMATION_AND_RESULT",
#'                         agentId = "string",
#'                         collaboratorName = "string",
#'                         function = "string",
#'                         parameters = list(
#'                           list(
#'                             name = "string",
#'                             type = "string",
#'                             value = "string"
#'                           )
#'                         )
#'                       )
#'                     )
#'                   )
#'                 ),
#'                 text = "string",
#'                 type = "TEXT"|"RETURN_CONTROL"
#'               )
#'             ),
#'             codeInterpreterInvocationOutput = list(
#'               executionError = "string",
#'               executionOutput = "string",
#'               executionTimeout = TRUE|FALSE,
#'               files = list(
#'                 "string"
#'               )
#'             ),
#'             finalResponse = list(
#'               text = "string"
#'             ),
#'             knowledgeBaseLookupOutput = list(
#'               retrievedReferences = list(
#'                 list(
#'                   content = list(
#'                     byteContent = "string",
#'                     row = list(
#'                       list(
#'                         columnName = "string",
#'                         columnValue = "string",
#'                         type = "BLOB"|"BOOLEAN"|"DOUBLE"|"NULL"|"LONG"|"STRING"
#'                       )
#'                     ),
#'                     text = "string",
#'                     type = "TEXT"|"IMAGE"|"ROW"
#'                   ),
#'                   location = list(
#'                     confluenceLocation = list(
#'                       url = "string"
#'                     ),
#'                     customDocumentLocation = list(
#'                       id = "string"
#'                     ),
#'                     kendraDocumentLocation = list(
#'                       uri = "string"
#'                     ),
#'                     s3Location = list(
#'                       uri = "string"
#'                     ),
#'                     salesforceLocation = list(
#'                       url = "string"
#'                     ),
#'                     sharePointLocation = list(
#'                       url = "string"
#'                     ),
#'                     sqlLocation = list(
#'                       query = "string"
#'                     ),
#'                     type = "S3"|"WEB"|"CONFLUENCE"|"SALESFORCE"|"SHAREPOINT"|"CUSTOM"|"KENDRA"|"SQL",
#'                     webLocation = list(
#'                       url = "string"
#'                     )
#'                   ),
#'                   metadata = list(
#'                     list()
#'                   )
#'                 )
#'               )
#'             ),
#'             repromptResponse = list(
#'               source = "ACTION_GROUP"|"KNOWLEDGE_BASE"|"PARSER",
#'               text = "string"
#'             ),
#'             traceId = "string",
#'             type = "ACTION_GROUP"|"AGENT_COLLABORATOR"|"KNOWLEDGE_BASE"|"FINISH"|"ASK_USER"|"REPROMPT"
#'           )
#'         )
#'       )
#'     ),
#'     validationException = list(
#'       message = "string"
#'     )
#'   ),
#'   contentType = "string",
#'   sessionId = "string"
#' )
#' ```
#'
#' @section Request syntax:
#' ```
#' svc$invoke_inline_agent(
#'   actionGroups = list(
#'     list(
#'       actionGroupExecutor = list(
#'         customControl = "RETURN_CONTROL",
#'         lambda = "string"
#'       ),
#'       actionGroupName = "string",
#'       apiSchema = list(
#'         payload = "string",
#'         s3 = list(
#'           s3BucketName = "string",
#'           s3ObjectKey = "string"
#'         )
#'       ),
#'       description = "string",
#'       functionSchema = list(
#'         functions = list(
#'           list(
#'             description = "string",
#'             name = "string",
#'             parameters = list(
#'               list(
#'                 description = "string",
#'                 required = TRUE|FALSE,
#'                 type = "string"|"number"|"integer"|"boolean"|"array"
#'               )
#'             ),
#'             requireConfirmation = "ENABLED"|"DISABLED"
#'           )
#'         )
#'       ),
#'       parentActionGroupSignature = "AMAZON.UserInput"|"AMAZON.CodeInterpreter"
#'     )
#'   ),
#'   bedrockModelConfigurations = list(
#'     performanceConfig = list(
#'       latency = "standard"|"optimized"
#'     )
#'   ),
#'   customerEncryptionKeyArn = "string",
#'   enableTrace = TRUE|FALSE,
#'   endSession = TRUE|FALSE,
#'   foundationModel = "string",
#'   guardrailConfiguration = list(
#'     guardrailIdentifier = "string",
#'     guardrailVersion = "string"
#'   ),
#'   idleSessionTTLInSeconds = 123,
#'   inlineSessionState = list(
#'     files = list(
#'       list(
#'         name = "string",
#'         source = list(
#'           byteContent = list(
#'             data = raw,
#'             mediaType = "string"
#'           ),
#'           s3Location = list(
#'             uri = "string"
#'           ),
#'           sourceType = "S3"|"BYTE_CONTENT"
#'         ),
#'         useCase = "CODE_INTERPRETER"|"CHAT"
#'       )
#'     ),
#'     invocationId = "string",
#'     promptSessionAttributes = list(
#'       "string"
#'     ),
#'     returnControlInvocationResults = list(
#'       list(
#'         apiResult = list(
#'           actionGroup = "string",
#'           agentId = "string",
#'           apiPath = "string",
#'           confirmationState = "CONFIRM"|"DENY",
#'           httpMethod = "string",
#'           httpStatusCode = 123,
#'           responseBody = list(
#'             list(
#'               body = "string"
#'             )
#'           ),
#'           responseState = "FAILURE"|"REPROMPT"
#'         ),
#'         functionResult = list(
#'           actionGroup = "string",
#'           agentId = "string",
#'           confirmationState = "CONFIRM"|"DENY",
#'           function = "string",
#'           responseBody = list(
#'             list(
#'               body = "string"
#'             )
#'           ),
#'           responseState = "FAILURE"|"REPROMPT"
#'         )
#'       )
#'     ),
#'     sessionAttributes = list(
#'       "string"
#'     )
#'   ),
#'   inputText = "string",
#'   instruction = "string",
#'   knowledgeBases = list(
#'     list(
#'       description = "string",
#'       knowledgeBaseId = "string",
#'       retrievalConfiguration = list(
#'         vectorSearchConfiguration = list(
#'           filter = list(
#'             andAll = list(
#'               list()
#'             ),
#'             equals = list(
#'               key = "string",
#'               value = list()
#'             ),
#'             greaterThan = list(
#'               key = "string",
#'               value = list()
#'             ),
#'             greaterThanOrEquals = list(
#'               key = "string",
#'               value = list()
#'             ),
#'             in = list(
#'               key = "string",
#'               value = list()
#'             ),
#'             lessThan = list(
#'               key = "string",
#'               value = list()
#'             ),
#'             lessThanOrEquals = list(
#'               key = "string",
#'               value = list()
#'             ),
#'             listContains = list(
#'               key = "string",
#'               value = list()
#'             ),
#'             notEquals = list(
#'               key = "string",
#'               value = list()
#'             ),
#'             notIn = list(
#'               key = "string",
#'               value = list()
#'             ),
#'             orAll = list(
#'               list()
#'             ),
#'             startsWith = list(
#'               key = "string",
#'               value = list()
#'             ),
#'             stringContains = list(
#'               key = "string",
#'               value = list()
#'             )
#'           ),
#'           implicitFilterConfiguration = list(
#'             metadataAttributes = list(
#'               list(
#'                 description = "string",
#'                 key = "string",
#'                 type = "STRING"|"NUMBER"|"BOOLEAN"|"STRING_LIST"
#'               )
#'             ),
#'             modelArn = "string"
#'           ),
#'           numberOfResults = 123,
#'           overrideSearchType = "HYBRID"|"SEMANTIC",
#'           rerankingConfiguration = list(
#'             bedrockRerankingConfiguration = list(
#'               metadataConfiguration = list(
#'                 selectionMode = "SELECTIVE"|"ALL",
#'                 selectiveModeConfiguration = list(
#'                   fieldsToExclude = list(
#'                     list(
#'                       fieldName = "string"
#'                     )
#'                   ),
#'                   fieldsToInclude = list(
#'                     list(
#'                       fieldName = "string"
#'                     )
#'                   )
#'                 )
#'               ),
#'               modelConfiguration = list(
#'                 additionalModelRequestFields = list(
#'                   list()
#'                 ),
#'                 modelArn = "string"
#'               ),
#'               numberOfRerankedResults = 123
#'             ),
#'             type = "BEDROCK_RERANKING_MODEL"
#'           )
#'         )
#'       )
#'     )
#'   ),
#'   promptOverrideConfiguration = list(
#'     overrideLambda = "string",
#'     promptConfigurations = list(
#'       list(
#'         basePromptTemplate = "string",
#'         inferenceConfiguration = list(
#'           maximumLength = 123,
#'           stopSequences = list(
#'             "string"
#'           ),
#'           temperature = 123.0,
#'           topK = 123,
#'           topP = 123.0
#'         ),
#'         parserMode = "DEFAULT"|"OVERRIDDEN",
#'         promptCreationMode = "DEFAULT"|"OVERRIDDEN",
#'         promptState = "ENABLED"|"DISABLED",
#'         promptType = "PRE_PROCESSING"|"ORCHESTRATION"|"KNOWLEDGE_BASE_RESPONSE_GENERATION"|"POST_PROCESSING"|"ROUTING_CLASSIFIER"
#'       )
#'     )
#'   ),
#'   sessionId = "string",
#'   streamingConfigurations = list(
#'     applyGuardrailInterval = 123,
#'     streamFinalResponse = TRUE|FALSE
#'   )
#' )
#' ```
#'
#' @keywords internal
#'
#' @rdname bedrockagentruntime_invoke_inline_agent
#'
#' @aliases bedrockagentruntime_invoke_inline_agent
bedrockagentruntime_invoke_inline_agent <- function(actionGroups = NULL, bedrockModelConfigurations = NULL, customerEncryptionKeyArn = NULL, enableTrace = NULL, endSession = NULL, foundationModel, guardrailConfiguration = NULL, idleSessionTTLInSeconds = NULL, inlineSessionState = NULL, inputText = NULL, instruction, knowledgeBases = NULL, promptOverrideConfiguration = NULL, sessionId, streamingConfigurations = NULL) {
  op <- new_operation(
    name = "InvokeInlineAgent",
    http_method = "POST",
    http_path = "/agents/{sessionId}",
    host_prefix = "",
    paginator = list(),
    stream_api = TRUE
  )
  input <- .bedrockagentruntime$invoke_inline_agent_input(actionGroups = actionGroups, bedrockModelConfigurations = bedrockModelConfigurations, customerEncryptionKeyArn = customerEncryptionKeyArn, enableTrace = enableTrace, endSession = endSession, foundationModel = foundationModel, guardrailConfiguration = guardrailConfiguration, idleSessionTTLInSeconds = idleSessionTTLInSeconds, inlineSessionState = inlineSessionState, inputText = inputText, instruction = instruction, knowledgeBases = knowledgeBases, promptOverrideConfiguration = promptOverrideConfiguration, sessionId = sessionId, streamingConfigurations = streamingConfigurations)
  output <- .bedrockagentruntime$invoke_inline_agent_output()
  config <- get_config()
  svc <- .bedrockagentruntime$service(config, op)
  request <- new_request(svc, op, input, output)
  response <- send_request(request)
  return(response)
}
.bedrockagentruntime$operations$invoke_inline_agent <- bedrockagentruntime_invoke_inline_agent

#' Optimizes a prompt for the task that you specify
#'
#' @description
#' Optimizes a prompt for the task that you specify. For more information,
#' see [Optimize a
#' prompt](https://docs.aws.amazon.com/bedrock/latest/userguide/prompt-management-optimize.html)
#' in the [Amazon Bedrock User
#' Guide](https://docs.aws.amazon.com/bedrock/latest/userguide/what-is-bedrock.html).
#'
#' @usage
#' bedrockagentruntime_optimize_prompt(input, targetModelId)
#'
#' @param input &#91;required&#93; Contains the prompt to optimize.
#' @param targetModelId &#91;required&#93; The unique identifier of the model that you want to optimize the prompt
#' for.
#'
#' @return
#' A list with the following syntax:
#' ```
#' list(
#'   optimizedPrompt = list(
#'     accessDeniedException = list(
#'       message = "string"
#'     ),
#'     analyzePromptEvent = list(
#'       message = "string"
#'     ),
#'     badGatewayException = list(
#'       message = "string",
#'       resourceName = "string"
#'     ),
#'     dependencyFailedException = list(
#'       message = "string",
#'       resourceName = "string"
#'     ),
#'     internalServerException = list(
#'       message = "string"
#'     ),
#'     optimizedPromptEvent = list(
#'       optimizedPrompt = list(
#'         textPrompt = list(
#'           text = "string"
#'         )
#'       )
#'     ),
#'     throttlingException = list(
#'       message = "string"
#'     ),
#'     validationException = list(
#'       message = "string"
#'     )
#'   )
#' )
#' ```
#'
#' @section Request syntax:
#' ```
#' svc$optimize_prompt(
#'   input = list(
#'     textPrompt = list(
#'       text = "string"
#'     )
#'   ),
#'   targetModelId = "string"
#' )
#' ```
#'
#' @keywords internal
#'
#' @rdname bedrockagentruntime_optimize_prompt
#'
#' @aliases bedrockagentruntime_optimize_prompt
bedrockagentruntime_optimize_prompt <- function(input, targetModelId) {
  op <- new_operation(
    name = "OptimizePrompt",
    http_method = "POST",
    http_path = "/optimize-prompt",
    host_prefix = "",
    paginator = list(),
    stream_api = TRUE
  )
  input <- .bedrockagentruntime$optimize_prompt_input(input = input, targetModelId = targetModelId)
  output <- .bedrockagentruntime$optimize_prompt_output()
  config <- get_config()
  svc <- .bedrockagentruntime$service(config, op)
  request <- new_request(svc, op, input, output)
  response <- send_request(request)
  return(response)
}
.bedrockagentruntime$operations$optimize_prompt <- bedrockagentruntime_optimize_prompt

#' Reranks the relevance of sources based on queries
#'
#' @description
#' Reranks the relevance of sources based on queries. For more information,
#' see [Improve the relevance of query responses with a reranker
#' model](https://docs.aws.amazon.com/bedrock/latest/userguide/rerank.html).
#'
#' @usage
#' bedrockagentruntime_rerank(nextToken, queries, rerankingConfiguration,
#'   sources)
#'
#' @param nextToken If the total number of results was greater than could fit in a response,
#' a token is returned in the `nextToken` field. You can enter that token
#' in this field to return the next batch of results.
#' @param queries &#91;required&#93; An array of objects, each of which contains information about a query to
#' submit to the reranker model.
#' @param rerankingConfiguration &#91;required&#93; Contains configurations for reranking.
#' @param sources &#91;required&#93; An array of objects, each of which contains information about the
#' sources to rerank.
#'
#' @return
#' A list with the following syntax:
#' ```
#' list(
#'   nextToken = "string",
#'   results = list(
#'     list(
#'       document = list(
#'         jsonDocument = list(),
#'         textDocument = list(
#'           text = "string"
#'         ),
#'         type = "TEXT"|"JSON"
#'       ),
#'       index = 123,
#'       relevanceScore = 123.0
#'     )
#'   )
#' )
#' ```
#'
#' @section Request syntax:
#' ```
#' svc$rerank(
#'   nextToken = "string",
#'   queries = list(
#'     list(
#'       textQuery = list(
#'         text = "string"
#'       ),
#'       type = "TEXT"
#'     )
#'   ),
#'   rerankingConfiguration = list(
#'     bedrockRerankingConfiguration = list(
#'       modelConfiguration = list(
#'         additionalModelRequestFields = list(
#'           list()
#'         ),
#'         modelArn = "string"
#'       ),
#'       numberOfResults = 123
#'     ),
#'     type = "BEDROCK_RERANKING_MODEL"
#'   ),
#'   sources = list(
#'     list(
#'       inlineDocumentSource = list(
#'         jsonDocument = list(),
#'         textDocument = list(
#'           text = "string"
#'         ),
#'         type = "TEXT"|"JSON"
#'       ),
#'       type = "INLINE"
#'     )
#'   )
#' )
#' ```
#'
#' @keywords internal
#'
#' @rdname bedrockagentruntime_rerank
#'
#' @aliases bedrockagentruntime_rerank
bedrockagentruntime_rerank <- function(nextToken = NULL, queries, rerankingConfiguration, sources) {
  op <- new_operation(
    name = "Rerank",
    http_method = "POST",
    http_path = "/rerank",
    host_prefix = "",
    paginator = list(input_token = "nextToken", output_token = "nextToken", result_key = "results"),
    stream_api = FALSE
  )
  input <- .bedrockagentruntime$rerank_input(nextToken = nextToken, queries = queries, rerankingConfiguration = rerankingConfiguration, sources = sources)
  output <- .bedrockagentruntime$rerank_output()
  config <- get_config()
  svc <- .bedrockagentruntime$service(config, op)
  request <- new_request(svc, op, input, output)
  response <- send_request(request)
  return(response)
}
.bedrockagentruntime$operations$rerank <- bedrockagentruntime_rerank

#' Queries a knowledge base and retrieves information from it
#'
#' @description
#' Queries a knowledge base and retrieves information from it.
#'
#' @usage
#' bedrockagentruntime_retrieve(guardrailConfiguration, knowledgeBaseId,
#'   nextToken, retrievalConfiguration, retrievalQuery)
#'
#' @param guardrailConfiguration Guardrail settings.
#' @param knowledgeBaseId &#91;required&#93; The unique identifier of the knowledge base to query.
#' @param nextToken If there are more results than can fit in the response, the response
#' returns a `nextToken`. Use this token in the `nextToken` field of
#' another request to retrieve the next batch of results.
#' @param retrievalConfiguration Contains configurations for the knowledge base query and retrieval
#' process. For more information, see [Query
#' configurations](https://docs.aws.amazon.com/bedrock/latest/userguide/kb-test-config.html).
#' @param retrievalQuery &#91;required&#93; Contains the query to send the knowledge base.
#'
#' @return
#' A list with the following syntax:
#' ```
#' list(
#'   guardrailAction = "INTERVENED"|"NONE",
#'   nextToken = "string",
#'   retrievalResults = list(
#'     list(
#'       content = list(
#'         byteContent = "string",
#'         row = list(
#'           list(
#'             columnName = "string",
#'             columnValue = "string",
#'             type = "BLOB"|"BOOLEAN"|"DOUBLE"|"NULL"|"LONG"|"STRING"
#'           )
#'         ),
#'         text = "string",
#'         type = "TEXT"|"IMAGE"|"ROW"
#'       ),
#'       location = list(
#'         confluenceLocation = list(
#'           url = "string"
#'         ),
#'         customDocumentLocation = list(
#'           id = "string"
#'         ),
#'         kendraDocumentLocation = list(
#'           uri = "string"
#'         ),
#'         s3Location = list(
#'           uri = "string"
#'         ),
#'         salesforceLocation = list(
#'           url = "string"
#'         ),
#'         sharePointLocation = list(
#'           url = "string"
#'         ),
#'         sqlLocation = list(
#'           query = "string"
#'         ),
#'         type = "S3"|"WEB"|"CONFLUENCE"|"SALESFORCE"|"SHAREPOINT"|"CUSTOM"|"KENDRA"|"SQL",
#'         webLocation = list(
#'           url = "string"
#'         )
#'       ),
#'       metadata = list(
#'         list()
#'       ),
#'       score = 123.0
#'     )
#'   )
#' )
#' ```
#'
#' @section Request syntax:
#' ```
#' svc$retrieve(
#'   guardrailConfiguration = list(
#'     guardrailId = "string",
#'     guardrailVersion = "string"
#'   ),
#'   knowledgeBaseId = "string",
#'   nextToken = "string",
#'   retrievalConfiguration = list(
#'     vectorSearchConfiguration = list(
#'       filter = list(
#'         andAll = list(
#'           list()
#'         ),
#'         equals = list(
#'           key = "string",
#'           value = list()
#'         ),
#'         greaterThan = list(
#'           key = "string",
#'           value = list()
#'         ),
#'         greaterThanOrEquals = list(
#'           key = "string",
#'           value = list()
#'         ),
#'         in = list(
#'           key = "string",
#'           value = list()
#'         ),
#'         lessThan = list(
#'           key = "string",
#'           value = list()
#'         ),
#'         lessThanOrEquals = list(
#'           key = "string",
#'           value = list()
#'         ),
#'         listContains = list(
#'           key = "string",
#'           value = list()
#'         ),
#'         notEquals = list(
#'           key = "string",
#'           value = list()
#'         ),
#'         notIn = list(
#'           key = "string",
#'           value = list()
#'         ),
#'         orAll = list(
#'           list()
#'         ),
#'         startsWith = list(
#'           key = "string",
#'           value = list()
#'         ),
#'         stringContains = list(
#'           key = "string",
#'           value = list()
#'         )
#'       ),
#'       implicitFilterConfiguration = list(
#'         metadataAttributes = list(
#'           list(
#'             description = "string",
#'             key = "string",
#'             type = "STRING"|"NUMBER"|"BOOLEAN"|"STRING_LIST"
#'           )
#'         ),
#'         modelArn = "string"
#'       ),
#'       numberOfResults = 123,
#'       overrideSearchType = "HYBRID"|"SEMANTIC",
#'       rerankingConfiguration = list(
#'         bedrockRerankingConfiguration = list(
#'           metadataConfiguration = list(
#'             selectionMode = "SELECTIVE"|"ALL",
#'             selectiveModeConfiguration = list(
#'               fieldsToExclude = list(
#'                 list(
#'                   fieldName = "string"
#'                 )
#'               ),
#'               fieldsToInclude = list(
#'                 list(
#'                   fieldName = "string"
#'                 )
#'               )
#'             )
#'           ),
#'           modelConfiguration = list(
#'             additionalModelRequestFields = list(
#'               list()
#'             ),
#'             modelArn = "string"
#'           ),
#'           numberOfRerankedResults = 123
#'         ),
#'         type = "BEDROCK_RERANKING_MODEL"
#'       )
#'     )
#'   ),
#'   retrievalQuery = list(
#'     text = "string"
#'   )
#' )
#' ```
#'
#' @keywords internal
#'
#' @rdname bedrockagentruntime_retrieve
#'
#' @aliases bedrockagentruntime_retrieve
bedrockagentruntime_retrieve <- function(guardrailConfiguration = NULL, knowledgeBaseId, nextToken = NULL, retrievalConfiguration = NULL, retrievalQuery) {
  op <- new_operation(
    name = "Retrieve",
    http_method = "POST",
    http_path = "/knowledgebases/{knowledgeBaseId}/retrieve",
    host_prefix = "",
    paginator = list(input_token = "nextToken", output_token = "nextToken", result_key = "retrievalResults"),
    stream_api = FALSE
  )
  input <- .bedrockagentruntime$retrieve_input(guardrailConfiguration = guardrailConfiguration, knowledgeBaseId = knowledgeBaseId, nextToken = nextToken, retrievalConfiguration = retrievalConfiguration, retrievalQuery = retrievalQuery)
  output <- .bedrockagentruntime$retrieve_output()
  config <- get_config()
  svc <- .bedrockagentruntime$service(config, op)
  request <- new_request(svc, op, input, output)
  response <- send_request(request)
  return(response)
}
.bedrockagentruntime$operations$retrieve <- bedrockagentruntime_retrieve

#' Queries a knowledge base and generates responses based on the retrieved
#' results and using the specified foundation model or inference profile
#'
#' @description
#' Queries a knowledge base and generates responses based on the retrieved
#' results and using the specified foundation model or [inference
#' profile](https://docs.aws.amazon.com/bedrock/latest/userguide/cross-region-inference.html).
#' The response only cites sources that are relevant to the query.
#'
#' @usage
#' bedrockagentruntime_retrieve_and_generate(input,
#'   retrieveAndGenerateConfiguration, sessionConfiguration, sessionId)
#'
#' @param input &#91;required&#93; Contains the query to be made to the knowledge base.
#' @param retrieveAndGenerateConfiguration Contains configurations for the knowledge base query and retrieval
#' process. For more information, see [Query
#' configurations](https://docs.aws.amazon.com/bedrock/latest/userguide/kb-test-config.html).
#' @param sessionConfiguration Contains details about the session with the knowledge base.
#' @param sessionId The unique identifier of the session. When you first make a
#' [`retrieve_and_generate`][bedrockagentruntime_retrieve_and_generate]
#' request, Amazon Bedrock automatically generates this value. You must
#' reuse this value for all subsequent requests in the same conversational
#' session. This value allows Amazon Bedrock to maintain context and
#' knowledge from previous interactions. You can't explicitly set the
#' `sessionId` yourself.
#'
#' @return
#' A list with the following syntax:
#' ```
#' list(
#'   citations = list(
#'     list(
#'       generatedResponsePart = list(
#'         textResponsePart = list(
#'           span = list(
#'             end = 123,
#'             start = 123
#'           ),
#'           text = "string"
#'         )
#'       ),
#'       retrievedReferences = list(
#'         list(
#'           content = list(
#'             byteContent = "string",
#'             row = list(
#'               list(
#'                 columnName = "string",
#'                 columnValue = "string",
#'                 type = "BLOB"|"BOOLEAN"|"DOUBLE"|"NULL"|"LONG"|"STRING"
#'               )
#'             ),
#'             text = "string",
#'             type = "TEXT"|"IMAGE"|"ROW"
#'           ),
#'           location = list(
#'             confluenceLocation = list(
#'               url = "string"
#'             ),
#'             customDocumentLocation = list(
#'               id = "string"
#'             ),
#'             kendraDocumentLocation = list(
#'               uri = "string"
#'             ),
#'             s3Location = list(
#'               uri = "string"
#'             ),
#'             salesforceLocation = list(
#'               url = "string"
#'             ),
#'             sharePointLocation = list(
#'               url = "string"
#'             ),
#'             sqlLocation = list(
#'               query = "string"
#'             ),
#'             type = "S3"|"WEB"|"CONFLUENCE"|"SALESFORCE"|"SHAREPOINT"|"CUSTOM"|"KENDRA"|"SQL",
#'             webLocation = list(
#'               url = "string"
#'             )
#'           ),
#'           metadata = list(
#'             list()
#'           )
#'         )
#'       )
#'     )
#'   ),
#'   guardrailAction = "INTERVENED"|"NONE",
#'   output = list(
#'     text = "string"
#'   ),
#'   sessionId = "string"
#' )
#' ```
#'
#' @section Request syntax:
#' ```
#' svc$retrieve_and_generate(
#'   input = list(
#'     text = "string"
#'   ),
#'   retrieveAndGenerateConfiguration = list(
#'     externalSourcesConfiguration = list(
#'       generationConfiguration = list(
#'         additionalModelRequestFields = list(
#'           list()
#'         ),
#'         guardrailConfiguration = list(
#'           guardrailId = "string",
#'           guardrailVersion = "string"
#'         ),
#'         inferenceConfig = list(
#'           textInferenceConfig = list(
#'             maxTokens = 123,
#'             stopSequences = list(
#'               "string"
#'             ),
#'             temperature = 123.0,
#'             topP = 123.0
#'           )
#'         ),
#'         performanceConfig = list(
#'           latency = "standard"|"optimized"
#'         ),
#'         promptTemplate = list(
#'           textPromptTemplate = "string"
#'         )
#'       ),
#'       modelArn = "string",
#'       sources = list(
#'         list(
#'           byteContent = list(
#'             contentType = "string",
#'             data = raw,
#'             identifier = "string"
#'           ),
#'           s3Location = list(
#'             uri = "string"
#'           ),
#'           sourceType = "S3"|"BYTE_CONTENT"
#'         )
#'       )
#'     ),
#'     knowledgeBaseConfiguration = list(
#'       generationConfiguration = list(
#'         additionalModelRequestFields = list(
#'           list()
#'         ),
#'         guardrailConfiguration = list(
#'           guardrailId = "string",
#'           guardrailVersion = "string"
#'         ),
#'         inferenceConfig = list(
#'           textInferenceConfig = list(
#'             maxTokens = 123,
#'             stopSequences = list(
#'               "string"
#'             ),
#'             temperature = 123.0,
#'             topP = 123.0
#'           )
#'         ),
#'         performanceConfig = list(
#'           latency = "standard"|"optimized"
#'         ),
#'         promptTemplate = list(
#'           textPromptTemplate = "string"
#'         )
#'       ),
#'       knowledgeBaseId = "string",
#'       modelArn = "string",
#'       orchestrationConfiguration = list(
#'         additionalModelRequestFields = list(
#'           list()
#'         ),
#'         inferenceConfig = list(
#'           textInferenceConfig = list(
#'             maxTokens = 123,
#'             stopSequences = list(
#'               "string"
#'             ),
#'             temperature = 123.0,
#'             topP = 123.0
#'           )
#'         ),
#'         performanceConfig = list(
#'           latency = "standard"|"optimized"
#'         ),
#'         promptTemplate = list(
#'           textPromptTemplate = "string"
#'         ),
#'         queryTransformationConfiguration = list(
#'           type = "QUERY_DECOMPOSITION"
#'         )
#'       ),
#'       retrievalConfiguration = list(
#'         vectorSearchConfiguration = list(
#'           filter = list(
#'             andAll = list(
#'               list()
#'             ),
#'             equals = list(
#'               key = "string",
#'               value = list()
#'             ),
#'             greaterThan = list(
#'               key = "string",
#'               value = list()
#'             ),
#'             greaterThanOrEquals = list(
#'               key = "string",
#'               value = list()
#'             ),
#'             in = list(
#'               key = "string",
#'               value = list()
#'             ),
#'             lessThan = list(
#'               key = "string",
#'               value = list()
#'             ),
#'             lessThanOrEquals = list(
#'               key = "string",
#'               value = list()
#'             ),
#'             listContains = list(
#'               key = "string",
#'               value = list()
#'             ),
#'             notEquals = list(
#'               key = "string",
#'               value = list()
#'             ),
#'             notIn = list(
#'               key = "string",
#'               value = list()
#'             ),
#'             orAll = list(
#'               list()
#'             ),
#'             startsWith = list(
#'               key = "string",
#'               value = list()
#'             ),
#'             stringContains = list(
#'               key = "string",
#'               value = list()
#'             )
#'           ),
#'           implicitFilterConfiguration = list(
#'             metadataAttributes = list(
#'               list(
#'                 description = "string",
#'                 key = "string",
#'                 type = "STRING"|"NUMBER"|"BOOLEAN"|"STRING_LIST"
#'               )
#'             ),
#'             modelArn = "string"
#'           ),
#'           numberOfResults = 123,
#'           overrideSearchType = "HYBRID"|"SEMANTIC",
#'           rerankingConfiguration = list(
#'             bedrockRerankingConfiguration = list(
#'               metadataConfiguration = list(
#'                 selectionMode = "SELECTIVE"|"ALL",
#'                 selectiveModeConfiguration = list(
#'                   fieldsToExclude = list(
#'                     list(
#'                       fieldName = "string"
#'                     )
#'                   ),
#'                   fieldsToInclude = list(
#'                     list(
#'                       fieldName = "string"
#'                     )
#'                   )
#'                 )
#'               ),
#'               modelConfiguration = list(
#'                 additionalModelRequestFields = list(
#'                   list()
#'                 ),
#'                 modelArn = "string"
#'               ),
#'               numberOfRerankedResults = 123
#'             ),
#'             type = "BEDROCK_RERANKING_MODEL"
#'           )
#'         )
#'       )
#'     ),
#'     type = "KNOWLEDGE_BASE"|"EXTERNAL_SOURCES"
#'   ),
#'   sessionConfiguration = list(
#'     kmsKeyArn = "string"
#'   ),
#'   sessionId = "string"
#' )
#' ```
#'
#' @keywords internal
#'
#' @rdname bedrockagentruntime_retrieve_and_generate
#'
#' @aliases bedrockagentruntime_retrieve_and_generate
bedrockagentruntime_retrieve_and_generate <- function(input, retrieveAndGenerateConfiguration = NULL, sessionConfiguration = NULL, sessionId = NULL) {
  op <- new_operation(
    name = "RetrieveAndGenerate",
    http_method = "POST",
    http_path = "/retrieveAndGenerate",
    host_prefix = "",
    paginator = list(),
    stream_api = FALSE
  )
  input <- .bedrockagentruntime$retrieve_and_generate_input(input = input, retrieveAndGenerateConfiguration = retrieveAndGenerateConfiguration, sessionConfiguration = sessionConfiguration, sessionId = sessionId)
  output <- .bedrockagentruntime$retrieve_and_generate_output()
  config <- get_config()
  svc <- .bedrockagentruntime$service(config, op)
  request <- new_request(svc, op, input, output)
  response <- send_request(request)
  return(response)
}
.bedrockagentruntime$operations$retrieve_and_generate <- bedrockagentruntime_retrieve_and_generate

#' Queries a knowledge base and generates responses based on the retrieved
#' results, with output in streaming format
#'
#' @description
#' Queries a knowledge base and generates responses based on the retrieved
#' results, with output in streaming format.
#' 
#' The CLI doesn't support streaming operations in Amazon Bedrock,
#' including `InvokeModelWithResponseStream`.
#'
#' @usage
#' bedrockagentruntime_retrieve_and_generate_stream(input,
#'   retrieveAndGenerateConfiguration, sessionConfiguration, sessionId)
#'
#' @param input &#91;required&#93; Contains the query to be made to the knowledge base.
#' @param retrieveAndGenerateConfiguration Contains configurations for the knowledge base query and retrieval
#' process. For more information, see [Query
#' configurations](https://docs.aws.amazon.com/bedrock/latest/userguide/kb-test-config.html).
#' @param sessionConfiguration Contains details about the session with the knowledge base.
#' @param sessionId The unique identifier of the session. When you first make a
#' [`retrieve_and_generate`][bedrockagentruntime_retrieve_and_generate]
#' request, Amazon Bedrock automatically generates this value. You must
#' reuse this value for all subsequent requests in the same conversational
#' session. This value allows Amazon Bedrock to maintain context and
#' knowledge from previous interactions. You can't explicitly set the
#' `sessionId` yourself.
#'
#' @return
#' A list with the following syntax:
#' ```
#' list(
#'   sessionId = "string",
#'   stream = list(
#'     accessDeniedException = list(
#'       message = "string"
#'     ),
#'     badGatewayException = list(
#'       message = "string",
#'       resourceName = "string"
#'     ),
#'     citation = list(
#'       citation = list(
#'         generatedResponsePart = list(
#'           textResponsePart = list(
#'             span = list(
#'               end = 123,
#'               start = 123
#'             ),
#'             text = "string"
#'           )
#'         ),
#'         retrievedReferences = list(
#'           list(
#'             content = list(
#'               byteContent = "string",
#'               row = list(
#'                 list(
#'                   columnName = "string",
#'                   columnValue = "string",
#'                   type = "BLOB"|"BOOLEAN"|"DOUBLE"|"NULL"|"LONG"|"STRING"
#'                 )
#'               ),
#'               text = "string",
#'               type = "TEXT"|"IMAGE"|"ROW"
#'             ),
#'             location = list(
#'               confluenceLocation = list(
#'                 url = "string"
#'               ),
#'               customDocumentLocation = list(
#'                 id = "string"
#'               ),
#'               kendraDocumentLocation = list(
#'                 uri = "string"
#'               ),
#'               s3Location = list(
#'                 uri = "string"
#'               ),
#'               salesforceLocation = list(
#'                 url = "string"
#'               ),
#'               sharePointLocation = list(
#'                 url = "string"
#'               ),
#'               sqlLocation = list(
#'                 query = "string"
#'               ),
#'               type = "S3"|"WEB"|"CONFLUENCE"|"SALESFORCE"|"SHAREPOINT"|"CUSTOM"|"KENDRA"|"SQL",
#'               webLocation = list(
#'                 url = "string"
#'               )
#'             ),
#'             metadata = list(
#'               list()
#'             )
#'           )
#'         )
#'       )
#'     ),
#'     conflictException = list(
#'       message = "string"
#'     ),
#'     dependencyFailedException = list(
#'       message = "string",
#'       resourceName = "string"
#'     ),
#'     guardrail = list(
#'       action = "INTERVENED"|"NONE"
#'     ),
#'     internalServerException = list(
#'       message = "string"
#'     ),
#'     output = list(
#'       text = "string"
#'     ),
#'     resourceNotFoundException = list(
#'       message = "string"
#'     ),
#'     serviceQuotaExceededException = list(
#'       message = "string"
#'     ),
#'     throttlingException = list(
#'       message = "string"
#'     ),
#'     validationException = list(
#'       message = "string"
#'     )
#'   )
#' )
#' ```
#'
#' @section Request syntax:
#' ```
#' svc$retrieve_and_generate_stream(
#'   input = list(
#'     text = "string"
#'   ),
#'   retrieveAndGenerateConfiguration = list(
#'     externalSourcesConfiguration = list(
#'       generationConfiguration = list(
#'         additionalModelRequestFields = list(
#'           list()
#'         ),
#'         guardrailConfiguration = list(
#'           guardrailId = "string",
#'           guardrailVersion = "string"
#'         ),
#'         inferenceConfig = list(
#'           textInferenceConfig = list(
#'             maxTokens = 123,
#'             stopSequences = list(
#'               "string"
#'             ),
#'             temperature = 123.0,
#'             topP = 123.0
#'           )
#'         ),
#'         performanceConfig = list(
#'           latency = "standard"|"optimized"
#'         ),
#'         promptTemplate = list(
#'           textPromptTemplate = "string"
#'         )
#'       ),
#'       modelArn = "string",
#'       sources = list(
#'         list(
#'           byteContent = list(
#'             contentType = "string",
#'             data = raw,
#'             identifier = "string"
#'           ),
#'           s3Location = list(
#'             uri = "string"
#'           ),
#'           sourceType = "S3"|"BYTE_CONTENT"
#'         )
#'       )
#'     ),
#'     knowledgeBaseConfiguration = list(
#'       generationConfiguration = list(
#'         additionalModelRequestFields = list(
#'           list()
#'         ),
#'         guardrailConfiguration = list(
#'           guardrailId = "string",
#'           guardrailVersion = "string"
#'         ),
#'         inferenceConfig = list(
#'           textInferenceConfig = list(
#'             maxTokens = 123,
#'             stopSequences = list(
#'               "string"
#'             ),
#'             temperature = 123.0,
#'             topP = 123.0
#'           )
#'         ),
#'         performanceConfig = list(
#'           latency = "standard"|"optimized"
#'         ),
#'         promptTemplate = list(
#'           textPromptTemplate = "string"
#'         )
#'       ),
#'       knowledgeBaseId = "string",
#'       modelArn = "string",
#'       orchestrationConfiguration = list(
#'         additionalModelRequestFields = list(
#'           list()
#'         ),
#'         inferenceConfig = list(
#'           textInferenceConfig = list(
#'             maxTokens = 123,
#'             stopSequences = list(
#'               "string"
#'             ),
#'             temperature = 123.0,
#'             topP = 123.0
#'           )
#'         ),
#'         performanceConfig = list(
#'           latency = "standard"|"optimized"
#'         ),
#'         promptTemplate = list(
#'           textPromptTemplate = "string"
#'         ),
#'         queryTransformationConfiguration = list(
#'           type = "QUERY_DECOMPOSITION"
#'         )
#'       ),
#'       retrievalConfiguration = list(
#'         vectorSearchConfiguration = list(
#'           filter = list(
#'             andAll = list(
#'               list()
#'             ),
#'             equals = list(
#'               key = "string",
#'               value = list()
#'             ),
#'             greaterThan = list(
#'               key = "string",
#'               value = list()
#'             ),
#'             greaterThanOrEquals = list(
#'               key = "string",
#'               value = list()
#'             ),
#'             in = list(
#'               key = "string",
#'               value = list()
#'             ),
#'             lessThan = list(
#'               key = "string",
#'               value = list()
#'             ),
#'             lessThanOrEquals = list(
#'               key = "string",
#'               value = list()
#'             ),
#'             listContains = list(
#'               key = "string",
#'               value = list()
#'             ),
#'             notEquals = list(
#'               key = "string",
#'               value = list()
#'             ),
#'             notIn = list(
#'               key = "string",
#'               value = list()
#'             ),
#'             orAll = list(
#'               list()
#'             ),
#'             startsWith = list(
#'               key = "string",
#'               value = list()
#'             ),
#'             stringContains = list(
#'               key = "string",
#'               value = list()
#'             )
#'           ),
#'           implicitFilterConfiguration = list(
#'             metadataAttributes = list(
#'               list(
#'                 description = "string",
#'                 key = "string",
#'                 type = "STRING"|"NUMBER"|"BOOLEAN"|"STRING_LIST"
#'               )
#'             ),
#'             modelArn = "string"
#'           ),
#'           numberOfResults = 123,
#'           overrideSearchType = "HYBRID"|"SEMANTIC",
#'           rerankingConfiguration = list(
#'             bedrockRerankingConfiguration = list(
#'               metadataConfiguration = list(
#'                 selectionMode = "SELECTIVE"|"ALL",
#'                 selectiveModeConfiguration = list(
#'                   fieldsToExclude = list(
#'                     list(
#'                       fieldName = "string"
#'                     )
#'                   ),
#'                   fieldsToInclude = list(
#'                     list(
#'                       fieldName = "string"
#'                     )
#'                   )
#'                 )
#'               ),
#'               modelConfiguration = list(
#'                 additionalModelRequestFields = list(
#'                   list()
#'                 ),
#'                 modelArn = "string"
#'               ),
#'               numberOfRerankedResults = 123
#'             ),
#'             type = "BEDROCK_RERANKING_MODEL"
#'           )
#'         )
#'       )
#'     ),
#'     type = "KNOWLEDGE_BASE"|"EXTERNAL_SOURCES"
#'   ),
#'   sessionConfiguration = list(
#'     kmsKeyArn = "string"
#'   ),
#'   sessionId = "string"
#' )
#' ```
#'
#' @keywords internal
#'
#' @rdname bedrockagentruntime_retrieve_and_generate_stream
#'
#' @aliases bedrockagentruntime_retrieve_and_generate_stream
bedrockagentruntime_retrieve_and_generate_stream <- function(input, retrieveAndGenerateConfiguration = NULL, sessionConfiguration = NULL, sessionId = NULL) {
  op <- new_operation(
    name = "RetrieveAndGenerateStream",
    http_method = "POST",
    http_path = "/retrieveAndGenerateStream",
    host_prefix = "",
    paginator = list(),
    stream_api = TRUE
  )
  input <- .bedrockagentruntime$retrieve_and_generate_stream_input(input = input, retrieveAndGenerateConfiguration = retrieveAndGenerateConfiguration, sessionConfiguration = sessionConfiguration, sessionId = sessionId)
  output <- .bedrockagentruntime$retrieve_and_generate_stream_output()
  config <- get_config()
  svc <- .bedrockagentruntime$service(config, op)
  request <- new_request(svc, op, input, output)
  response <- send_request(request)
  return(response)
}
.bedrockagentruntime$operations$retrieve_and_generate_stream <- bedrockagentruntime_retrieve_and_generate_stream
