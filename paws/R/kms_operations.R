# This file is generated by make.paws. Please do not edit here.
#' @importFrom paws.common get_config new_operation new_request send_request
#' @include kms_service.R
NULL

#' Cancels the deletion of a KMS key
#'
#' @description
#' Cancels the deletion of a KMS key. When this operation succeeds, the key
#' state of the KMS key is `Disabled`. To enable the KMS key, use
#' [`enable_key`][kms_enable_key].
#' 
#' For more information about scheduling and canceling deletion of a KMS
#' key, see [Deleting KMS
#' keys](https://docs.aws.amazon.com/kms/latest/developerguide/deleting-keys.html)
#' in the *Key Management Service Developer Guide*.
#' 
#' The KMS key that you use for this operation must be in a compatible key
#' state. For details, see [Key states of KMS
#' keys](https://docs.aws.amazon.com/kms/latest/developerguide/key-state.html)
#' in the *Key Management Service Developer Guide*.
#' 
#' **Cross-account use**: No. You cannot perform this operation on a KMS
#' key in a different Amazon Web Services account.
#' 
#' **Required permissions**:
#' [kms:CancelKeyDeletion](https://docs.aws.amazon.com/kms/latest/developerguide/kms-api-permissions-reference.html)
#' (key policy)
#' 
#' **Related operations**:
#' [`schedule_key_deletion`][kms_schedule_key_deletion]
#'
#' @usage
#' kms_cancel_key_deletion(KeyId)
#'
#' @param KeyId &#91;required&#93; Identifies the KMS key whose deletion is being canceled.
#' 
#' Specify the key ID or key ARN of the KMS key.
#' 
#' For example:
#' 
#' -   Key ID: `1234abcd-12ab-34cd-56ef-1234567890ab`
#' 
#' -   Key ARN:
#'     `arn:aws:kms:us-east-2:111122223333:key/1234abcd-12ab-34cd-56ef-1234567890ab`
#' 
#' To get the key ID and key ARN for a KMS key, use
#' [`list_keys`][kms_list_keys] or [`describe_key`][kms_describe_key].
#'
#' @return
#' A list with the following syntax:
#' ```
#' list(
#'   KeyId = "string"
#' )
#' ```
#'
#' @section Request syntax:
#' ```
#' svc$cancel_key_deletion(
#'   KeyId = "string"
#' )
#' ```
#'
#' @examples
#' \dontrun{
#' # The following example cancels deletion of the specified KMS key.
#' svc$cancel_key_deletion(
#'   KeyId = "1234abcd-12ab-34cd-56ef-1234567890ab"
#' )
#' }
#'
#' @keywords internal
#'
#' @rdname kms_cancel_key_deletion
kms_cancel_key_deletion <- function(KeyId) {
  op <- new_operation(
    name = "CancelKeyDeletion",
    http_method = "POST",
    http_path = "/",
    paginator = list()
  )
  input <- .kms$cancel_key_deletion_input(KeyId = KeyId)
  output <- .kms$cancel_key_deletion_output()
  config <- get_config()
  svc <- .kms$service(config)
  request <- new_request(svc, op, input, output)
  response <- send_request(request)
  return(response)
}
.kms$operations$cancel_key_deletion <- kms_cancel_key_deletion

#' Connects or reconnects a custom key store to its associated CloudHSM
#' cluster
#'
#' @description
#' Connects or reconnects a [custom key
#' store](https://docs.aws.amazon.com/kms/latest/developerguide/custom-key-store-overview.html)
#' to its associated CloudHSM cluster.
#' 
#' The custom key store must be connected before you can create KMS keys in
#' the key store or use the KMS keys it contains. You can disconnect and
#' reconnect a custom key store at any time.
#' 
#' To connect a custom key store, its associated CloudHSM cluster must have
#' at least one active HSM. To get the number of active HSMs in a cluster,
#' use the
#' [DescribeClusters](https://docs.aws.amazon.com/cloudhsm/latest/APIReference/API_DescribeClusters.html)
#' operation. To add HSMs to the cluster, use the
#' [CreateHsm](https://docs.aws.amazon.com/cloudhsm/latest/APIReference/API_CreateHsm.html)
#' operation. Also, the [`kmsuser` crypto
#' user](https://docs.aws.amazon.com/kms/latest/developerguide/key-store-concepts.html#concept-kmsuser)
#' (CU) must not be logged into the cluster. This prevents KMS from using
#' this account to log in.
#' 
#' The connection process can take an extended amount of time to complete;
#' up to 20 minutes. This operation starts the connection process, but it
#' does not wait for it to complete. When it succeeds, this operation
#' quickly returns an HTTP 200 response and a JSON object with no
#' properties. However, this response does not indicate that the custom key
#' store is connected. To get the connection state of the custom key store,
#' use the [`describe_custom_key_stores`][kms_describe_custom_key_stores]
#' operation.
#' 
#' During the connection process, KMS finds the CloudHSM cluster that is
#' associated with the custom key store, creates the connection
#' infrastructure, connects to the cluster, logs into the CloudHSM client
#' as the `kmsuser` CU, and rotates its password.
#' 
#' The [`connect_custom_key_store`][kms_connect_custom_key_store] operation
#' might fail for various reasons. To find the reason, use the
#' [`describe_custom_key_stores`][kms_describe_custom_key_stores] operation
#' and see the `ConnectionErrorCode` in the response. For help interpreting
#' the `ConnectionErrorCode`, see CustomKeyStoresListEntry.
#' 
#' To fix the failure, use the
#' [`disconnect_custom_key_store`][kms_disconnect_custom_key_store]
#' operation to disconnect the custom key store, correct the error, use the
#' [`update_custom_key_store`][kms_update_custom_key_store] operation if
#' necessary, and then use
#' [`connect_custom_key_store`][kms_connect_custom_key_store] again.
#' 
#' If you are having trouble connecting or disconnecting a custom key
#' store, see [Troubleshooting a Custom Key
#' Store](https://docs.aws.amazon.com/kms/latest/developerguide/fix-keystore.html)
#' in the *Key Management Service Developer Guide*.
#' 
#' **Cross-account use**: No. You cannot perform this operation on a custom
#' key store in a different Amazon Web Services account.
#' 
#' **Required permissions**:
#' [kms:ConnectCustomKeyStore](https://docs.aws.amazon.com/kms/latest/developerguide/kms-api-permissions-reference.html)
#' (IAM policy)
#' 
#' **Related operations**
#' 
#' -   [`create_custom_key_store`][kms_create_custom_key_store]
#' 
#' -   [`delete_custom_key_store`][kms_delete_custom_key_store]
#' 
#' -   [`describe_custom_key_stores`][kms_describe_custom_key_stores]
#' 
#' -   [`disconnect_custom_key_store`][kms_disconnect_custom_key_store]
#' 
#' -   [`update_custom_key_store`][kms_update_custom_key_store]
#'
#' @usage
#' kms_connect_custom_key_store(CustomKeyStoreId)
#'
#' @param CustomKeyStoreId &#91;required&#93; Enter the key store ID of the custom key store that you want to connect.
#' To find the ID of a custom key store, use the
#' [`describe_custom_key_stores`][kms_describe_custom_key_stores]
#' operation.
#'
#' @return
#' An empty list.
#'
#' @section Request syntax:
#' ```
#' svc$connect_custom_key_store(
#'   CustomKeyStoreId = "string"
#' )
#' ```
#'
#' @examples
#' \dontrun{
#' # This example connects an AWS KMS custom key store to its AWS CloudHSM
#' # cluster. This operation does not return any data. To verify that the
#' # custom key store is connected, use the
#' # <code>DescribeCustomKeyStores</code> operation.
#' svc$connect_custom_key_store(
#'   CustomKeyStoreId = "cks-1234567890abcdef0"
#' )
#' }
#'
#' @keywords internal
#'
#' @rdname kms_connect_custom_key_store
kms_connect_custom_key_store <- function(CustomKeyStoreId) {
  op <- new_operation(
    name = "ConnectCustomKeyStore",
    http_method = "POST",
    http_path = "/",
    paginator = list()
  )
  input <- .kms$connect_custom_key_store_input(CustomKeyStoreId = CustomKeyStoreId)
  output <- .kms$connect_custom_key_store_output()
  config <- get_config()
  svc <- .kms$service(config)
  request <- new_request(svc, op, input, output)
  response <- send_request(request)
  return(response)
}
.kms$operations$connect_custom_key_store <- kms_connect_custom_key_store

#' Creates a friendly name for a KMS key
#'
#' @description
#' Creates a friendly name for a KMS key.
#' 
#' Adding, deleting, or updating an alias can allow or deny permission to
#' the KMS key. For details, see [ABAC in
#' KMS](https://docs.aws.amazon.com/kms/latest/developerguide/abac.html) in
#' the *Key Management Service Developer Guide*.
#' 
#' You can use an alias to identify a KMS key in the KMS console, in the
#' [`describe_key`][kms_describe_key] operation and in [cryptographic
#' operations](https://docs.aws.amazon.com/kms/latest/developerguide/concepts.html#cryptographic-operations),
#' such as [`encrypt`][kms_encrypt] and
#' [`generate_data_key`][kms_generate_data_key]. You can also change the
#' KMS key that's associated with the alias
#' ([`update_alias`][kms_update_alias]) or delete the alias
#' ([`delete_alias`][kms_delete_alias]) at any time. These operations don't
#' affect the underlying KMS key.
#' 
#' You can associate the alias with any customer managed key in the same
#' Amazon Web Services Region. Each alias is associated with only one KMS
#' key at a time, but a KMS key can have multiple aliases. A valid KMS key
#' is required. You can't create an alias without a KMS key.
#' 
#' The alias must be unique in the account and Region, but you can have
#' aliases with the same name in different Regions. For detailed
#' information about aliases, see [Using
#' aliases](https://docs.aws.amazon.com/kms/latest/developerguide/kms-alias.html)
#' in the *Key Management Service Developer Guide*.
#' 
#' This operation does not return a response. To get the alias that you
#' created, use the [`list_aliases`][kms_list_aliases] operation.
#' 
#' The KMS key that you use for this operation must be in a compatible key
#' state. For details, see [Key states of KMS
#' keys](https://docs.aws.amazon.com/kms/latest/developerguide/key-state.html)
#' in the *Key Management Service Developer Guide*.
#' 
#' **Cross-account use**: No. You cannot perform this operation on an alias
#' in a different Amazon Web Services account.
#' 
#' **Required permissions**
#' 
#' -   [kms:CreateAlias](https://docs.aws.amazon.com/kms/latest/developerguide/kms-api-permissions-reference.html)
#'     on the alias (IAM policy).
#' 
#' -   [kms:CreateAlias](https://docs.aws.amazon.com/kms/latest/developerguide/kms-api-permissions-reference.html)
#'     on the KMS key (key policy).
#' 
#' For details, see [Controlling access to
#' aliases](https://docs.aws.amazon.com/kms/latest/developerguide/kms-alias.html#alias-access)
#' in the *Key Management Service Developer Guide*.
#' 
#' **Related operations:**
#' 
#' -   [`delete_alias`][kms_delete_alias]
#' 
#' -   [`list_aliases`][kms_list_aliases]
#' 
#' -   [`update_alias`][kms_update_alias]
#'
#' @usage
#' kms_create_alias(AliasName, TargetKeyId)
#'
#' @param AliasName &#91;required&#93; Specifies the alias name. This value must begin with `alias/` followed
#' by a name, such as `alias/ExampleAlias`.
#' 
#' The `AliasName` value must be string of 1-256 characters. It can contain
#' only alphanumeric characters, forward slashes (/), underscores (_), and
#' dashes (-). The alias name cannot begin with `alias/aws/`. The
#' `alias/aws/` prefix is reserved for [Amazon Web Services managed
#' keys](https://docs.aws.amazon.com/kms/latest/developerguide/concepts.html#aws-managed-cmk).
#' @param TargetKeyId &#91;required&#93; Associates the alias with the specified [customer managed
#' key](https://docs.aws.amazon.com/kms/latest/developerguide/concepts.html#customer-cmk).
#' The KMS key must be in the same Amazon Web Services Region.
#' 
#' A valid key ID is required. If you supply a null or empty string value,
#' this operation returns an error.
#' 
#' For help finding the key ID and ARN, see [Finding the Key ID and
#' ARN](https://docs.aws.amazon.com/kms/latest/developerguide/viewing-keys.html#find-cmk-id-arn)
#' in the *Key Management Service Developer Guide* .
#' 
#' Specify the key ID or key ARN of the KMS key.
#' 
#' For example:
#' 
#' -   Key ID: `1234abcd-12ab-34cd-56ef-1234567890ab`
#' 
#' -   Key ARN:
#'     `arn:aws:kms:us-east-2:111122223333:key/1234abcd-12ab-34cd-56ef-1234567890ab`
#' 
#' To get the key ID and key ARN for a KMS key, use
#' [`list_keys`][kms_list_keys] or [`describe_key`][kms_describe_key].
#'
#' @return
#' An empty list.
#'
#' @section Request syntax:
#' ```
#' svc$create_alias(
#'   AliasName = "string",
#'   TargetKeyId = "string"
#' )
#' ```
#'
#' @examples
#' \dontrun{
#' # The following example creates an alias for the specified KMS key.
#' svc$create_alias(
#'   AliasName = "alias/ExampleAlias",
#'   TargetKeyId = "1234abcd-12ab-34cd-56ef-1234567890ab"
#' )
#' }
#'
#' @keywords internal
#'
#' @rdname kms_create_alias
kms_create_alias <- function(AliasName, TargetKeyId) {
  op <- new_operation(
    name = "CreateAlias",
    http_method = "POST",
    http_path = "/",
    paginator = list()
  )
  input <- .kms$create_alias_input(AliasName = AliasName, TargetKeyId = TargetKeyId)
  output <- .kms$create_alias_output()
  config <- get_config()
  svc <- .kms$service(config)
  request <- new_request(svc, op, input, output)
  response <- send_request(request)
  return(response)
}
.kms$operations$create_alias <- kms_create_alias

#' Creates a custom key store that is associated with an CloudHSM cluster
#' that you own and manage
#'
#' @description
#' Creates a [custom key
#' store](https://docs.aws.amazon.com/kms/latest/developerguide/custom-key-store-overview.html)
#' that is associated with an [CloudHSM
#' cluster](https://docs.aws.amazon.com/cloudhsm/latest/userguide/clusters.html)
#' that you own and manage.
#' 
#' This operation is part of the [custom key store
#' feature](https://docs.aws.amazon.com/kms/latest/developerguide/custom-key-store-overview.html)
#' feature in KMS, which combines the convenience and extensive integration
#' of KMS with the isolation and control of a single-tenant key store.
#' 
#' Before you create the custom key store, you must assemble the required
#' elements, including an CloudHSM cluster that fulfills the requirements
#' for a custom key store. For details about the required elements, see
#' [Assemble the
#' Prerequisites](https://docs.aws.amazon.com/kms/latest/developerguide/create-keystore.html#before-keystore)
#' in the *Key Management Service Developer Guide*.
#' 
#' When the operation completes successfully, it returns the ID of the new
#' custom key store. Before you can use your new custom key store, you need
#' to use the [`connect_custom_key_store`][kms_connect_custom_key_store]
#' operation to connect the new key store to its CloudHSM cluster. Even if
#' you are not going to use your custom key store immediately, you might
#' want to connect it to verify that all settings are correct and then
#' disconnect it until you are ready to use it.
#' 
#' For help with failures, see [Troubleshooting a Custom Key
#' Store](https://docs.aws.amazon.com/kms/latest/developerguide/fix-keystore.html)
#' in the *Key Management Service Developer Guide*.
#' 
#' **Cross-account use**: No. You cannot perform this operation on a custom
#' key store in a different Amazon Web Services account.
#' 
#' **Required permissions**:
#' [kms:CreateCustomKeyStore](https://docs.aws.amazon.com/kms/latest/developerguide/kms-api-permissions-reference.html)
#' (IAM policy).
#' 
#' **Related operations:**
#' 
#' -   [`connect_custom_key_store`][kms_connect_custom_key_store]
#' 
#' -   [`delete_custom_key_store`][kms_delete_custom_key_store]
#' 
#' -   [`describe_custom_key_stores`][kms_describe_custom_key_stores]
#' 
#' -   [`disconnect_custom_key_store`][kms_disconnect_custom_key_store]
#' 
#' -   [`update_custom_key_store`][kms_update_custom_key_store]
#'
#' @usage
#' kms_create_custom_key_store(CustomKeyStoreName, CloudHsmClusterId,
#'   TrustAnchorCertificate, KeyStorePassword)
#'
#' @param CustomKeyStoreName &#91;required&#93; Specifies a friendly name for the custom key store. The name must be
#' unique in your Amazon Web Services account.
#' @param CloudHsmClusterId Identifies the CloudHSM cluster for the custom key store. Enter the
#' cluster ID of any active CloudHSM cluster that is not already associated
#' with a custom key store. To find the cluster ID, use the
#' [DescribeClusters](https://docs.aws.amazon.com/cloudhsm/latest/APIReference/API_DescribeClusters.html)
#' operation.
#' @param TrustAnchorCertificate Enter the content of the trust anchor certificate for the cluster. This
#' is the content of the `customerCA.crt` file that you created when you
#' [initialized the
#' cluster](https://docs.aws.amazon.com/cloudhsm/latest/userguide/initialize-cluster.html).
#' @param KeyStorePassword Enter the password of the [`kmsuser` crypto user (CU)
#' account](https://docs.aws.amazon.com/kms/latest/developerguide/key-store-concepts.html#concept-kmsuser)
#' in the specified CloudHSM cluster. KMS logs into the cluster as this
#' user to manage key material on your behalf.
#' 
#' The password must be a string of 7 to 32 characters. Its value is case
#' sensitive.
#' 
#' This parameter tells KMS the `kmsuser` account password; it does not
#' change the password in the CloudHSM cluster.
#'
#' @return
#' A list with the following syntax:
#' ```
#' list(
#'   CustomKeyStoreId = "string"
#' )
#' ```
#'
#' @section Request syntax:
#' ```
#' svc$create_custom_key_store(
#'   CustomKeyStoreName = "string",
#'   CloudHsmClusterId = "string",
#'   TrustAnchorCertificate = "string",
#'   KeyStorePassword = "string"
#' )
#' ```
#'
#' @examples
#' \dontrun{
#' # This example creates a custom key store that is associated with an AWS
#' # CloudHSM cluster.
#' svc$create_custom_key_store(
#'   CloudHsmClusterId = "cluster-1a23b4cdefg",
#'   CustomKeyStoreName = "ExampleKeyStore",
#'   KeyStorePassword = "kmsPswd",
#'   TrustAnchorCertificate = "<certificate-goes-here>"
#' )
#' }
#'
#' @keywords internal
#'
#' @rdname kms_create_custom_key_store
kms_create_custom_key_store <- function(CustomKeyStoreName, CloudHsmClusterId = NULL, TrustAnchorCertificate = NULL, KeyStorePassword = NULL) {
  op <- new_operation(
    name = "CreateCustomKeyStore",
    http_method = "POST",
    http_path = "/",
    paginator = list()
  )
  input <- .kms$create_custom_key_store_input(CustomKeyStoreName = CustomKeyStoreName, CloudHsmClusterId = CloudHsmClusterId, TrustAnchorCertificate = TrustAnchorCertificate, KeyStorePassword = KeyStorePassword)
  output <- .kms$create_custom_key_store_output()
  config <- get_config()
  svc <- .kms$service(config)
  request <- new_request(svc, op, input, output)
  response <- send_request(request)
  return(response)
}
.kms$operations$create_custom_key_store <- kms_create_custom_key_store

#' Adds a grant to a KMS key
#'
#' @description
#' Adds a grant to a KMS key.
#' 
#' A *grant* is a policy instrument that allows Amazon Web Services
#' principals to use KMS keys in cryptographic operations. It also can
#' allow them to view a KMS key ([`describe_key`][kms_describe_key]) and
#' create and manage grants. When authorizing access to a KMS key, grants
#' are considered along with key policies and IAM policies. Grants are
#' often used for temporary permissions because you can create one, use its
#' permissions, and delete it without changing your key policies or IAM
#' policies.
#' 
#' For detailed information about grants, including grant terminology, see
#' [Grants in
#' KMS](https://docs.aws.amazon.com/kms/latest/developerguide/grants.html)
#' in the *Key Management Service Developer Guide* . For examples of
#' working with grants in several programming languages, see [Programming
#' grants](https://docs.aws.amazon.com/kms/latest/developerguide/programming-grants.html).
#' 
#' The [`create_grant`][kms_create_grant] operation returns a `GrantToken`
#' and a `GrantId`.
#' 
#' -   When you create, retire, or revoke a grant, there might be a brief
#'     delay, usually less than five minutes, until the grant is available
#'     throughout KMS. This state is known as *eventual consistency*. Once
#'     the grant has achieved eventual consistency, the grantee principal
#'     can use the permissions in the grant without identifying the grant.
#' 
#'     However, to use the permissions in the grant immediately, use the
#'     `GrantToken` that [`create_grant`][kms_create_grant] returns. For
#'     details, see [Using a grant
#'     token](https://docs.aws.amazon.com/kms/latest/developerguide/grant-manage.html#using-grant-token)
#'     in the *Key Management Service Developer Guide* .
#' 
#' -   The [`create_grant`][kms_create_grant] operation also returns a
#'     `GrantId`. You can use the `GrantId` and a key identifier to
#'     identify the grant in the [`retire_grant`][kms_retire_grant] and
#'     [`revoke_grant`][kms_revoke_grant] operations. To find the grant ID,
#'     use the [`list_grants`][kms_list_grants] or
#'     [`list_retirable_grants`][kms_list_retirable_grants] operations.
#' 
#' The KMS key that you use for this operation must be in a compatible key
#' state. For details, see [Key states of KMS
#' keys](https://docs.aws.amazon.com/kms/latest/developerguide/key-state.html)
#' in the *Key Management Service Developer Guide*.
#' 
#' **Cross-account use**: Yes. To perform this operation on a KMS key in a
#' different Amazon Web Services account, specify the key ARN in the value
#' of the `KeyId` parameter.
#' 
#' **Required permissions**:
#' [kms:CreateGrant](https://docs.aws.amazon.com/kms/latest/developerguide/kms-api-permissions-reference.html)
#' (key policy)
#' 
#' **Related operations:**
#' 
#' -   [`list_grants`][kms_list_grants]
#' 
#' -   [`list_retirable_grants`][kms_list_retirable_grants]
#' 
#' -   [`retire_grant`][kms_retire_grant]
#' 
#' -   [`revoke_grant`][kms_revoke_grant]
#'
#' @usage
#' kms_create_grant(KeyId, GranteePrincipal, RetiringPrincipal, Operations,
#'   Constraints, GrantTokens, Name)
#'
#' @param KeyId &#91;required&#93; Identifies the KMS key for the grant. The grant gives principals
#' permission to use this KMS key.
#' 
#' Specify the key ID or key ARN of the KMS key. To specify a KMS key in a
#' different Amazon Web Services account, you must use the key ARN.
#' 
#' For example:
#' 
#' -   Key ID: `1234abcd-12ab-34cd-56ef-1234567890ab`
#' 
#' -   Key ARN:
#'     `arn:aws:kms:us-east-2:111122223333:key/1234abcd-12ab-34cd-56ef-1234567890ab`
#' 
#' To get the key ID and key ARN for a KMS key, use
#' [`list_keys`][kms_list_keys] or [`describe_key`][kms_describe_key].
#' @param GranteePrincipal &#91;required&#93; The identity that gets the permissions specified in the grant.
#' 
#' To specify the principal, use the [Amazon Resource Name
#' (ARN)](https://docs.aws.amazon.com/general/latest/gr/aws-arns-and-namespaces.html)
#' of an Amazon Web Services principal. Valid Amazon Web Services
#' principals include Amazon Web Services accounts (root), IAM users, IAM
#' roles, federated users, and assumed role users. For examples of the ARN
#' syntax to use for specifying a principal, see [Amazon Web Services
#' Identity and Access Management
#' (IAM)](https://docs.aws.amazon.com/general/latest/gr/aws-arns-and-namespaces.html#arn-syntax-iam)
#' in the Example ARNs section of the *Amazon Web Services General
#' Reference*.
#' @param RetiringPrincipal The principal that has permission to use the
#' [`retire_grant`][kms_retire_grant] operation to retire the grant.
#' 
#' To specify the principal, use the [Amazon Resource Name
#' (ARN)](https://docs.aws.amazon.com/general/latest/gr/aws-arns-and-namespaces.html)
#' of an Amazon Web Services principal. Valid Amazon Web Services
#' principals include Amazon Web Services accounts (root), IAM users,
#' federated users, and assumed role users. For examples of the ARN syntax
#' to use for specifying a principal, see [Amazon Web Services Identity and
#' Access Management
#' (IAM)](https://docs.aws.amazon.com/general/latest/gr/aws-arns-and-namespaces.html#arn-syntax-iam)
#' in the Example ARNs section of the *Amazon Web Services General
#' Reference*.
#' 
#' The grant determines the retiring principal. Other principals might have
#' permission to retire the grant or revoke the grant. For details, see
#' [`revoke_grant`][kms_revoke_grant] and [Retiring and revoking
#' grants](https://docs.aws.amazon.com/kms/latest/developerguide/grant-manage.html#grant-delete)
#' in the *Key Management Service Developer Guide*.
#' @param Operations &#91;required&#93; A list of operations that the grant permits.
#' 
#' This list must include only operations that are permitted in a grant.
#' Also, the operation must be supported on the KMS key. For example, you
#' cannot create a grant for a symmetric encryption KMS key that allows the
#' [`sign`][kms_sign] operation, or a grant for an asymmetric KMS key that
#' allows the [`generate_data_key`][kms_generate_data_key] operation. If
#' you try, KMS returns a `ValidationError` exception. For details, see
#' [Grant
#' operations](https://docs.aws.amazon.com/kms/latest/developerguide/grants.html#terms-grant-operations)
#' in the *Key Management Service Developer Guide*.
#' @param Constraints Specifies a grant constraint.
#' 
#' KMS supports the `EncryptionContextEquals` and `EncryptionContextSubset`
#' grant constraints. Each constraint value can include up to 8 encryption
#' context pairs. The encryption context value in each constraint cannot
#' exceed 384 characters. For information about grant constraints, see
#' [Using grant
#' constraints](https://docs.aws.amazon.com/kms/latest/developerguide/create-grant-overview.html#grant-constraints)
#' in the *Key Management Service Developer Guide*. For more information
#' about encryption context, see [Encryption
#' context](https://docs.aws.amazon.com/kms/latest/developerguide/concepts.html#encrypt_context)
#' in the *Key Management Service Developer Guide* .
#' 
#' The encryption context grant constraints allow the permissions in the
#' grant only when the encryption context in the request matches
#' (`EncryptionContextEquals`) or includes (`EncryptionContextSubset`) the
#' encryption context specified in this structure.
#' 
#' The encryption context grant constraints are supported only on [grant
#' operations](https://docs.aws.amazon.com/kms/latest/developerguide/grants.html#terms-grant-operations)
#' that include an `EncryptionContext` parameter, such as cryptographic
#' operations on symmetric encryption KMS keys. Grants with grant
#' constraints can include the [`describe_key`][kms_describe_key] and
#' [`retire_grant`][kms_retire_grant] operations, but the constraint
#' doesn't apply to these operations. If a grant with a grant constraint
#' includes the [`create_grant`][kms_create_grant] operation, the
#' constraint requires that any grants created with the
#' [`create_grant`][kms_create_grant] permission have an equally strict or
#' stricter encryption context constraint.
#' 
#' You cannot use an encryption context grant constraint for cryptographic
#' operations with asymmetric KMS keys or HMAC KMS keys. These keys don't
#' support an encryption context.
#' @param GrantTokens A list of grant tokens.
#' 
#' Use a grant token when your permission to call this operation comes from
#' a new grant that has not yet achieved *eventual consistency*. For more
#' information, see [Grant
#' token](https://docs.aws.amazon.com/kms/latest/developerguide/grants.html#grant_token)
#' and [Using a grant
#' token](https://docs.aws.amazon.com/kms/latest/developerguide/grant-manage.html#using-grant-token)
#' in the *Key Management Service Developer Guide*.
#' @param Name A friendly name for the grant. Use this value to prevent the unintended
#' creation of duplicate grants when retrying this request.
#' 
#' When this value is absent, all [`create_grant`][kms_create_grant]
#' requests result in a new grant with a unique `GrantId` even if all the
#' supplied parameters are identical. This can result in unintended
#' duplicates when you retry the [`create_grant`][kms_create_grant]
#' request.
#' 
#' When this value is present, you can retry a
#' [`create_grant`][kms_create_grant] request with identical parameters; if
#' the grant already exists, the original `GrantId` is returned without
#' creating a new grant. Note that the returned grant token is unique with
#' every [`create_grant`][kms_create_grant] request, even when a duplicate
#' `GrantId` is returned. All grant tokens for the same grant ID can be
#' used interchangeably.
#'
#' @return
#' A list with the following syntax:
#' ```
#' list(
#'   GrantToken = "string",
#'   GrantId = "string"
#' )
#' ```
#'
#' @section Request syntax:
#' ```
#' svc$create_grant(
#'   KeyId = "string",
#'   GranteePrincipal = "string",
#'   RetiringPrincipal = "string",
#'   Operations = list(
#'     "Decrypt"|"Encrypt"|"GenerateDataKey"|"GenerateDataKeyWithoutPlaintext"|"ReEncryptFrom"|"ReEncryptTo"|"Sign"|"Verify"|"GetPublicKey"|"CreateGrant"|"RetireGrant"|"DescribeKey"|"GenerateDataKeyPair"|"GenerateDataKeyPairWithoutPlaintext"|"GenerateMac"|"VerifyMac"
#'   ),
#'   Constraints = list(
#'     EncryptionContextSubset = list(
#'       "string"
#'     ),
#'     EncryptionContextEquals = list(
#'       "string"
#'     )
#'   ),
#'   GrantTokens = list(
#'     "string"
#'   ),
#'   Name = "string"
#' )
#' ```
#'
#' @examples
#' \dontrun{
#' # The following example creates a grant that allows the specified IAM role
#' # to encrypt data with the specified KMS key.
#' svc$create_grant(
#'   GranteePrincipal = "arn:aws:iam::111122223333:role/ExampleRole",
#'   KeyId = "arn:aws:kms:us-east-2:444455556666:key/1234abcd-12ab-34cd-56ef-1234567890ab",
#'   Operations = list(
#'     "Encrypt",
#'     "Decrypt"
#'   )
#' )
#' }
#'
#' @keywords internal
#'
#' @rdname kms_create_grant
kms_create_grant <- function(KeyId, GranteePrincipal, RetiringPrincipal = NULL, Operations, Constraints = NULL, GrantTokens = NULL, Name = NULL) {
  op <- new_operation(
    name = "CreateGrant",
    http_method = "POST",
    http_path = "/",
    paginator = list()
  )
  input <- .kms$create_grant_input(KeyId = KeyId, GranteePrincipal = GranteePrincipal, RetiringPrincipal = RetiringPrincipal, Operations = Operations, Constraints = Constraints, GrantTokens = GrantTokens, Name = Name)
  output <- .kms$create_grant_output()
  config <- get_config()
  svc <- .kms$service(config)
  request <- new_request(svc, op, input, output)
  response <- send_request(request)
  return(response)
}
.kms$operations$create_grant <- kms_create_grant

#' Creates a unique customer managed KMS key in your Amazon Web Services
#' account and Region
#'
#' @description
#' Creates a unique customer managed [KMS
#' key](https://docs.aws.amazon.com/kms/latest/developerguide/concepts.html#kms-keys)
#' in your Amazon Web Services account and Region.
#' 
#' In addition to the required parameters, you can use the optional
#' parameters to specify a key policy, description, tags, and other useful
#' elements for any key type.
#' 
#' KMS is replacing the term *customer master key (CMK)* with *KMS key* and
#' *KMS key*. The concept has not changed. To prevent breaking changes, KMS
#' is keeping some variations of this term.
#' 
#' To create different types of KMS keys, use the following guidance:
#' 
#' ### Symmetric encryption KMS key
#' 
#' To create a symmetric encryption KMS key, you aren't required to specify
#' any parameters. The default value for `KeySpec`, `SYMMETRIC_DEFAULT`,
#' and the default value for `KeyUsage`, `ENCRYPT_DECRYPT`, create a
#' symmetric encryption KMS key. For technical details, see
#' [SYMMETRIC_DEFAULT key
#' spec](https://docs.aws.amazon.com/kms/latest/developerguide/asymmetric-key-specs.html#key-spec-symmetric-default)
#' in the *Key Management Service Developer Guide*.
#' 
#' If you need a key for basic encryption and decryption or you are
#' creating a KMS key to protect your resources in an Amazon Web Services
#' service, create a symmetric encryption KMS key. The key material in a
#' symmetric encryption key never leaves KMS unencrypted. You can use a
#' symmetric encryption KMS key to encrypt and decrypt data up to 4,096
#' bytes, but they are typically used to generate data keys and data keys
#' pairs. For details, see [`generate_data_key`][kms_generate_data_key] and
#' [`generate_data_key_pair`][kms_generate_data_key_pair].
#' 
#' ### Asymmetric KMS keys
#' 
#' To create an asymmetric KMS key, use the `KeySpec` parameter to specify
#' the type of key material in the KMS key. Then, use the `KeyUsage`
#' parameter to determine whether the KMS key will be used to encrypt and
#' decrypt or sign and verify. You can't change these properties after the
#' KMS key is created.
#' 
#' Asymmetric KMS keys contain an RSA key pair, Elliptic Curve (ECC) key
#' pair, or an SM2 key pair (China Regions only). The private key in an
#' asymmetric KMS key never leaves KMS unencrypted. However, you can use
#' the [`get_public_key`][kms_get_public_key] operation to download the
#' public key so it can be used outside of KMS. KMS keys with RSA or SM2
#' key pairs can be used to encrypt or decrypt data or sign and verify
#' messages (but not both). KMS keys with ECC key pairs can be used only to
#' sign and verify messages. For information about asymmetric KMS keys, see
#' [Asymmetric KMS
#' keys](https://docs.aws.amazon.com/kms/latest/developerguide/symmetric-asymmetric.html)
#' in the *Key Management Service Developer Guide*.
#' 
#' ### HMAC KMS key
#' 
#' To create an HMAC KMS key, set the `KeySpec` parameter to a key spec
#' value for HMAC KMS keys. Then set the `KeyUsage` parameter to
#' `GENERATE_VERIFY_MAC`. You must set the key usage even though
#' `GENERATE_VERIFY_MAC` is the only valid key usage value for HMAC KMS
#' keys. You can't change these properties after the KMS key is created.
#' 
#' HMAC KMS keys are symmetric keys that never leave KMS unencrypted. You
#' can use HMAC keys to generate ([`generate_mac`][kms_generate_mac]) and
#' verify ([`verify_mac`][kms_verify_mac]) HMAC codes for messages up to
#' 4096 bytes.
#' 
#' HMAC KMS keys are not supported in all Amazon Web Services Regions. If
#' you try to create an HMAC KMS key in an Amazon Web Services Region in
#' which HMAC keys are not supported, the [`create_key`][kms_create_key]
#' operation returns an `UnsupportedOperationException`. For a list of
#' Regions in which HMAC KMS keys are supported, see [HMAC keys in
#' KMS](https://docs.aws.amazon.com/kms/latest/developerguide/hmac.html) in
#' the *Key Management Service Developer Guide*.
#' 
#' ### Multi-Region primary keys
#' 
#' ### Imported key material
#' 
#' To create a multi-Region *primary key* in the local Amazon Web Services
#' Region, use the `MultiRegion` parameter with a value of `True`. To
#' create a multi-Region *replica key*, that is, a KMS key with the same
#' key ID and key material as a primary key, but in a different Amazon Web
#' Services Region, use the [`replicate_key`][kms_replicate_key] operation.
#' To change a replica key to a primary key, and its primary key to a
#' replica key, use the
#' [`update_primary_region`][kms_update_primary_region] operation.
#' 
#' You can create multi-Region KMS keys for all supported KMS key types:
#' symmetric encryption KMS keys, HMAC KMS keys, asymmetric encryption KMS
#' keys, and asymmetric signing KMS keys. You can also create multi-Region
#' keys with imported key material. However, you can't create multi-Region
#' keys in a custom key store.
#' 
#' This operation supports *multi-Region keys*, an KMS feature that lets
#' you create multiple interoperable KMS keys in different Amazon Web
#' Services Regions. Because these KMS keys have the same key ID, key
#' material, and other metadata, you can use them interchangeably to
#' encrypt data in one Amazon Web Services Region and decrypt it in a
#' different Amazon Web Services Region without re-encrypting the data or
#' making a cross-Region call. For more information about multi-Region
#' keys, see [Multi-Region keys in
#' KMS](https://docs.aws.amazon.com/kms/latest/developerguide/multi-region-keys-overview.html)
#' in the *Key Management Service Developer Guide*.
#' 
#' To import your own key material, begin by creating a symmetric
#' encryption KMS key with no key material. To do this, use the `Origin`
#' parameter of [`create_key`][kms_create_key] with a value of `EXTERNAL`.
#' Next, use [`get_parameters_for_import`][kms_get_parameters_for_import]
#' operation to get a public key and import token, and use the public key
#' to encrypt your key material. Then, use
#' [`import_key_material`][kms_import_key_material] with your import token
#' to import the key material. For step-by-step instructions, see
#' [Importing Key
#' Material](https://docs.aws.amazon.com/kms/latest/developerguide/importing-keys.html)
#' in the *Key Management Service Developer Guide* .
#' 
#' This feature supports only symmetric encryption KMS keys, including
#' multi-Region symmetric encryption KMS keys. You cannot import key
#' material into any other type of KMS key.
#' 
#' To create a multi-Region primary key with imported key material, use the
#' `Origin` parameter of [`create_key`][kms_create_key] with a value of
#' `EXTERNAL` and the `MultiRegion` parameter with a value of `True`. To
#' create replicas of the multi-Region primary key, use the
#' [`replicate_key`][kms_replicate_key] operation. For more information
#' about multi-Region keys, see [Multi-Region keys in
#' KMS](https://docs.aws.amazon.com/kms/latest/developerguide/multi-region-keys-overview.html)
#' in the *Key Management Service Developer Guide*.
#' 
#' ### Custom key store
#' 
#' To create a symmetric encryption KMS key in a [custom key
#' store](https://docs.aws.amazon.com/kms/latest/developerguide/custom-key-store-overview.html),
#' use the `CustomKeyStoreId` parameter to specify the custom key store.
#' You must also use the `Origin` parameter with a value of `AWS_CLOUDHSM`.
#' The CloudHSM cluster that is associated with the custom key store must
#' have at least two active HSMs in different Availability Zones in the
#' Amazon Web Services Region.
#' 
#' Custom key stores support only symmetric encryption KMS keys. You cannot
#' create an HMAC KMS key or an asymmetric KMS key in a custom key store.
#' For information about custom key stores in KMS see [Custom key stores in
#' KMS](https://docs.aws.amazon.com/kms/latest/developerguide/custom-key-store-overview.html)
#' in the *Key Management Service Developer Guide* .
#' 
#' **Cross-account use**: No. You cannot use this operation to create a KMS
#' key in a different Amazon Web Services account.
#' 
#' **Required permissions**:
#' [kms:CreateKey](https://docs.aws.amazon.com/kms/latest/developerguide/kms-api-permissions-reference.html)
#' (IAM policy). To use the `Tags` parameter,
#' [kms:TagResource](https://docs.aws.amazon.com/kms/latest/developerguide/kms-api-permissions-reference.html)
#' (IAM policy). For examples and information about related permissions,
#' see [Allow a user to create KMS
#' keys](https://docs.aws.amazon.com/kms/latest/developerguide/iam-policies.html#iam-policy-example-create-key)
#' in the *Key Management Service Developer Guide*.
#' 
#' **Related operations:**
#' 
#' -   [`describe_key`][kms_describe_key]
#' 
#' -   [`list_keys`][kms_list_keys]
#' 
#' -   [`schedule_key_deletion`][kms_schedule_key_deletion]
#'
#' @usage
#' kms_create_key(Policy, Description, KeyUsage, CustomerMasterKeySpec,
#'   KeySpec, Origin, CustomKeyStoreId, BypassPolicyLockoutSafetyCheck, Tags,
#'   MultiRegion)
#'
#' @param Policy The key policy to attach to the KMS key. If you do not specify a key
#' policy, KMS attaches a default key policy to the KMS key. For more
#' information, see [Default key
#' policy](https://docs.aws.amazon.com/kms/latest/developerguide/key-policies.html#key-policy-default)
#' in the *Key Management Service Developer Guide*.
#' 
#' If you provide a key policy, it must meet the following criteria:
#' 
#' -   If you don't set `BypassPolicyLockoutSafetyCheck` to `True`, the key
#'     policy must allow the principal that is making the
#'     [`create_key`][kms_create_key] request to make a subsequent
#'     [`put_key_policy`][kms_put_key_policy] request on the KMS key. This
#'     reduces the risk that the KMS key becomes unmanageable. For more
#'     information, refer to the scenario in the [Default Key
#'     Policy](https://docs.aws.amazon.com/kms/latest/developerguide/key-policies.html#key-policy-default-allow-root-enable-iam)
#'     section of the *Key Management Service Developer Guide* .
#' 
#' -   Each statement in the key policy must contain one or more
#'     principals. The principals in the key policy must exist and be
#'     visible to KMS. When you create a new Amazon Web Services principal
#'     (for example, an IAM user or role), you might need to enforce a
#'     delay before including the new principal in a key policy because the
#'     new principal might not be immediately visible to KMS. For more
#'     information, see [Changes that I make are not always immediately
#'     visible](https://docs.aws.amazon.com/IAM/latest/UserGuide/troubleshoot_general.html#troubleshoot_general_eventual-consistency)
#'     in the *Amazon Web Services Identity and Access Management User
#'     Guide*.
#' 
#' A key policy document can include only the following characters:
#' 
#' -   Printable ASCII characters from the space character (`\u0020`)
#'     through the end of the ASCII character range.
#' 
#' -   Printable characters in the Basic Latin and Latin-1 Supplement
#'     character set (through `\u00FF`).
#' 
#' -   The tab (`\u0009`), line feed (`\u000A`), and carriage return
#'     (`\u000D`) special characters
#' 
#' For information about key policies, see [Key policies in
#' KMS](https://docs.aws.amazon.com/kms/latest/developerguide/key-policies.html)
#' in the *Key Management Service Developer Guide*. For help writing and
#' formatting a JSON policy document, see the [IAM JSON Policy
#' Reference](https://docs.aws.amazon.com/IAM/latest/UserGuide/reference_policies.html)
#' in the *Identity and Access Management User Guide* .
#' @param Description A description of the KMS key.
#' 
#' Use a description that helps you decide whether the KMS key is
#' appropriate for a task. The default value is an empty string (no
#' description).
#' 
#' To set or change the description after the key is created, use
#' [`update_key_description`][kms_update_key_description].
#' @param KeyUsage Determines the [cryptographic
#' operations](https://docs.aws.amazon.com/kms/latest/developerguide/concepts.html#cryptographic-operations)
#' for which you can use the KMS key. The default value is
#' `ENCRYPT_DECRYPT`. This parameter is optional when you are creating a
#' symmetric encryption KMS key; otherwise, it is required. You can't
#' change the `KeyUsage` value after the KMS key is created.
#' 
#' Select only one valid value.
#' 
#' -   For symmetric encryption KMS keys, omit the parameter or specify
#'     `ENCRYPT_DECRYPT`.
#' 
#' -   For HMAC KMS keys (symmetric), specify `GENERATE_VERIFY_MAC`.
#' 
#' -   For asymmetric KMS keys with RSA key material, specify
#'     `ENCRYPT_DECRYPT` or `SIGN_VERIFY`.
#' 
#' -   For asymmetric KMS keys with ECC key material, specify
#'     `SIGN_VERIFY`.
#' 
#' -   For asymmetric KMS keys with SM2 key material (China Regions only),
#'     specify `ENCRYPT_DECRYPT` or `SIGN_VERIFY`.
#' @param CustomerMasterKeySpec Instead, use the `KeySpec` parameter.
#' 
#' The `KeySpec` and `CustomerMasterKeySpec` parameters work the same way.
#' Only the names differ. We recommend that you use `KeySpec` parameter in
#' your code. However, to avoid breaking changes, KMS will support both
#' parameters.
#' @param KeySpec Specifies the type of KMS key to create. The default value,
#' `SYMMETRIC_DEFAULT`, creates a KMS key with a 256-bit AES-GCM key that
#' is used for encryption and decryption, except in China Regions, where it
#' creates a 128-bit symmetric key that uses SM4 encryption. For help
#' choosing a key spec for your KMS key, see [Choosing a KMS key
#' type](https://docs.aws.amazon.com/kms/latest/developerguide/key-types.html#symm-asymm-choose)
#' in the *Key Management Service Developer Guide* .
#' 
#' The `KeySpec` determines whether the KMS key contains a symmetric key or
#' an asymmetric key pair. It also determines the cryptographic algorithms
#' that the KMS key supports. You can't change the `KeySpec` after the KMS
#' key is created. To further restrict the algorithms that can be used with
#' the KMS key, use a condition key in its key policy or IAM policy. For
#' more information, see
#' [kms:EncryptionAlgorithm](https://docs.aws.amazon.com/kms/latest/developerguide/policy-conditions.html#conditions-kms-encryption-algorithm),
#' [kms:MacAlgorithm](https://docs.aws.amazon.com/kms/latest/developerguide/policy-conditions.html#conditions-kms-mac-algorithm)
#' or [kms:Signing
#' Algorithm](https://docs.aws.amazon.com/kms/latest/developerguide/policy-conditions.html#conditions-kms-signing-algorithm)
#' in the *Key Management Service Developer Guide* .
#' 
#' [Amazon Web Services services that are integrated with
#' KMS](https://aws.amazon.com/kms/features/#AWS_Service_Integration) use
#' symmetric encryption KMS keys to protect your data. These services do
#' not support asymmetric KMS keys or HMAC KMS keys.
#' 
#' KMS supports the following key specs for KMS keys:
#' 
#' -   Symmetric encryption key (default)
#' 
#'     -   `SYMMETRIC_DEFAULT`
#' 
#' -   HMAC keys (symmetric)
#' 
#'     -   `HMAC_224`
#' 
#'     -   `HMAC_256`
#' 
#'     -   `HMAC_384`
#' 
#'     -   `HMAC_512`
#' 
#' -   Asymmetric RSA key pairs
#' 
#'     -   `RSA_2048`
#' 
#'     -   `RSA_3072`
#' 
#'     -   `RSA_4096`
#' 
#' -   Asymmetric NIST-recommended elliptic curve key pairs
#' 
#'     -   `ECC_NIST_P256` (secp256r1)
#' 
#'     -   `ECC_NIST_P384` (secp384r1)
#' 
#'     -   `ECC_NIST_P521` (secp521r1)
#' 
#' -   Other asymmetric elliptic curve key pairs
#' 
#'     -   `ECC_SECG_P256K1` (secp256k1), commonly used for
#'         cryptocurrencies.
#' 
#' -   SM2 key pairs (China Regions only)
#' 
#'     -   `SM2`
#' @param Origin The source of the key material for the KMS key. You cannot change the
#' origin after you create the KMS key. The default is `AWS_KMS`, which
#' means that KMS creates the key material.
#' 
#' To create a KMS key with no key material (for imported key material),
#' set the value to `EXTERNAL`. For more information about importing key
#' material into KMS, see [Importing Key
#' Material](https://docs.aws.amazon.com/kms/latest/developerguide/importing-keys.html)
#' in the *Key Management Service Developer Guide*. This value is valid
#' only for symmetric encryption KMS keys.
#' 
#' To create a KMS key in an KMS [custom key
#' store](https://docs.aws.amazon.com/kms/latest/developerguide/custom-key-store-overview.html)
#' and create its key material in the associated CloudHSM cluster, set this
#' value to `AWS_CLOUDHSM`. You must also use the `CustomKeyStoreId`
#' parameter to identify the custom key store. This value is valid only for
#' symmetric encryption KMS keys.
#' @param CustomKeyStoreId Creates the KMS key in the specified [custom key
#' store](https://docs.aws.amazon.com/kms/latest/developerguide/custom-key-store-overview.html)
#' and the key material in its associated CloudHSM cluster. To create a KMS
#' key in a custom key store, you must also specify the `Origin` parameter
#' with a value of `AWS_CLOUDHSM`. The CloudHSM cluster that is associated
#' with the custom key store must have at least two active HSMs, each in a
#' different Availability Zone in the Region.
#' 
#' This parameter is valid only for symmetric encryption KMS keys in a
#' single Region. You cannot create any other type of KMS key in a custom
#' key store.
#' 
#' To find the ID of a custom key store, use the
#' [`describe_custom_key_stores`][kms_describe_custom_key_stores]
#' operation.
#' 
#' The response includes the custom key store ID and the ID of the CloudHSM
#' cluster.
#' 
#' This operation is part of the [custom key store
#' feature](https://docs.aws.amazon.com/kms/latest/developerguide/custom-key-store-overview.html)
#' feature in KMS, which combines the convenience and extensive integration
#' of KMS with the isolation and control of a single-tenant key store.
#' @param BypassPolicyLockoutSafetyCheck A flag to indicate whether to bypass the key policy lockout safety
#' check.
#' 
#' Setting this value to true increases the risk that the KMS key becomes
#' unmanageable. Do not set this value to true indiscriminately.
#' 
#' For more information, refer to the scenario in the [Default Key
#' Policy](https://docs.aws.amazon.com/kms/latest/developerguide/key-policies.html#key-policy-default-allow-root-enable-iam)
#' section in the *Key Management Service Developer Guide* .
#' 
#' Use this parameter only when you include a policy in the request and you
#' intend to prevent the principal that is making the request from making a
#' subsequent [`put_key_policy`][kms_put_key_policy] request on the KMS
#' key.
#' 
#' The default value is false.
#' @param Tags Assigns one or more tags to the KMS key. Use this parameter to tag the
#' KMS key when it is created. To tag an existing KMS key, use the
#' [`tag_resource`][kms_tag_resource] operation.
#' 
#' Tagging or untagging a KMS key can allow or deny permission to the KMS
#' key. For details, see [ABAC in
#' KMS](https://docs.aws.amazon.com/kms/latest/developerguide/abac.html) in
#' the *Key Management Service Developer Guide*.
#' 
#' To use this parameter, you must have
#' [kms:TagResource](https://docs.aws.amazon.com/kms/latest/developerguide/kms-api-permissions-reference.html)
#' permission in an IAM policy.
#' 
#' Each tag consists of a tag key and a tag value. Both the tag key and the
#' tag value are required, but the tag value can be an empty (null) string.
#' You cannot have more than one tag on a KMS key with the same tag key. If
#' you specify an existing tag key with a different tag value, KMS replaces
#' the current tag value with the specified one.
#' 
#' When you add tags to an Amazon Web Services resource, Amazon Web
#' Services generates a cost allocation report with usage and costs
#' aggregated by tags. Tags can also be used to control access to a KMS
#' key. For details, see [Tagging
#' Keys](https://docs.aws.amazon.com/kms/latest/developerguide/tagging-keys.html).
#' @param MultiRegion Creates a multi-Region primary key that you can replicate into other
#' Amazon Web Services Regions. You cannot change this value after you
#' create the KMS key.
#' 
#' For a multi-Region key, set this parameter to `True`. For a
#' single-Region KMS key, omit this parameter or set it to `False`. The
#' default value is `False`.
#' 
#' This operation supports *multi-Region keys*, an KMS feature that lets
#' you create multiple interoperable KMS keys in different Amazon Web
#' Services Regions. Because these KMS keys have the same key ID, key
#' material, and other metadata, you can use them interchangeably to
#' encrypt data in one Amazon Web Services Region and decrypt it in a
#' different Amazon Web Services Region without re-encrypting the data or
#' making a cross-Region call. For more information about multi-Region
#' keys, see [Multi-Region keys in
#' KMS](https://docs.aws.amazon.com/kms/latest/developerguide/multi-region-keys-overview.html)
#' in the *Key Management Service Developer Guide*.
#' 
#' This value creates a *primary key*, not a replica. To create a *replica
#' key*, use the [`replicate_key`][kms_replicate_key] operation.
#' 
#' You can create a multi-Region version of a symmetric encryption KMS key,
#' an HMAC KMS key, an asymmetric KMS key, or a KMS key with imported key
#' material. However, you cannot create a multi-Region key in a custom key
#' store.
#'
#' @return
#' A list with the following syntax:
#' ```
#' list(
#'   KeyMetadata = list(
#'     AWSAccountId = "string",
#'     KeyId = "string",
#'     Arn = "string",
#'     CreationDate = as.POSIXct(
#'       "2015-01-01"
#'     ),
#'     Enabled = TRUE|FALSE,
#'     Description = "string",
#'     KeyUsage = "SIGN_VERIFY"|"ENCRYPT_DECRYPT"|"GENERATE_VERIFY_MAC",
#'     KeyState = "Creating"|"Enabled"|"Disabled"|"PendingDeletion"|"PendingImport"|"PendingReplicaDeletion"|"Unavailable"|"Updating",
#'     DeletionDate = as.POSIXct(
#'       "2015-01-01"
#'     ),
#'     ValidTo = as.POSIXct(
#'       "2015-01-01"
#'     ),
#'     Origin = "AWS_KMS"|"EXTERNAL"|"AWS_CLOUDHSM",
#'     CustomKeyStoreId = "string",
#'     CloudHsmClusterId = "string",
#'     ExpirationModel = "KEY_MATERIAL_EXPIRES"|"KEY_MATERIAL_DOES_NOT_EXPIRE",
#'     KeyManager = "AWS"|"CUSTOMER",
#'     CustomerMasterKeySpec = "RSA_2048"|"RSA_3072"|"RSA_4096"|"ECC_NIST_P256"|"ECC_NIST_P384"|"ECC_NIST_P521"|"ECC_SECG_P256K1"|"SYMMETRIC_DEFAULT"|"HMAC_224"|"HMAC_256"|"HMAC_384"|"HMAC_512"|"SM2",
#'     KeySpec = "RSA_2048"|"RSA_3072"|"RSA_4096"|"ECC_NIST_P256"|"ECC_NIST_P384"|"ECC_NIST_P521"|"ECC_SECG_P256K1"|"SYMMETRIC_DEFAULT"|"HMAC_224"|"HMAC_256"|"HMAC_384"|"HMAC_512"|"SM2",
#'     EncryptionAlgorithms = list(
#'       "SYMMETRIC_DEFAULT"|"RSAES_OAEP_SHA_1"|"RSAES_OAEP_SHA_256"|"SM2PKE"
#'     ),
#'     SigningAlgorithms = list(
#'       "RSASSA_PSS_SHA_256"|"RSASSA_PSS_SHA_384"|"RSASSA_PSS_SHA_512"|"RSASSA_PKCS1_V1_5_SHA_256"|"RSASSA_PKCS1_V1_5_SHA_384"|"RSASSA_PKCS1_V1_5_SHA_512"|"ECDSA_SHA_256"|"ECDSA_SHA_384"|"ECDSA_SHA_512"|"SM2DSA"
#'     ),
#'     MultiRegion = TRUE|FALSE,
#'     MultiRegionConfiguration = list(
#'       MultiRegionKeyType = "PRIMARY"|"REPLICA",
#'       PrimaryKey = list(
#'         Arn = "string",
#'         Region = "string"
#'       ),
#'       ReplicaKeys = list(
#'         list(
#'           Arn = "string",
#'           Region = "string"
#'         )
#'       )
#'     ),
#'     PendingDeletionWindowInDays = 123,
#'     MacAlgorithms = list(
#'       "HMAC_SHA_224"|"HMAC_SHA_256"|"HMAC_SHA_384"|"HMAC_SHA_512"
#'     )
#'   )
#' )
#' ```
#'
#' @section Request syntax:
#' ```
#' svc$create_key(
#'   Policy = "string",
#'   Description = "string",
#'   KeyUsage = "SIGN_VERIFY"|"ENCRYPT_DECRYPT"|"GENERATE_VERIFY_MAC",
#'   CustomerMasterKeySpec = "RSA_2048"|"RSA_3072"|"RSA_4096"|"ECC_NIST_P256"|"ECC_NIST_P384"|"ECC_NIST_P521"|"ECC_SECG_P256K1"|"SYMMETRIC_DEFAULT"|"HMAC_224"|"HMAC_256"|"HMAC_384"|"HMAC_512"|"SM2",
#'   KeySpec = "RSA_2048"|"RSA_3072"|"RSA_4096"|"ECC_NIST_P256"|"ECC_NIST_P384"|"ECC_NIST_P521"|"ECC_SECG_P256K1"|"SYMMETRIC_DEFAULT"|"HMAC_224"|"HMAC_256"|"HMAC_384"|"HMAC_512"|"SM2",
#'   Origin = "AWS_KMS"|"EXTERNAL"|"AWS_CLOUDHSM",
#'   CustomKeyStoreId = "string",
#'   BypassPolicyLockoutSafetyCheck = TRUE|FALSE,
#'   Tags = list(
#'     list(
#'       TagKey = "string",
#'       TagValue = "string"
#'     )
#'   ),
#'   MultiRegion = TRUE|FALSE
#' )
#' ```
#'
#' @examples
#' \dontrun{
#' # The following example creates a symmetric KMS key for encryption and
#' # decryption. No parameters are required for this operation.
#' svc$create_key()
#' 
#' # This example creates a KMS key that contains an asymmetric RSA key pair
#' # for encryption and decryption. The key spec and key usage can't be
#' # changed after the key is created.
#' svc$create_key(
#'   KeySpec = "RSA_4096",
#'   KeyUsage = "ENCRYPT_DECRYPT"
#' )
#' 
#' # This example creates a KMS key that contains an asymmetric elliptic
#' # curve (ECC) key pair for signing and verification. The key usage is
#' # required even though "SIGN_VERIFY" is the only valid value for ECC KMS
#' # keys. The key spec and key usage can't be changed after the key is
#' # created.
#' svc$create_key(
#'   KeySpec = "ECC_NIST_P521",
#'   KeyUsage = "SIGN_VERIFY"
#' )
#' 
#' # This example creates a multi-Region primary symmetric encryption key.
#' # Because the default values for all parameters create a symmetric
#' # encryption key, only the MultiRegion parameter is required for this KMS
#' # key.
#' svc$create_key(
#'   MultiRegion = TRUE
#' )
#' 
#' # This example creates a KMS key with no key material. When the operation
#' # is complete, you can import your own key material into the KMS key. To
#' # create this KMS key, set the Origin parameter to EXTERNAL.
#' svc$create_key(
#'   Origin = "EXTERNAL"
#' )
#' 
#' # This example creates a KMS key in the specified custom key store. The
#' # operation creates the KMS key and its metadata in AWS KMS and the key
#' # material in the AWS CloudHSM cluster associated with the custom key
#' # store. This example requires the Origin and CustomKeyStoreId parameters.
#' svc$create_key(
#'   CustomKeyStoreId = "cks-1234567890abcdef0",
#'   Origin = "AWS_CLOUDHSM"
#' )
#' 
#' # This example creates a 384-bit symmetric HMAC KMS key. The
#' # GENERATE_VERIFY_MAC key usage value is required even though it's the
#' # only valid value for HMAC KMS keys. The key spec and key usage can't be
#' # changed after the key is created.
#' svc$create_key(
#'   KeySpec = "HMAC_384",
#'   KeyUsage = "GENERATE_VERIFY_MAC"
#' )
#' }
#'
#' @keywords internal
#'
#' @rdname kms_create_key
kms_create_key <- function(Policy = NULL, Description = NULL, KeyUsage = NULL, CustomerMasterKeySpec = NULL, KeySpec = NULL, Origin = NULL, CustomKeyStoreId = NULL, BypassPolicyLockoutSafetyCheck = NULL, Tags = NULL, MultiRegion = NULL) {
  op <- new_operation(
    name = "CreateKey",
    http_method = "POST",
    http_path = "/",
    paginator = list()
  )
  input <- .kms$create_key_input(Policy = Policy, Description = Description, KeyUsage = KeyUsage, CustomerMasterKeySpec = CustomerMasterKeySpec, KeySpec = KeySpec, Origin = Origin, CustomKeyStoreId = CustomKeyStoreId, BypassPolicyLockoutSafetyCheck = BypassPolicyLockoutSafetyCheck, Tags = Tags, MultiRegion = MultiRegion)
  output <- .kms$create_key_output()
  config <- get_config()
  svc <- .kms$service(config)
  request <- new_request(svc, op, input, output)
  response <- send_request(request)
  return(response)
}
.kms$operations$create_key <- kms_create_key

#' Decrypts ciphertext that was encrypted by a KMS key using any of the
#' following operations:
#'
#' @description
#' Decrypts ciphertext that was encrypted by a KMS key using any of the
#' following operations:
#' 
#' -   [`encrypt`][kms_encrypt]
#' 
#' -   [`generate_data_key`][kms_generate_data_key]
#' 
#' -   [`generate_data_key_pair`][kms_generate_data_key_pair]
#' 
#' -   [`generate_data_key_without_plaintext`][kms_generate_data_key_without_plaintext]
#' 
#' -   [`generate_data_key_pair_without_plaintext`][kms_generate_data_key_pair_without_plaintext]
#' 
#' You can use this operation to decrypt ciphertext that was encrypted
#' under a symmetric encryption KMS key or an asymmetric encryption KMS
#' key. When the KMS key is asymmetric, you must specify the KMS key and
#' the encryption algorithm that was used to encrypt the ciphertext. For
#' information about asymmetric KMS keys, see [Asymmetric KMS
#' keys](https://docs.aws.amazon.com/kms/latest/developerguide/symmetric-asymmetric.html)
#' in the *Key Management Service Developer Guide*.
#' 
#' The [`decrypt`][kms_decrypt] operation also decrypts ciphertext that was
#' encrypted outside of KMS by the public key in an KMS asymmetric KMS key.
#' However, it cannot decrypt ciphertext produced by other libraries, such
#' as the [Amazon Web Services Encryption
#' SDK](https://docs.aws.amazon.com/encryption-sdk/latest/developer-guide/)
#' or [Amazon S3 client-side
#' encryption](https://docs.aws.amazon.com/AmazonS3/latest/userguide/UsingClientSideEncryption.html).
#' These libraries return a ciphertext format that is incompatible with
#' KMS.
#' 
#' If the ciphertext was encrypted under a symmetric encryption KMS key,
#' the `KeyId` parameter is optional. KMS can get this information from
#' metadata that it adds to the symmetric ciphertext blob. This feature
#' adds durability to your implementation by ensuring that authorized users
#' can decrypt ciphertext decades after it was encrypted, even if they've
#' lost track of the key ID. However, specifying the KMS key is always
#' recommended as a best practice. When you use the `KeyId` parameter to
#' specify a KMS key, KMS only uses the KMS key you specify. If the
#' ciphertext was encrypted under a different KMS key, the
#' [`decrypt`][kms_decrypt] operation fails. This practice ensures that you
#' use the KMS key that you intend.
#' 
#' Whenever possible, use key policies to give users permission to call the
#' [`decrypt`][kms_decrypt] operation on a particular KMS key, instead of
#' using IAM policies. Otherwise, you might create an IAM user policy that
#' gives the user [`decrypt`][kms_decrypt] permission on all KMS keys. This
#' user could decrypt ciphertext that was encrypted by KMS keys in other
#' accounts if the key policy for the cross-account KMS key permits it. If
#' you must use an IAM policy for [`decrypt`][kms_decrypt] permissions,
#' limit the user to particular KMS keys or particular trusted accounts.
#' For details, see [Best practices for IAM
#' policies](https://docs.aws.amazon.com/kms/latest/developerguide/iam-policies.html#iam-policies-best-practices)
#' in the *Key Management Service Developer Guide*.
#' 
#' Applications in Amazon Web Services Nitro Enclaves can call this
#' operation by using the [Amazon Web Services Nitro Enclaves Development
#' Kit](https://github.com/aws/aws-nitro-enclaves-sdk-c). For information
#' about the supporting parameters, see [How Amazon Web Services Nitro
#' Enclaves use
#' KMS](https://docs.aws.amazon.com/kms/latest/developerguide/services-nitro-enclaves.html)
#' in the *Key Management Service Developer Guide*.
#' 
#' The KMS key that you use for this operation must be in a compatible key
#' state. For details, see [Key states of KMS
#' keys](https://docs.aws.amazon.com/kms/latest/developerguide/key-state.html)
#' in the *Key Management Service Developer Guide*.
#' 
#' **Cross-account use**: Yes. To perform this operation with a KMS key in
#' a different Amazon Web Services account, specify the key ARN or alias
#' ARN in the value of the `KeyId` parameter.
#' 
#' **Required permissions**:
#' [kms:Decrypt](https://docs.aws.amazon.com/kms/latest/developerguide/kms-api-permissions-reference.html)
#' (key policy)
#' 
#' **Related operations:**
#' 
#' -   [`encrypt`][kms_encrypt]
#' 
#' -   [`generate_data_key`][kms_generate_data_key]
#' 
#' -   [`generate_data_key_pair`][kms_generate_data_key_pair]
#' 
#' -   [`re_encrypt`][kms_re_encrypt]
#'
#' @usage
#' kms_decrypt(CiphertextBlob, EncryptionContext, GrantTokens, KeyId,
#'   EncryptionAlgorithm)
#'
#' @param CiphertextBlob &#91;required&#93; Ciphertext to be decrypted. The blob includes metadata.
#' @param EncryptionContext Specifies the encryption context to use when decrypting the data. An
#' encryption context is valid only for [cryptographic
#' operations](https://docs.aws.amazon.com/kms/latest/developerguide/concepts.html#cryptographic-operations)
#' with a symmetric encryption KMS key. The standard asymmetric encryption
#' algorithms and HMAC algorithms that KMS uses do not support an
#' encryption context.
#' 
#' An *encryption context* is a collection of non-secret key-value pairs
#' that represent additional authenticated data. When you use an encryption
#' context to encrypt data, you must specify the same (an exact
#' case-sensitive match) encryption context to decrypt the data. An
#' encryption context is supported only on operations with symmetric
#' encryption KMS keys. On operations with symmetric encryption KMS keys,
#' an encryption context is optional, but it is strongly recommended.
#' 
#' For more information, see [Encryption
#' context](https://docs.aws.amazon.com/kms/latest/developerguide/concepts.html#encrypt_context)
#' in the *Key Management Service Developer Guide*.
#' @param GrantTokens A list of grant tokens.
#' 
#' Use a grant token when your permission to call this operation comes from
#' a new grant that has not yet achieved *eventual consistency*. For more
#' information, see [Grant
#' token](https://docs.aws.amazon.com/kms/latest/developerguide/grants.html#grant_token)
#' and [Using a grant
#' token](https://docs.aws.amazon.com/kms/latest/developerguide/grant-manage.html#using-grant-token)
#' in the *Key Management Service Developer Guide*.
#' @param KeyId Specifies the KMS key that KMS uses to decrypt the ciphertext.
#' 
#' Enter a key ID of the KMS key that was used to encrypt the ciphertext.
#' If you identify a different KMS key, the [`decrypt`][kms_decrypt]
#' operation throws an `IncorrectKeyException`.
#' 
#' This parameter is required only when the ciphertext was encrypted under
#' an asymmetric KMS key. If you used a symmetric encryption KMS key, KMS
#' can get the KMS key from metadata that it adds to the symmetric
#' ciphertext blob. However, it is always recommended as a best practice.
#' This practice ensures that you use the KMS key that you intend.
#' 
#' To specify a KMS key, use its key ID, key ARN, alias name, or alias ARN.
#' When using an alias name, prefix it with `"alias/"`. To specify a KMS
#' key in a different Amazon Web Services account, you must use the key ARN
#' or alias ARN.
#' 
#' For example:
#' 
#' -   Key ID: `1234abcd-12ab-34cd-56ef-1234567890ab`
#' 
#' -   Key ARN:
#'     `arn:aws:kms:us-east-2:111122223333:key/1234abcd-12ab-34cd-56ef-1234567890ab`
#' 
#' -   Alias name: `alias/ExampleAlias`
#' 
#' -   Alias ARN: `arn:aws:kms:us-east-2:111122223333:alias/ExampleAlias`
#' 
#' To get the key ID and key ARN for a KMS key, use
#' [`list_keys`][kms_list_keys] or [`describe_key`][kms_describe_key]. To
#' get the alias name and alias ARN, use
#' [`list_aliases`][kms_list_aliases].
#' @param EncryptionAlgorithm Specifies the encryption algorithm that will be used to decrypt the
#' ciphertext. Specify the same algorithm that was used to encrypt the
#' data. If you specify a different algorithm, the [`decrypt`][kms_decrypt]
#' operation fails.
#' 
#' This parameter is required only when the ciphertext was encrypted under
#' an asymmetric KMS key. The default value, `SYMMETRIC_DEFAULT`,
#' represents the only supported algorithm that is valid for symmetric
#' encryption KMS keys.
#'
#' @return
#' A list with the following syntax:
#' ```
#' list(
#'   KeyId = "string",
#'   Plaintext = raw,
#'   EncryptionAlgorithm = "SYMMETRIC_DEFAULT"|"RSAES_OAEP_SHA_1"|"RSAES_OAEP_SHA_256"|"SM2PKE"
#' )
#' ```
#'
#' @section Request syntax:
#' ```
#' svc$decrypt(
#'   CiphertextBlob = raw,
#'   EncryptionContext = list(
#'     "string"
#'   ),
#'   GrantTokens = list(
#'     "string"
#'   ),
#'   KeyId = "string",
#'   EncryptionAlgorithm = "SYMMETRIC_DEFAULT"|"RSAES_OAEP_SHA_1"|"RSAES_OAEP_SHA_256"|"SM2PKE"
#' )
#' ```
#'
#' @examples
#' \dontrun{
#' # The following example decrypts data that was encrypted with a KMS key.
#' svc$decrypt(
#'   CiphertextBlob = "<binary data>",
#'   KeyId = "arn:aws:kms:us-west-2:111122223333:key/1234abcd-12ab-34cd-56ef-1234567890ab"
#' )
#' }
#'
#' @keywords internal
#'
#' @rdname kms_decrypt
kms_decrypt <- function(CiphertextBlob, EncryptionContext = NULL, GrantTokens = NULL, KeyId = NULL, EncryptionAlgorithm = NULL) {
  op <- new_operation(
    name = "Decrypt",
    http_method = "POST",
    http_path = "/",
    paginator = list()
  )
  input <- .kms$decrypt_input(CiphertextBlob = CiphertextBlob, EncryptionContext = EncryptionContext, GrantTokens = GrantTokens, KeyId = KeyId, EncryptionAlgorithm = EncryptionAlgorithm)
  output <- .kms$decrypt_output()
  config <- get_config()
  svc <- .kms$service(config)
  request <- new_request(svc, op, input, output)
  response <- send_request(request)
  return(response)
}
.kms$operations$decrypt <- kms_decrypt

#' Deletes the specified alias
#'
#' @description
#' Deletes the specified alias.
#' 
#' Adding, deleting, or updating an alias can allow or deny permission to
#' the KMS key. For details, see [ABAC in
#' KMS](https://docs.aws.amazon.com/kms/latest/developerguide/abac.html) in
#' the *Key Management Service Developer Guide*.
#' 
#' Because an alias is not a property of a KMS key, you can delete and
#' change the aliases of a KMS key without affecting the KMS key. Also,
#' aliases do not appear in the response from the
#' [`describe_key`][kms_describe_key] operation. To get the aliases of all
#' KMS keys, use the [`list_aliases`][kms_list_aliases] operation.
#' 
#' Each KMS key can have multiple aliases. To change the alias of a KMS
#' key, use [`delete_alias`][kms_delete_alias] to delete the current alias
#' and [`create_alias`][kms_create_alias] to create a new alias. To
#' associate an existing alias with a different KMS key, call
#' [`update_alias`][kms_update_alias].
#' 
#' **Cross-account use**: No. You cannot perform this operation on an alias
#' in a different Amazon Web Services account.
#' 
#' **Required permissions**
#' 
#' -   [kms:DeleteAlias](https://docs.aws.amazon.com/kms/latest/developerguide/kms-api-permissions-reference.html)
#'     on the alias (IAM policy).
#' 
#' -   [kms:DeleteAlias](https://docs.aws.amazon.com/kms/latest/developerguide/kms-api-permissions-reference.html)
#'     on the KMS key (key policy).
#' 
#' For details, see [Controlling access to
#' aliases](https://docs.aws.amazon.com/kms/latest/developerguide/kms-alias.html#alias-access)
#' in the *Key Management Service Developer Guide*.
#' 
#' **Related operations:**
#' 
#' -   [`create_alias`][kms_create_alias]
#' 
#' -   [`list_aliases`][kms_list_aliases]
#' 
#' -   [`update_alias`][kms_update_alias]
#'
#' @usage
#' kms_delete_alias(AliasName)
#'
#' @param AliasName &#91;required&#93; The alias to be deleted. The alias name must begin with `alias/`
#' followed by the alias name, such as `alias/ExampleAlias`.
#'
#' @return
#' An empty list.
#'
#' @section Request syntax:
#' ```
#' svc$delete_alias(
#'   AliasName = "string"
#' )
#' ```
#'
#' @examples
#' \dontrun{
#' # The following example deletes the specified alias.
#' svc$delete_alias(
#'   AliasName = "alias/ExampleAlias"
#' )
#' }
#'
#' @keywords internal
#'
#' @rdname kms_delete_alias
kms_delete_alias <- function(AliasName) {
  op <- new_operation(
    name = "DeleteAlias",
    http_method = "POST",
    http_path = "/",
    paginator = list()
  )
  input <- .kms$delete_alias_input(AliasName = AliasName)
  output <- .kms$delete_alias_output()
  config <- get_config()
  svc <- .kms$service(config)
  request <- new_request(svc, op, input, output)
  response <- send_request(request)
  return(response)
}
.kms$operations$delete_alias <- kms_delete_alias

#' Deletes a custom key store
#'
#' @description
#' Deletes a [custom key
#' store](https://docs.aws.amazon.com/kms/latest/developerguide/custom-key-store-overview.html).
#' This operation does not delete the CloudHSM cluster that is associated
#' with the custom key store, or affect any users or keys in the cluster.
#' 
#' The custom key store that you delete cannot contain any [KMS
#' keys](https://docs.aws.amazon.com/kms/latest/developerguide/concepts.html#kms_keys).
#' Before deleting the key store, verify that you will never need to use
#' any of the KMS keys in the key store for any [cryptographic
#' operations](https://docs.aws.amazon.com/kms/latest/developerguide/concepts.html#cryptographic-operations).
#' Then, use [`schedule_key_deletion`][kms_schedule_key_deletion] to delete
#' the KMS keys from the key store. When the scheduled waiting period
#' expires, the [`schedule_key_deletion`][kms_schedule_key_deletion]
#' operation deletes the KMS keys. Then it makes a best effort to delete
#' the key material from the associated cluster. However, you might need to
#' manually [delete the orphaned key
#' material](https://docs.aws.amazon.com/kms/latest/developerguide/fix-keystore.html#fix-keystore-orphaned-key)
#' from the cluster and its backups.
#' 
#' After all KMS keys are deleted from KMS, use
#' [`disconnect_custom_key_store`][kms_disconnect_custom_key_store] to
#' disconnect the key store from KMS. Then, you can delete the custom key
#' store.
#' 
#' Instead of deleting the custom key store, consider using
#' [`disconnect_custom_key_store`][kms_disconnect_custom_key_store] to
#' disconnect it from KMS. While the key store is disconnected, you cannot
#' create or use the KMS keys in the key store. But, you do not need to
#' delete KMS keys and you can reconnect a disconnected custom key store at
#' any time.
#' 
#' If the operation succeeds, it returns a JSON object with no properties.
#' 
#' This operation is part of the [custom key store
#' feature](https://docs.aws.amazon.com/kms/latest/developerguide/custom-key-store-overview.html)
#' feature in KMS, which combines the convenience and extensive integration
#' of KMS with the isolation and control of a single-tenant key store.
#' 
#' **Cross-account use**: No. You cannot perform this operation on a custom
#' key store in a different Amazon Web Services account.
#' 
#' **Required permissions**:
#' [kms:DeleteCustomKeyStore](https://docs.aws.amazon.com/kms/latest/developerguide/kms-api-permissions-reference.html)
#' (IAM policy)
#' 
#' **Related operations:**
#' 
#' -   [`connect_custom_key_store`][kms_connect_custom_key_store]
#' 
#' -   [`create_custom_key_store`][kms_create_custom_key_store]
#' 
#' -   [`describe_custom_key_stores`][kms_describe_custom_key_stores]
#' 
#' -   [`disconnect_custom_key_store`][kms_disconnect_custom_key_store]
#' 
#' -   [`update_custom_key_store`][kms_update_custom_key_store]
#'
#' @usage
#' kms_delete_custom_key_store(CustomKeyStoreId)
#'
#' @param CustomKeyStoreId &#91;required&#93; Enter the ID of the custom key store you want to delete. To find the ID
#' of a custom key store, use the
#' [`describe_custom_key_stores`][kms_describe_custom_key_stores]
#' operation.
#'
#' @return
#' An empty list.
#'
#' @section Request syntax:
#' ```
#' svc$delete_custom_key_store(
#'   CustomKeyStoreId = "string"
#' )
#' ```
#'
#' @examples
#' \dontrun{
#' # This example deletes a custom key store from AWS KMS. This operation
#' # does not delete the AWS CloudHSM cluster that was associated with the
#' # CloudHSM cluster. This operation doesn't return any data. To verify that
#' # the operation was successful, use the DescribeCustomKeyStores operation.
#' # 
#' svc$delete_custom_key_store(
#'   CustomKeyStoreId = "cks-1234567890abcdef0"
#' )
#' }
#'
#' @keywords internal
#'
#' @rdname kms_delete_custom_key_store
kms_delete_custom_key_store <- function(CustomKeyStoreId) {
  op <- new_operation(
    name = "DeleteCustomKeyStore",
    http_method = "POST",
    http_path = "/",
    paginator = list()
  )
  input <- .kms$delete_custom_key_store_input(CustomKeyStoreId = CustomKeyStoreId)
  output <- .kms$delete_custom_key_store_output()
  config <- get_config()
  svc <- .kms$service(config)
  request <- new_request(svc, op, input, output)
  response <- send_request(request)
  return(response)
}
.kms$operations$delete_custom_key_store <- kms_delete_custom_key_store

#' Deletes key material that you previously imported
#'
#' @description
#' Deletes key material that you previously imported. This operation makes
#' the specified KMS key unusable. For more information about importing key
#' material into KMS, see [Importing Key
#' Material](https://docs.aws.amazon.com/kms/latest/developerguide/importing-keys.html)
#' in the *Key Management Service Developer Guide*.
#' 
#' When the specified KMS key is in the `PendingDeletion` state, this
#' operation does not change the KMS key's state. Otherwise, it changes the
#' KMS key's state to `PendingImport`.
#' 
#' After you delete key material, you can use
#' [`import_key_material`][kms_import_key_material] to reimport the same
#' key material into the KMS key.
#' 
#' The KMS key that you use for this operation must be in a compatible key
#' state. For details, see [Key states of KMS
#' keys](https://docs.aws.amazon.com/kms/latest/developerguide/key-state.html)
#' in the *Key Management Service Developer Guide*.
#' 
#' **Cross-account use**: No. You cannot perform this operation on a KMS
#' key in a different Amazon Web Services account.
#' 
#' **Required permissions**:
#' [kms:DeleteImportedKeyMaterial](https://docs.aws.amazon.com/kms/latest/developerguide/kms-api-permissions-reference.html)
#' (key policy)
#' 
#' **Related operations:**
#' 
#' -   [`get_parameters_for_import`][kms_get_parameters_for_import]
#' 
#' -   [`import_key_material`][kms_import_key_material]
#'
#' @usage
#' kms_delete_imported_key_material(KeyId)
#'
#' @param KeyId &#91;required&#93; Identifies the KMS key from which you are deleting imported key
#' material. The `Origin` of the KMS key must be `EXTERNAL`.
#' 
#' Specify the key ID or key ARN of the KMS key.
#' 
#' For example:
#' 
#' -   Key ID: `1234abcd-12ab-34cd-56ef-1234567890ab`
#' 
#' -   Key ARN:
#'     `arn:aws:kms:us-east-2:111122223333:key/1234abcd-12ab-34cd-56ef-1234567890ab`
#' 
#' To get the key ID and key ARN for a KMS key, use
#' [`list_keys`][kms_list_keys] or [`describe_key`][kms_describe_key].
#'
#' @return
#' An empty list.
#'
#' @section Request syntax:
#' ```
#' svc$delete_imported_key_material(
#'   KeyId = "string"
#' )
#' ```
#'
#' @examples
#' \dontrun{
#' # The following example deletes the imported key material from the
#' # specified KMS key.
#' svc$delete_imported_key_material(
#'   KeyId = "1234abcd-12ab-34cd-56ef-1234567890ab"
#' )
#' }
#'
#' @keywords internal
#'
#' @rdname kms_delete_imported_key_material
kms_delete_imported_key_material <- function(KeyId) {
  op <- new_operation(
    name = "DeleteImportedKeyMaterial",
    http_method = "POST",
    http_path = "/",
    paginator = list()
  )
  input <- .kms$delete_imported_key_material_input(KeyId = KeyId)
  output <- .kms$delete_imported_key_material_output()
  config <- get_config()
  svc <- .kms$service(config)
  request <- new_request(svc, op, input, output)
  response <- send_request(request)
  return(response)
}
.kms$operations$delete_imported_key_material <- kms_delete_imported_key_material

#' Gets information about custom key stores in the account and Region
#'
#' @description
#' Gets information about [custom key
#' stores](https://docs.aws.amazon.com/kms/latest/developerguide/custom-key-store-overview.html)
#' in the account and Region.
#' 
#' This operation is part of the [custom key store
#' feature](https://docs.aws.amazon.com/kms/latest/developerguide/custom-key-store-overview.html)
#' feature in KMS, which combines the convenience and extensive integration
#' of KMS with the isolation and control of a single-tenant key store.
#' 
#' By default, this operation returns information about all custom key
#' stores in the account and Region. To get only information about a
#' particular custom key store, use either the `CustomKeyStoreName` or
#' `CustomKeyStoreId` parameter (but not both).
#' 
#' To determine whether the custom key store is connected to its CloudHSM
#' cluster, use the `ConnectionState` element in the response. If an
#' attempt to connect the custom key store failed, the `ConnectionState`
#' value is `FAILED` and the `ConnectionErrorCode` element in the response
#' indicates the cause of the failure. For help interpreting the
#' `ConnectionErrorCode`, see CustomKeyStoresListEntry.
#' 
#' Custom key stores have a `DISCONNECTED` connection state if the key
#' store has never been connected or you use the
#' [`disconnect_custom_key_store`][kms_disconnect_custom_key_store]
#' operation to disconnect it. If your custom key store state is
#' `CONNECTED` but you are having trouble using it, make sure that its
#' associated CloudHSM cluster is active and contains the minimum number of
#' HSMs required for the operation, if any.
#' 
#' For help repairing your custom key store, see the [Troubleshooting
#' Custom Key
#' Stores](https://docs.aws.amazon.com/kms/latest/developerguide/fix-keystore.html)
#' topic in the *Key Management Service Developer Guide*.
#' 
#' **Cross-account use**: No. You cannot perform this operation on a custom
#' key store in a different Amazon Web Services account.
#' 
#' **Required permissions**:
#' [kms:DescribeCustomKeyStores](https://docs.aws.amazon.com/kms/latest/developerguide/kms-api-permissions-reference.html)
#' (IAM policy)
#' 
#' **Related operations:**
#' 
#' -   [`connect_custom_key_store`][kms_connect_custom_key_store]
#' 
#' -   [`create_custom_key_store`][kms_create_custom_key_store]
#' 
#' -   [`delete_custom_key_store`][kms_delete_custom_key_store]
#' 
#' -   [`disconnect_custom_key_store`][kms_disconnect_custom_key_store]
#' 
#' -   [`update_custom_key_store`][kms_update_custom_key_store]
#'
#' @usage
#' kms_describe_custom_key_stores(CustomKeyStoreId, CustomKeyStoreName,
#'   Limit, Marker)
#'
#' @param CustomKeyStoreId Gets only information about the specified custom key store. Enter the
#' key store ID.
#' 
#' By default, this operation gets information about all custom key stores
#' in the account and Region. To limit the output to a particular custom
#' key store, you can use either the `CustomKeyStoreId` or
#' `CustomKeyStoreName` parameter, but not both.
#' @param CustomKeyStoreName Gets only information about the specified custom key store. Enter the
#' friendly name of the custom key store.
#' 
#' By default, this operation gets information about all custom key stores
#' in the account and Region. To limit the output to a particular custom
#' key store, you can use either the `CustomKeyStoreId` or
#' `CustomKeyStoreName` parameter, but not both.
#' @param Limit Use this parameter to specify the maximum number of items to return.
#' When this value is present, KMS does not return more than the specified
#' number of items, but it might return fewer.
#' @param Marker Use this parameter in a subsequent request after you receive a response
#' with truncated results. Set it to the value of `NextMarker` from the
#' truncated response you just received.
#'
#' @return
#' A list with the following syntax:
#' ```
#' list(
#'   CustomKeyStores = list(
#'     list(
#'       CustomKeyStoreId = "string",
#'       CustomKeyStoreName = "string",
#'       CloudHsmClusterId = "string",
#'       TrustAnchorCertificate = "string",
#'       ConnectionState = "CONNECTED"|"CONNECTING"|"FAILED"|"DISCONNECTED"|"DISCONNECTING",
#'       ConnectionErrorCode = "INVALID_CREDENTIALS"|"CLUSTER_NOT_FOUND"|"NETWORK_ERRORS"|"INTERNAL_ERROR"|"INSUFFICIENT_CLOUDHSM_HSMS"|"USER_LOCKED_OUT"|"USER_NOT_FOUND"|"USER_LOGGED_IN"|"SUBNET_NOT_FOUND"|"INSUFFICIENT_FREE_ADDRESSES_IN_SUBNET",
#'       CreationDate = as.POSIXct(
#'         "2015-01-01"
#'       )
#'     )
#'   ),
#'   NextMarker = "string",
#'   Truncated = TRUE|FALSE
#' )
#' ```
#'
#' @section Request syntax:
#' ```
#' svc$describe_custom_key_stores(
#'   CustomKeyStoreId = "string",
#'   CustomKeyStoreName = "string",
#'   Limit = 123,
#'   Marker = "string"
#' )
#' ```
#'
#' @examples
#' \dontrun{
#' # This example gets detailed information about all AWS KMS custom key
#' # stores in an AWS account and Region. To get all key stores, do not enter
#' # a custom key store name or ID.
#' svc$describe_custom_key_stores()
#' 
#' # This example gets detailed information about a particular AWS KMS custom
#' # key store that is associate with an AWS CloudHSM cluster. To limit the
#' # output to a particular custom key store, provide the custom key store
#' # name or ID.
#' svc$describe_custom_key_stores(
#'   CustomKeyStoreName = "ExampleKeyStore"
#' )
#' }
#'
#' @keywords internal
#'
#' @rdname kms_describe_custom_key_stores
kms_describe_custom_key_stores <- function(CustomKeyStoreId = NULL, CustomKeyStoreName = NULL, Limit = NULL, Marker = NULL) {
  op <- new_operation(
    name = "DescribeCustomKeyStores",
    http_method = "POST",
    http_path = "/",
    paginator = list()
  )
  input <- .kms$describe_custom_key_stores_input(CustomKeyStoreId = CustomKeyStoreId, CustomKeyStoreName = CustomKeyStoreName, Limit = Limit, Marker = Marker)
  output <- .kms$describe_custom_key_stores_output()
  config <- get_config()
  svc <- .kms$service(config)
  request <- new_request(svc, op, input, output)
  response <- send_request(request)
  return(response)
}
.kms$operations$describe_custom_key_stores <- kms_describe_custom_key_stores

#' Provides detailed information about a KMS key
#'
#' @description
#' Provides detailed information about a KMS key. You can run
#' [`describe_key`][kms_describe_key] on a [customer managed
#' key](https://docs.aws.amazon.com/kms/latest/developerguide/concepts.html#customer-cmk)
#' or an [Amazon Web Services managed
#' key](https://docs.aws.amazon.com/kms/latest/developerguide/concepts.html#aws-managed-cmk).
#' 
#' This detailed information includes the key ARN, creation date (and
#' deletion date, if applicable), the key state, and the origin and
#' expiration date (if any) of the key material. It includes fields, like
#' `KeySpec`, that help you distinguish different types of KMS keys. It
#' also displays the key usage (encryption, signing, or generating and
#' verifying MACs) and the algorithms that the KMS key supports. For KMS
#' keys in custom key stores, it includes information about the custom key
#' store, such as the key store ID and the CloudHSM cluster ID. For
#' multi-Region keys, it displays the primary key and all related replica
#' keys.
#' 
#' [`describe_key`][kms_describe_key] does not return the following
#' information:
#' 
#' -   Aliases associated with the KMS key. To get this information, use
#'     [`list_aliases`][kms_list_aliases].
#' 
#' -   Whether automatic key rotation is enabled on the KMS key. To get
#'     this information, use
#'     [`get_key_rotation_status`][kms_get_key_rotation_status]. Also, some
#'     key states prevent a KMS key from being automatically rotated. For
#'     details, see [How Automatic Key Rotation
#'     Works](https://docs.aws.amazon.com/kms/latest/developerguide/rotate-keys.html#rotate-keys-how-it-works)
#'     in the *Key Management Service Developer Guide*.
#' 
#' -   Tags on the KMS key. To get this information, use
#'     [`list_resource_tags`][kms_list_resource_tags].
#' 
#' -   Key policies and grants on the KMS key. To get this information, use
#'     [`get_key_policy`][kms_get_key_policy] and
#'     [`list_grants`][kms_list_grants].
#' 
#' In general, [`describe_key`][kms_describe_key] is a non-mutating
#' operation. It returns data about KMS keys, but doesn't change them.
#' However, Amazon Web Services services use
#' [`describe_key`][kms_describe_key] to create [Amazon Web Services
#' managed
#' keys](https://docs.aws.amazon.com/kms/latest/developerguide/concepts.html#aws-managed-cmk)
#' from a *predefined Amazon Web Services alias* with no key ID.
#' 
#' **Cross-account use**: Yes. To perform this operation with a KMS key in
#' a different Amazon Web Services account, specify the key ARN or alias
#' ARN in the value of the `KeyId` parameter.
#' 
#' **Required permissions**:
#' [kms:DescribeKey](https://docs.aws.amazon.com/kms/latest/developerguide/kms-api-permissions-reference.html)
#' (key policy)
#' 
#' **Related operations:**
#' 
#' -   [`get_key_policy`][kms_get_key_policy]
#' 
#' -   [`get_key_rotation_status`][kms_get_key_rotation_status]
#' 
#' -   [`list_aliases`][kms_list_aliases]
#' 
#' -   [`list_grants`][kms_list_grants]
#' 
#' -   [`list_keys`][kms_list_keys]
#' 
#' -   [`list_resource_tags`][kms_list_resource_tags]
#' 
#' -   [`list_retirable_grants`][kms_list_retirable_grants]
#'
#' @usage
#' kms_describe_key(KeyId, GrantTokens)
#'
#' @param KeyId &#91;required&#93; Describes the specified KMS key.
#' 
#' If you specify a predefined Amazon Web Services alias (an Amazon Web
#' Services alias with no key ID), KMS associates the alias with an [Amazon
#' Web Services managed
#' key](https://docs.aws.amazon.com/kms/latest/developerguide/concepts.html##aws-managed-cmk)
#' and returns its `KeyId` and `Arn` in the response.
#' 
#' To specify a KMS key, use its key ID, key ARN, alias name, or alias ARN.
#' When using an alias name, prefix it with `"alias/"`. To specify a KMS
#' key in a different Amazon Web Services account, you must use the key ARN
#' or alias ARN.
#' 
#' For example:
#' 
#' -   Key ID: `1234abcd-12ab-34cd-56ef-1234567890ab`
#' 
#' -   Key ARN:
#'     `arn:aws:kms:us-east-2:111122223333:key/1234abcd-12ab-34cd-56ef-1234567890ab`
#' 
#' -   Alias name: `alias/ExampleAlias`
#' 
#' -   Alias ARN: `arn:aws:kms:us-east-2:111122223333:alias/ExampleAlias`
#' 
#' To get the key ID and key ARN for a KMS key, use
#' [`list_keys`][kms_list_keys] or [`describe_key`][kms_describe_key]. To
#' get the alias name and alias ARN, use
#' [`list_aliases`][kms_list_aliases].
#' @param GrantTokens A list of grant tokens.
#' 
#' Use a grant token when your permission to call this operation comes from
#' a new grant that has not yet achieved *eventual consistency*. For more
#' information, see [Grant
#' token](https://docs.aws.amazon.com/kms/latest/developerguide/grants.html#grant_token)
#' and [Using a grant
#' token](https://docs.aws.amazon.com/kms/latest/developerguide/grant-manage.html#using-grant-token)
#' in the *Key Management Service Developer Guide*.
#'
#' @return
#' A list with the following syntax:
#' ```
#' list(
#'   KeyMetadata = list(
#'     AWSAccountId = "string",
#'     KeyId = "string",
#'     Arn = "string",
#'     CreationDate = as.POSIXct(
#'       "2015-01-01"
#'     ),
#'     Enabled = TRUE|FALSE,
#'     Description = "string",
#'     KeyUsage = "SIGN_VERIFY"|"ENCRYPT_DECRYPT"|"GENERATE_VERIFY_MAC",
#'     KeyState = "Creating"|"Enabled"|"Disabled"|"PendingDeletion"|"PendingImport"|"PendingReplicaDeletion"|"Unavailable"|"Updating",
#'     DeletionDate = as.POSIXct(
#'       "2015-01-01"
#'     ),
#'     ValidTo = as.POSIXct(
#'       "2015-01-01"
#'     ),
#'     Origin = "AWS_KMS"|"EXTERNAL"|"AWS_CLOUDHSM",
#'     CustomKeyStoreId = "string",
#'     CloudHsmClusterId = "string",
#'     ExpirationModel = "KEY_MATERIAL_EXPIRES"|"KEY_MATERIAL_DOES_NOT_EXPIRE",
#'     KeyManager = "AWS"|"CUSTOMER",
#'     CustomerMasterKeySpec = "RSA_2048"|"RSA_3072"|"RSA_4096"|"ECC_NIST_P256"|"ECC_NIST_P384"|"ECC_NIST_P521"|"ECC_SECG_P256K1"|"SYMMETRIC_DEFAULT"|"HMAC_224"|"HMAC_256"|"HMAC_384"|"HMAC_512"|"SM2",
#'     KeySpec = "RSA_2048"|"RSA_3072"|"RSA_4096"|"ECC_NIST_P256"|"ECC_NIST_P384"|"ECC_NIST_P521"|"ECC_SECG_P256K1"|"SYMMETRIC_DEFAULT"|"HMAC_224"|"HMAC_256"|"HMAC_384"|"HMAC_512"|"SM2",
#'     EncryptionAlgorithms = list(
#'       "SYMMETRIC_DEFAULT"|"RSAES_OAEP_SHA_1"|"RSAES_OAEP_SHA_256"|"SM2PKE"
#'     ),
#'     SigningAlgorithms = list(
#'       "RSASSA_PSS_SHA_256"|"RSASSA_PSS_SHA_384"|"RSASSA_PSS_SHA_512"|"RSASSA_PKCS1_V1_5_SHA_256"|"RSASSA_PKCS1_V1_5_SHA_384"|"RSASSA_PKCS1_V1_5_SHA_512"|"ECDSA_SHA_256"|"ECDSA_SHA_384"|"ECDSA_SHA_512"|"SM2DSA"
#'     ),
#'     MultiRegion = TRUE|FALSE,
#'     MultiRegionConfiguration = list(
#'       MultiRegionKeyType = "PRIMARY"|"REPLICA",
#'       PrimaryKey = list(
#'         Arn = "string",
#'         Region = "string"
#'       ),
#'       ReplicaKeys = list(
#'         list(
#'           Arn = "string",
#'           Region = "string"
#'         )
#'       )
#'     ),
#'     PendingDeletionWindowInDays = 123,
#'     MacAlgorithms = list(
#'       "HMAC_SHA_224"|"HMAC_SHA_256"|"HMAC_SHA_384"|"HMAC_SHA_512"
#'     )
#'   )
#' )
#' ```
#'
#' @section Request syntax:
#' ```
#' svc$describe_key(
#'   KeyId = "string",
#'   GrantTokens = list(
#'     "string"
#'   )
#' )
#' ```
#'
#' @examples
#' \dontrun{
#' # The following example gets metadata for a symmetric encryption KMS key.
#' svc$describe_key(
#'   KeyId = "1234abcd-12ab-34cd-56ef-1234567890ab"
#' )
#' 
#' # The following example gets metadata for an asymmetric RSA KMS key used
#' # for signing and verification.
#' svc$describe_key(
#'   KeyId = "1234abcd-12ab-34cd-56ef-1234567890ab"
#' )
#' 
#' # The following example gets metadata for a multi-Region replica key. This
#' # multi-Region key is a symmetric encryption key. DescribeKey returns
#' # information about the primary key and all of its replicas.
#' svc$describe_key(
#'   KeyId = "arn:aws:kms:ap-northeast-1:111122223333:key/mrk-1234abcd12ab34cd56ef1234567890ab"
#' )
#' 
#' # The following example gets the metadata of an HMAC KMS key.
#' svc$describe_key(
#'   KeyId = "arn:aws:kms:us-west-2:111122223333:key/1234abcd-12ab-34cd-56ef-1234567890ab"
#' )
#' }
#'
#' @keywords internal
#'
#' @rdname kms_describe_key
kms_describe_key <- function(KeyId, GrantTokens = NULL) {
  op <- new_operation(
    name = "DescribeKey",
    http_method = "POST",
    http_path = "/",
    paginator = list()
  )
  input <- .kms$describe_key_input(KeyId = KeyId, GrantTokens = GrantTokens)
  output <- .kms$describe_key_output()
  config <- get_config()
  svc <- .kms$service(config)
  request <- new_request(svc, op, input, output)
  response <- send_request(request)
  return(response)
}
.kms$operations$describe_key <- kms_describe_key

#' Sets the state of a KMS key to disabled
#'
#' @description
#' Sets the state of a KMS key to disabled. This change temporarily
#' prevents use of the KMS key for [cryptographic
#' operations](https://docs.aws.amazon.com/kms/latest/developerguide/concepts.html#cryptographic-operations).
#' 
#' For more information about how key state affects the use of a KMS key,
#' see [Key states of KMS
#' keys](https://docs.aws.amazon.com/kms/latest/developerguide/key-state.html)
#' in the *Key Management Service Developer Guide* .
#' 
#' The KMS key that you use for this operation must be in a compatible key
#' state. For details, see [Key states of KMS
#' keys](https://docs.aws.amazon.com/kms/latest/developerguide/key-state.html)
#' in the *Key Management Service Developer Guide*.
#' 
#' **Cross-account use**: No. You cannot perform this operation on a KMS
#' key in a different Amazon Web Services account.
#' 
#' **Required permissions**:
#' [kms:DisableKey](https://docs.aws.amazon.com/kms/latest/developerguide/kms-api-permissions-reference.html)
#' (key policy)
#' 
#' **Related operations**: [`enable_key`][kms_enable_key]
#'
#' @usage
#' kms_disable_key(KeyId)
#'
#' @param KeyId &#91;required&#93; Identifies the KMS key to disable.
#' 
#' Specify the key ID or key ARN of the KMS key.
#' 
#' For example:
#' 
#' -   Key ID: `1234abcd-12ab-34cd-56ef-1234567890ab`
#' 
#' -   Key ARN:
#'     `arn:aws:kms:us-east-2:111122223333:key/1234abcd-12ab-34cd-56ef-1234567890ab`
#' 
#' To get the key ID and key ARN for a KMS key, use
#' [`list_keys`][kms_list_keys] or [`describe_key`][kms_describe_key].
#'
#' @return
#' An empty list.
#'
#' @section Request syntax:
#' ```
#' svc$disable_key(
#'   KeyId = "string"
#' )
#' ```
#'
#' @examples
#' \dontrun{
#' # The following example disables the specified KMS key.
#' svc$disable_key(
#'   KeyId = "1234abcd-12ab-34cd-56ef-1234567890ab"
#' )
#' }
#'
#' @keywords internal
#'
#' @rdname kms_disable_key
kms_disable_key <- function(KeyId) {
  op <- new_operation(
    name = "DisableKey",
    http_method = "POST",
    http_path = "/",
    paginator = list()
  )
  input <- .kms$disable_key_input(KeyId = KeyId)
  output <- .kms$disable_key_output()
  config <- get_config()
  svc <- .kms$service(config)
  request <- new_request(svc, op, input, output)
  response <- send_request(request)
  return(response)
}
.kms$operations$disable_key <- kms_disable_key

#' Disables automatic rotation of the key material of the specified
#' symmetric encryption KMS key
#'
#' @description
#' Disables [automatic rotation of the key
#' material](https://docs.aws.amazon.com/kms/latest/developerguide/rotate-keys.html)
#' of the specified symmetric encryption KMS key.
#' 
#' Automatic key rotation is supported only on symmetric encryption KMS
#' keys. You cannot enable or disable automatic rotation of [asymmetric KMS
#' keys](https://docs.aws.amazon.com/kms/latest/developerguide/symmetric-asymmetric.html),
#' [HMAC KMS
#' keys](https://docs.aws.amazon.com/kms/latest/developerguide/hmac.html),
#' KMS keys with [imported key
#' material](https://docs.aws.amazon.com/kms/latest/developerguide/importing-keys.html),
#' or KMS keys in a [custom key
#' store](https://docs.aws.amazon.com/kms/latest/developerguide/custom-key-store-overview.html).
#' The key rotation status of these KMS keys is always `false`. To enable
#' or disable automatic rotation of a set of related [multi-Region
#' keys](https://docs.aws.amazon.com/kms/latest/developerguide/multi-region-keys-manage.html#multi-region-rotate),
#' set the property on the primary key.
#' 
#' You can enable ([`enable_key_rotation`][kms_enable_key_rotation]) and
#' disable automatic rotation of the key material in [customer managed KMS
#' keys](https://docs.aws.amazon.com/kms/latest/developerguide/concepts.html#customer-cmk).
#' Key material rotation of [Amazon Web Services managed KMS
#' keys](https://docs.aws.amazon.com/kms/latest/developerguide/concepts.html#aws-managed-cmk)
#' is not configurable. KMS always rotates the key material for every year.
#' Rotation of [Amazon Web Services owned KMS
#' keys](https://docs.aws.amazon.com/kms/latest/developerguide/concepts.html#aws-owned-cmk)
#' varies.
#' 
#' In May 2022, KMS changed the rotation schedule for Amazon Web Services
#' managed keys from every three years to every year. For details, see
#' [`enable_key_rotation`][kms_enable_key_rotation].
#' 
#' The KMS key that you use for this operation must be in a compatible key
#' state. For details, see [Key states of KMS
#' keys](https://docs.aws.amazon.com/kms/latest/developerguide/key-state.html)
#' in the *Key Management Service Developer Guide*.
#' 
#' **Cross-account use**: No. You cannot perform this operation on a KMS
#' key in a different Amazon Web Services account.
#' 
#' **Required permissions**:
#' [kms:DisableKeyRotation](https://docs.aws.amazon.com/kms/latest/developerguide/kms-api-permissions-reference.html)
#' (key policy)
#' 
#' **Related operations:**
#' 
#' -   [`enable_key_rotation`][kms_enable_key_rotation]
#' 
#' -   [`get_key_rotation_status`][kms_get_key_rotation_status]
#'
#' @usage
#' kms_disable_key_rotation(KeyId)
#'
#' @param KeyId &#91;required&#93; Identifies a symmetric encryption KMS key. You cannot enable or disable
#' automatic rotation of [asymmetric KMS
#' keys](https://docs.aws.amazon.com/kms/latest/developerguide/symmetric-asymmetric.html#asymmetric-cmks),
#' [HMAC KMS
#' keys](https://docs.aws.amazon.com/kms/latest/developerguide/hmac.html),
#' KMS keys with [imported key
#' material](https://docs.aws.amazon.com/kms/latest/developerguide/importing-keys.html),
#' or KMS keys in a [custom key
#' store](https://docs.aws.amazon.com/kms/latest/developerguide/custom-key-store-overview.html).
#' 
#' Specify the key ID or key ARN of the KMS key.
#' 
#' For example:
#' 
#' -   Key ID: `1234abcd-12ab-34cd-56ef-1234567890ab`
#' 
#' -   Key ARN:
#'     `arn:aws:kms:us-east-2:111122223333:key/1234abcd-12ab-34cd-56ef-1234567890ab`
#' 
#' To get the key ID and key ARN for a KMS key, use
#' [`list_keys`][kms_list_keys] or [`describe_key`][kms_describe_key].
#'
#' @return
#' An empty list.
#'
#' @section Request syntax:
#' ```
#' svc$disable_key_rotation(
#'   KeyId = "string"
#' )
#' ```
#'
#' @examples
#' \dontrun{
#' # The following example disables automatic annual rotation of the key
#' # material for the specified KMS key.
#' svc$disable_key_rotation(
#'   KeyId = "1234abcd-12ab-34cd-56ef-1234567890ab"
#' )
#' }
#'
#' @keywords internal
#'
#' @rdname kms_disable_key_rotation
kms_disable_key_rotation <- function(KeyId) {
  op <- new_operation(
    name = "DisableKeyRotation",
    http_method = "POST",
    http_path = "/",
    paginator = list()
  )
  input <- .kms$disable_key_rotation_input(KeyId = KeyId)
  output <- .kms$disable_key_rotation_output()
  config <- get_config()
  svc <- .kms$service(config)
  request <- new_request(svc, op, input, output)
  response <- send_request(request)
  return(response)
}
.kms$operations$disable_key_rotation <- kms_disable_key_rotation

#' Disconnects the custom key store from its associated CloudHSM cluster
#'
#' @description
#' Disconnects the [custom key
#' store](https://docs.aws.amazon.com/kms/latest/developerguide/custom-key-store-overview.html)
#' from its associated CloudHSM cluster. While a custom key store is
#' disconnected, you can manage the custom key store and its KMS keys, but
#' you cannot create or use KMS keys in the custom key store. You can
#' reconnect the custom key store at any time.
#' 
#' While a custom key store is disconnected, all attempts to create KMS
#' keys in the custom key store or to use existing KMS keys in
#' [cryptographic
#' operations](https://docs.aws.amazon.com/kms/latest/developerguide/concepts.html#cryptographic-operations)
#' will fail. This action can prevent users from storing and accessing
#' sensitive data.
#' 
#' To find the connection state of a custom key store, use the
#' [`describe_custom_key_stores`][kms_describe_custom_key_stores]
#' operation. To reconnect a custom key store, use the
#' [`connect_custom_key_store`][kms_connect_custom_key_store] operation.
#' 
#' If the operation succeeds, it returns a JSON object with no properties.
#' 
#' This operation is part of the [custom key store
#' feature](https://docs.aws.amazon.com/kms/latest/developerguide/custom-key-store-overview.html)
#' feature in KMS, which combines the convenience and extensive integration
#' of KMS with the isolation and control of a single-tenant key store.
#' 
#' **Cross-account use**: No. You cannot perform this operation on a custom
#' key store in a different Amazon Web Services account.
#' 
#' **Required permissions**:
#' [kms:DisconnectCustomKeyStore](https://docs.aws.amazon.com/kms/latest/developerguide/kms-api-permissions-reference.html)
#' (IAM policy)
#' 
#' **Related operations:**
#' 
#' -   [`connect_custom_key_store`][kms_connect_custom_key_store]
#' 
#' -   [`create_custom_key_store`][kms_create_custom_key_store]
#' 
#' -   [`delete_custom_key_store`][kms_delete_custom_key_store]
#' 
#' -   [`describe_custom_key_stores`][kms_describe_custom_key_stores]
#' 
#' -   [`update_custom_key_store`][kms_update_custom_key_store]
#'
#' @usage
#' kms_disconnect_custom_key_store(CustomKeyStoreId)
#'
#' @param CustomKeyStoreId &#91;required&#93; Enter the ID of the custom key store you want to disconnect. To find the
#' ID of a custom key store, use the
#' [`describe_custom_key_stores`][kms_describe_custom_key_stores]
#' operation.
#'
#' @return
#' An empty list.
#'
#' @section Request syntax:
#' ```
#' svc$disconnect_custom_key_store(
#'   CustomKeyStoreId = "string"
#' )
#' ```
#'
#' @examples
#' \dontrun{
#' # This example disconnects an AWS KMS custom key store from its AWS
#' # CloudHSM cluster. This operation doesn't return any data. To verify that
#' # the custom key store is disconnected, use the
#' # <code>DescribeCustomKeyStores</code> operation.
#' svc$disconnect_custom_key_store(
#'   CustomKeyStoreId = "cks-1234567890abcdef0"
#' )
#' }
#'
#' @keywords internal
#'
#' @rdname kms_disconnect_custom_key_store
kms_disconnect_custom_key_store <- function(CustomKeyStoreId) {
  op <- new_operation(
    name = "DisconnectCustomKeyStore",
    http_method = "POST",
    http_path = "/",
    paginator = list()
  )
  input <- .kms$disconnect_custom_key_store_input(CustomKeyStoreId = CustomKeyStoreId)
  output <- .kms$disconnect_custom_key_store_output()
  config <- get_config()
  svc <- .kms$service(config)
  request <- new_request(svc, op, input, output)
  response <- send_request(request)
  return(response)
}
.kms$operations$disconnect_custom_key_store <- kms_disconnect_custom_key_store

#' Sets the key state of a KMS key to enabled
#'
#' @description
#' Sets the key state of a KMS key to enabled. This allows you to use the
#' KMS key for [cryptographic
#' operations](https://docs.aws.amazon.com/kms/latest/developerguide/concepts.html#cryptographic-operations).
#' 
#' The KMS key that you use for this operation must be in a compatible key
#' state. For details, see [Key states of KMS
#' keys](https://docs.aws.amazon.com/kms/latest/developerguide/key-state.html)
#' in the *Key Management Service Developer Guide*.
#' 
#' **Cross-account use**: No. You cannot perform this operation on a KMS
#' key in a different Amazon Web Services account.
#' 
#' **Required permissions**:
#' [kms:EnableKey](https://docs.aws.amazon.com/kms/latest/developerguide/kms-api-permissions-reference.html)
#' (key policy)
#' 
#' **Related operations**: [`disable_key`][kms_disable_key]
#'
#' @usage
#' kms_enable_key(KeyId)
#'
#' @param KeyId &#91;required&#93; Identifies the KMS key to enable.
#' 
#' Specify the key ID or key ARN of the KMS key.
#' 
#' For example:
#' 
#' -   Key ID: `1234abcd-12ab-34cd-56ef-1234567890ab`
#' 
#' -   Key ARN:
#'     `arn:aws:kms:us-east-2:111122223333:key/1234abcd-12ab-34cd-56ef-1234567890ab`
#' 
#' To get the key ID and key ARN for a KMS key, use
#' [`list_keys`][kms_list_keys] or [`describe_key`][kms_describe_key].
#'
#' @return
#' An empty list.
#'
#' @section Request syntax:
#' ```
#' svc$enable_key(
#'   KeyId = "string"
#' )
#' ```
#'
#' @examples
#' \dontrun{
#' # The following example enables the specified KMS key.
#' svc$enable_key(
#'   KeyId = "1234abcd-12ab-34cd-56ef-1234567890ab"
#' )
#' }
#'
#' @keywords internal
#'
#' @rdname kms_enable_key
kms_enable_key <- function(KeyId) {
  op <- new_operation(
    name = "EnableKey",
    http_method = "POST",
    http_path = "/",
    paginator = list()
  )
  input <- .kms$enable_key_input(KeyId = KeyId)
  output <- .kms$enable_key_output()
  config <- get_config()
  svc <- .kms$service(config)
  request <- new_request(svc, op, input, output)
  response <- send_request(request)
  return(response)
}
.kms$operations$enable_key <- kms_enable_key

#' Enables automatic rotation of the key material of the specified
#' symmetric encryption KMS key
#'
#' @description
#' Enables [automatic rotation of the key
#' material](https://docs.aws.amazon.com/kms/latest/developerguide/rotate-keys.html)
#' of the specified symmetric encryption KMS key.
#' 
#' When you enable automatic rotation of a[customer managed KMS
#' key](https://docs.aws.amazon.com/kms/latest/developerguide/concepts.html#customer-cmk),
#' KMS rotates the key material of the KMS key one year (approximately 365
#' days) from the enable date and every year thereafter. You can monitor
#' rotation of the key material for your KMS keys in CloudTrail and Amazon
#' CloudWatch. To disable rotation of the key material in a customer
#' managed KMS key, use the
#' [`disable_key_rotation`][kms_disable_key_rotation] operation.
#' 
#' Automatic key rotation is supported only on [symmetric encryption KMS
#' keys](https://docs.aws.amazon.com/kms/latest/developerguide/concepts.html#symmetric-cmks).
#' You cannot enable or disable automatic rotation of [asymmetric KMS
#' keys](https://docs.aws.amazon.com/kms/latest/developerguide/symmetric-asymmetric.html),
#' [HMAC KMS
#' keys](https://docs.aws.amazon.com/kms/latest/developerguide/hmac.html),
#' KMS keys with [imported key
#' material](https://docs.aws.amazon.com/kms/latest/developerguide/importing-keys.html),
#' or KMS keys in a [custom key
#' store](https://docs.aws.amazon.com/kms/latest/developerguide/custom-key-store-overview.html).
#' The key rotation status of these KMS keys is always `false`. To enable
#' or disable automatic rotation of a set of related [multi-Region
#' keys](https://docs.aws.amazon.com/kms/latest/developerguide/multi-region-keys-manage.html#multi-region-rotate),
#' set the property on the primary key.
#' 
#' You cannot enable or disable automatic rotation [Amazon Web Services
#' managed KMS
#' keys](https://docs.aws.amazon.com/kms/latest/developerguide/concepts.html#aws-managed-cmk).
#' KMS always rotates the key material of Amazon Web Services managed keys
#' every year. Rotation of [Amazon Web Services owned KMS
#' keys](https://docs.aws.amazon.com/kms/latest/developerguide/concepts.html#aws-owned-cmk)
#' varies.
#' 
#' In May 2022, KMS changed the rotation schedule for Amazon Web Services
#' managed keys from every three years (approximately 1,095 days) to every
#' year (approximately 365 days).
#' 
#' New Amazon Web Services managed keys are automatically rotated one year
#' after they are created, and approximately every year thereafter.
#' 
#' Existing Amazon Web Services managed keys are automatically rotated one
#' year after their most recent rotation, and every year thereafter.
#' 
#' The KMS key that you use for this operation must be in a compatible key
#' state. For details, see [Key states of KMS
#' keys](https://docs.aws.amazon.com/kms/latest/developerguide/key-state.html)
#' in the *Key Management Service Developer Guide*.
#' 
#' **Cross-account use**: No. You cannot perform this operation on a KMS
#' key in a different Amazon Web Services account.
#' 
#' **Required permissions**:
#' [kms:EnableKeyRotation](https://docs.aws.amazon.com/kms/latest/developerguide/kms-api-permissions-reference.html)
#' (key policy)
#' 
#' **Related operations:**
#' 
#' -   [`disable_key_rotation`][kms_disable_key_rotation]
#' 
#' -   [`get_key_rotation_status`][kms_get_key_rotation_status]
#'
#' @usage
#' kms_enable_key_rotation(KeyId)
#'
#' @param KeyId &#91;required&#93; Identifies a symmetric encryption KMS key. You cannot enable or disable
#' automatic rotation of [asymmetric KMS
#' keys](https://docs.aws.amazon.com/kms/latest/developerguide/symmetric-asymmetric.html),
#' [HMAC KMS
#' keys](https://docs.aws.amazon.com/kms/latest/developerguide/hmac.html),
#' KMS keys with [imported key
#' material](https://docs.aws.amazon.com/kms/latest/developerguide/importing-keys.html),
#' or KMS keys in a [custom key
#' store](https://docs.aws.amazon.com/kms/latest/developerguide/custom-key-store-overview.html).
#' The key rotation status of these KMS keys is always `false`. To enable
#' or disable automatic rotation of a set of related [multi-Region
#' keys](https://docs.aws.amazon.com/kms/latest/developerguide/multi-region-keys-manage.html#multi-region-rotate),
#' set the property on the primary key.
#' 
#' Specify the key ID or key ARN of the KMS key.
#' 
#' For example:
#' 
#' -   Key ID: `1234abcd-12ab-34cd-56ef-1234567890ab`
#' 
#' -   Key ARN:
#'     `arn:aws:kms:us-east-2:111122223333:key/1234abcd-12ab-34cd-56ef-1234567890ab`
#' 
#' To get the key ID and key ARN for a KMS key, use
#' [`list_keys`][kms_list_keys] or [`describe_key`][kms_describe_key].
#'
#' @return
#' An empty list.
#'
#' @section Request syntax:
#' ```
#' svc$enable_key_rotation(
#'   KeyId = "string"
#' )
#' ```
#'
#' @examples
#' \dontrun{
#' # The following example enables automatic annual rotation of the key
#' # material for the specified KMS key.
#' svc$enable_key_rotation(
#'   KeyId = "1234abcd-12ab-34cd-56ef-1234567890ab"
#' )
#' }
#'
#' @keywords internal
#'
#' @rdname kms_enable_key_rotation
kms_enable_key_rotation <- function(KeyId) {
  op <- new_operation(
    name = "EnableKeyRotation",
    http_method = "POST",
    http_path = "/",
    paginator = list()
  )
  input <- .kms$enable_key_rotation_input(KeyId = KeyId)
  output <- .kms$enable_key_rotation_output()
  config <- get_config()
  svc <- .kms$service(config)
  request <- new_request(svc, op, input, output)
  response <- send_request(request)
  return(response)
}
.kms$operations$enable_key_rotation <- kms_enable_key_rotation

#' Encrypts plaintext of up to 4,096 bytes using a KMS key
#'
#' @description
#' Encrypts plaintext of up to 4,096 bytes using a KMS key. You can use a
#' symmetric or asymmetric KMS key with a `KeyUsage` of `ENCRYPT_DECRYPT`.
#' 
#' You can use this operation to encrypt small amounts of arbitrary data,
#' such as a personal identifier or database password, or other sensitive
#' information. You don't need to use the [`encrypt`][kms_encrypt]
#' operation to encrypt a data key. The
#' [`generate_data_key`][kms_generate_data_key] and
#' [`generate_data_key_pair`][kms_generate_data_key_pair] operations return
#' a plaintext data key and an encrypted copy of that data key.
#' 
#' If you use a symmetric encryption KMS key, you can use an encryption
#' context to add additional security to your encryption operation. If you
#' specify an `EncryptionContext` when encrypting data, you must specify
#' the same encryption context (a case-sensitive exact match) when
#' decrypting the data. Otherwise, the request to decrypt fails with an
#' `InvalidCiphertextException`. For more information, see [Encryption
#' Context](https://docs.aws.amazon.com/kms/latest/developerguide/concepts.html#encrypt_context)
#' in the *Key Management Service Developer Guide*.
#' 
#' If you specify an asymmetric KMS key, you must also specify the
#' encryption algorithm. The algorithm must be compatible with the KMS key
#' spec.
#' 
#' When you use an asymmetric KMS key to encrypt or reencrypt data, be sure
#' to record the KMS key and encryption algorithm that you choose. You will
#' be required to provide the same KMS key and encryption algorithm when
#' you decrypt the data. If the KMS key and algorithm do not match the
#' values used to encrypt the data, the decrypt operation fails.
#' 
#' You are not required to supply the key ID and encryption algorithm when
#' you decrypt with symmetric encryption KMS keys because KMS stores this
#' information in the ciphertext blob. KMS cannot store metadata in
#' ciphertext generated with asymmetric keys. The standard format for
#' asymmetric key ciphertext does not include configurable fields.
#' 
#' The maximum size of the data that you can encrypt varies with the type
#' of KMS key and the encryption algorithm that you choose.
#' 
#' -   Symmetric encryption KMS keys
#' 
#'     -   `SYMMETRIC_DEFAULT`: 4096 bytes
#' 
#' -   `RSA_2048`
#' 
#'     -   `RSAES_OAEP_SHA_1`: 214 bytes
#' 
#'     -   `RSAES_OAEP_SHA_256`: 190 bytes
#' 
#' -   `RSA_3072`
#' 
#'     -   `RSAES_OAEP_SHA_1`: 342 bytes
#' 
#'     -   `RSAES_OAEP_SHA_256`: 318 bytes
#' 
#' -   `RSA_4096`
#' 
#'     -   `RSAES_OAEP_SHA_1`: 470 bytes
#' 
#'     -   `RSAES_OAEP_SHA_256`: 446 bytes
#' 
#' -   `SM2PKE`: 1024 bytes (China Regions only)
#' 
#' The KMS key that you use for this operation must be in a compatible key
#' state. For details, see [Key states of KMS
#' keys](https://docs.aws.amazon.com/kms/latest/developerguide/key-state.html)
#' in the *Key Management Service Developer Guide*.
#' 
#' **Cross-account use**: Yes. To perform this operation with a KMS key in
#' a different Amazon Web Services account, specify the key ARN or alias
#' ARN in the value of the `KeyId` parameter.
#' 
#' **Required permissions**:
#' [kms:Encrypt](https://docs.aws.amazon.com/kms/latest/developerguide/kms-api-permissions-reference.html)
#' (key policy)
#' 
#' **Related operations:**
#' 
#' -   [`decrypt`][kms_decrypt]
#' 
#' -   [`generate_data_key`][kms_generate_data_key]
#' 
#' -   [`generate_data_key_pair`][kms_generate_data_key_pair]
#'
#' @usage
#' kms_encrypt(KeyId, Plaintext, EncryptionContext, GrantTokens,
#'   EncryptionAlgorithm)
#'
#' @param KeyId &#91;required&#93; Identifies the KMS key to use in the encryption operation. The KMS key
#' must have a `KeyUsage` of `ENCRYPT_DECRYPT`. To find the `KeyUsage` of a
#' KMS key, use the [`describe_key`][kms_describe_key] operation.
#' 
#' To specify a KMS key, use its key ID, key ARN, alias name, or alias ARN.
#' When using an alias name, prefix it with `"alias/"`. To specify a KMS
#' key in a different Amazon Web Services account, you must use the key ARN
#' or alias ARN.
#' 
#' For example:
#' 
#' -   Key ID: `1234abcd-12ab-34cd-56ef-1234567890ab`
#' 
#' -   Key ARN:
#'     `arn:aws:kms:us-east-2:111122223333:key/1234abcd-12ab-34cd-56ef-1234567890ab`
#' 
#' -   Alias name: `alias/ExampleAlias`
#' 
#' -   Alias ARN: `arn:aws:kms:us-east-2:111122223333:alias/ExampleAlias`
#' 
#' To get the key ID and key ARN for a KMS key, use
#' [`list_keys`][kms_list_keys] or [`describe_key`][kms_describe_key]. To
#' get the alias name and alias ARN, use
#' [`list_aliases`][kms_list_aliases].
#' @param Plaintext &#91;required&#93; Data to be encrypted.
#' @param EncryptionContext Specifies the encryption context that will be used to encrypt the data.
#' An encryption context is valid only for [cryptographic
#' operations](https://docs.aws.amazon.com/kms/latest/developerguide/concepts.html#cryptographic-operations)
#' with a symmetric encryption KMS key. The standard asymmetric encryption
#' algorithms and HMAC algorithms that KMS uses do not support an
#' encryption context.
#' 
#' An *encryption context* is a collection of non-secret key-value pairs
#' that represent additional authenticated data. When you use an encryption
#' context to encrypt data, you must specify the same (an exact
#' case-sensitive match) encryption context to decrypt the data. An
#' encryption context is supported only on operations with symmetric
#' encryption KMS keys. On operations with symmetric encryption KMS keys,
#' an encryption context is optional, but it is strongly recommended.
#' 
#' For more information, see [Encryption
#' context](https://docs.aws.amazon.com/kms/latest/developerguide/concepts.html#encrypt_context)
#' in the *Key Management Service Developer Guide*.
#' @param GrantTokens A list of grant tokens.
#' 
#' Use a grant token when your permission to call this operation comes from
#' a new grant that has not yet achieved *eventual consistency*. For more
#' information, see [Grant
#' token](https://docs.aws.amazon.com/kms/latest/developerguide/grants.html#grant_token)
#' and [Using a grant
#' token](https://docs.aws.amazon.com/kms/latest/developerguide/grant-manage.html#using-grant-token)
#' in the *Key Management Service Developer Guide*.
#' @param EncryptionAlgorithm Specifies the encryption algorithm that KMS will use to encrypt the
#' plaintext message. The algorithm must be compatible with the KMS key
#' that you specify.
#' 
#' This parameter is required only for asymmetric KMS keys. The default
#' value, `SYMMETRIC_DEFAULT`, is the algorithm used for symmetric
#' encryption KMS keys. If you are using an asymmetric KMS key, we
#' recommend RSAES_OAEP_SHA_256.
#'
#' @return
#' A list with the following syntax:
#' ```
#' list(
#'   CiphertextBlob = raw,
#'   KeyId = "string",
#'   EncryptionAlgorithm = "SYMMETRIC_DEFAULT"|"RSAES_OAEP_SHA_1"|"RSAES_OAEP_SHA_256"|"SM2PKE"
#' )
#' ```
#'
#' @section Request syntax:
#' ```
#' svc$encrypt(
#'   KeyId = "string",
#'   Plaintext = raw,
#'   EncryptionContext = list(
#'     "string"
#'   ),
#'   GrantTokens = list(
#'     "string"
#'   ),
#'   EncryptionAlgorithm = "SYMMETRIC_DEFAULT"|"RSAES_OAEP_SHA_1"|"RSAES_OAEP_SHA_256"|"SM2PKE"
#' )
#' ```
#'
#' @examples
#' \dontrun{
#' # The following example encrypts data with the specified KMS key.
#' svc$encrypt(
#'   KeyId = "1234abcd-12ab-34cd-56ef-1234567890ab",
#'   Plaintext = "<binary data>"
#' )
#' }
#'
#' @keywords internal
#'
#' @rdname kms_encrypt
kms_encrypt <- function(KeyId, Plaintext, EncryptionContext = NULL, GrantTokens = NULL, EncryptionAlgorithm = NULL) {
  op <- new_operation(
    name = "Encrypt",
    http_method = "POST",
    http_path = "/",
    paginator = list()
  )
  input <- .kms$encrypt_input(KeyId = KeyId, Plaintext = Plaintext, EncryptionContext = EncryptionContext, GrantTokens = GrantTokens, EncryptionAlgorithm = EncryptionAlgorithm)
  output <- .kms$encrypt_output()
  config <- get_config()
  svc <- .kms$service(config)
  request <- new_request(svc, op, input, output)
  response <- send_request(request)
  return(response)
}
.kms$operations$encrypt <- kms_encrypt

#' Returns a unique symmetric data key for use outside of KMS
#'
#' @description
#' Returns a unique symmetric data key for use outside of KMS. This
#' operation returns a plaintext copy of the data key and a copy that is
#' encrypted under a symmetric encryption KMS key that you specify. The
#' bytes in the plaintext key are random; they are not related to the
#' caller or the KMS key. You can use the plaintext key to encrypt your
#' data outside of KMS and store the encrypted data key with the encrypted
#' data.
#' 
#' To generate a data key, specify the symmetric encryption KMS key that
#' will be used to encrypt the data key. You cannot use an asymmetric KMS
#' key to encrypt data keys. To get the type of your KMS key, use the
#' [`describe_key`][kms_describe_key] operation.
#' 
#' You must also specify the length of the data key. Use either the
#' `KeySpec` or `NumberOfBytes` parameters (but not both). For 128-bit and
#' 256-bit data keys, use the `KeySpec` parameter.
#' 
#' To generate an SM4 data key (China Regions only), specify a `KeySpec`
#' value of `AES_128` or `NumberOfBytes` value of `128`. The symmetric
#' encryption key used in China Regions to encrypt your data key is an SM4
#' encryption key.
#' 
#' To get only an encrypted copy of the data key, use
#' [`generate_data_key_without_plaintext`][kms_generate_data_key_without_plaintext].
#' To generate an asymmetric data key pair, use the
#' [`generate_data_key_pair`][kms_generate_data_key_pair] or
#' [`generate_data_key_pair_without_plaintext`][kms_generate_data_key_pair_without_plaintext]
#' operation. To get a cryptographically secure random byte string, use
#' [`generate_random`][kms_generate_random].
#' 
#' You can use an optional encryption context to add additional security to
#' the encryption operation. If you specify an `EncryptionContext`, you
#' must specify the same encryption context (a case-sensitive exact match)
#' when decrypting the encrypted data key. Otherwise, the request to
#' decrypt fails with an `InvalidCiphertextException`. For more
#' information, see [Encryption
#' Context](https://docs.aws.amazon.com/kms/latest/developerguide/concepts.html#encrypt_context)
#' in the *Key Management Service Developer Guide*.
#' 
#' Applications in Amazon Web Services Nitro Enclaves can call this
#' operation by using the [Amazon Web Services Nitro Enclaves Development
#' Kit](https://github.com/aws/aws-nitro-enclaves-sdk-c). For information
#' about the supporting parameters, see [How Amazon Web Services Nitro
#' Enclaves use
#' KMS](https://docs.aws.amazon.com/kms/latest/developerguide/services-nitro-enclaves.html)
#' in the *Key Management Service Developer Guide*.
#' 
#' The KMS key that you use for this operation must be in a compatible key
#' state. For details, see [Key states of KMS
#' keys](https://docs.aws.amazon.com/kms/latest/developerguide/key-state.html)
#' in the *Key Management Service Developer Guide*.
#' 
#' **How to use your data key**
#' 
#' We recommend that you use the following pattern to encrypt data locally
#' in your application. You can write your own code or use a client-side
#' encryption library, such as the [Amazon Web Services Encryption
#' SDK](https://docs.aws.amazon.com/encryption-sdk/latest/developer-guide/),
#' the [Amazon DynamoDB Encryption
#' Client](https://docs.aws.amazon.com/dynamodb-encryption-client/latest/devguide/),
#' or [Amazon S3 client-side
#' encryption](https://docs.aws.amazon.com/AmazonS3/latest/userguide/UsingClientSideEncryption.html)
#' to do these tasks for you.
#' 
#' To encrypt data outside of KMS:
#' 
#' 1.  Use the [`generate_data_key`][kms_generate_data_key] operation to
#'     get a data key.
#' 
#' 2.  Use the plaintext data key (in the `Plaintext` field of the
#'     response) to encrypt your data outside of KMS. Then erase the
#'     plaintext data key from memory.
#' 
#' 3.  Store the encrypted data key (in the `CiphertextBlob` field of the
#'     response) with the encrypted data.
#' 
#' To decrypt data outside of KMS:
#' 
#' 1.  Use the [`decrypt`][kms_decrypt] operation to decrypt the encrypted
#'     data key. The operation returns a plaintext copy of the data key.
#' 
#' 2.  Use the plaintext data key to decrypt data outside of KMS, then
#'     erase the plaintext data key from memory.
#' 
#' **Cross-account use**: Yes. To perform this operation with a KMS key in
#' a different Amazon Web Services account, specify the key ARN or alias
#' ARN in the value of the `KeyId` parameter.
#' 
#' **Required permissions**:
#' [kms:GenerateDataKey](https://docs.aws.amazon.com/kms/latest/developerguide/kms-api-permissions-reference.html)
#' (key policy)
#' 
#' **Related operations:**
#' 
#' -   [`decrypt`][kms_decrypt]
#' 
#' -   [`encrypt`][kms_encrypt]
#' 
#' -   [`generate_data_key_pair`][kms_generate_data_key_pair]
#' 
#' -   [`generate_data_key_pair_without_plaintext`][kms_generate_data_key_pair_without_plaintext]
#' 
#' -   [`generate_data_key_without_plaintext`][kms_generate_data_key_without_plaintext]
#'
#' @usage
#' kms_generate_data_key(KeyId, EncryptionContext, NumberOfBytes, KeySpec,
#'   GrantTokens)
#'
#' @param KeyId &#91;required&#93; Specifies the symmetric encryption KMS key that encrypts the data key.
#' You cannot specify an asymmetric KMS key or a KMS key in a custom key
#' store. To get the type and origin of your KMS key, use the
#' [`describe_key`][kms_describe_key] operation.
#' 
#' To specify a KMS key, use its key ID, key ARN, alias name, or alias ARN.
#' When using an alias name, prefix it with `"alias/"`. To specify a KMS
#' key in a different Amazon Web Services account, you must use the key ARN
#' or alias ARN.
#' 
#' For example:
#' 
#' -   Key ID: `1234abcd-12ab-34cd-56ef-1234567890ab`
#' 
#' -   Key ARN:
#'     `arn:aws:kms:us-east-2:111122223333:key/1234abcd-12ab-34cd-56ef-1234567890ab`
#' 
#' -   Alias name: `alias/ExampleAlias`
#' 
#' -   Alias ARN: `arn:aws:kms:us-east-2:111122223333:alias/ExampleAlias`
#' 
#' To get the key ID and key ARN for a KMS key, use
#' [`list_keys`][kms_list_keys] or [`describe_key`][kms_describe_key]. To
#' get the alias name and alias ARN, use
#' [`list_aliases`][kms_list_aliases].
#' @param EncryptionContext Specifies the encryption context that will be used when encrypting the
#' data key.
#' 
#' An *encryption context* is a collection of non-secret key-value pairs
#' that represent additional authenticated data. When you use an encryption
#' context to encrypt data, you must specify the same (an exact
#' case-sensitive match) encryption context to decrypt the data. An
#' encryption context is supported only on operations with symmetric
#' encryption KMS keys. On operations with symmetric encryption KMS keys,
#' an encryption context is optional, but it is strongly recommended.
#' 
#' For more information, see [Encryption
#' context](https://docs.aws.amazon.com/kms/latest/developerguide/concepts.html#encrypt_context)
#' in the *Key Management Service Developer Guide*.
#' @param NumberOfBytes Specifies the length of the data key in bytes. For example, use the
#' value 64 to generate a 512-bit data key (64 bytes is 512 bits). For
#' 128-bit (16-byte) and 256-bit (32-byte) data keys, use the `KeySpec`
#' parameter.
#' 
#' You must specify either the `KeySpec` or the `NumberOfBytes` parameter
#' (but not both) in every [`generate_data_key`][kms_generate_data_key]
#' request.
#' @param KeySpec Specifies the length of the data key. Use `AES_128` to generate a
#' 128-bit symmetric key, or `AES_256` to generate a 256-bit symmetric key.
#' 
#' You must specify either the `KeySpec` or the `NumberOfBytes` parameter
#' (but not both) in every [`generate_data_key`][kms_generate_data_key]
#' request.
#' @param GrantTokens A list of grant tokens.
#' 
#' Use a grant token when your permission to call this operation comes from
#' a new grant that has not yet achieved *eventual consistency*. For more
#' information, see [Grant
#' token](https://docs.aws.amazon.com/kms/latest/developerguide/grants.html#grant_token)
#' and [Using a grant
#' token](https://docs.aws.amazon.com/kms/latest/developerguide/grant-manage.html#using-grant-token)
#' in the *Key Management Service Developer Guide*.
#'
#' @return
#' A list with the following syntax:
#' ```
#' list(
#'   CiphertextBlob = raw,
#'   Plaintext = raw,
#'   KeyId = "string"
#' )
#' ```
#'
#' @section Request syntax:
#' ```
#' svc$generate_data_key(
#'   KeyId = "string",
#'   EncryptionContext = list(
#'     "string"
#'   ),
#'   NumberOfBytes = 123,
#'   KeySpec = "AES_256"|"AES_128",
#'   GrantTokens = list(
#'     "string"
#'   )
#' )
#' ```
#'
#' @examples
#' \dontrun{
#' # The following example generates a 256-bit symmetric data encryption key
#' # (data key) in two formats. One is the unencrypted (plainext) data key,
#' # and the other is the data key encrypted with the specified KMS key.
#' svc$generate_data_key(
#'   KeyId = "alias/ExampleAlias",
#'   KeySpec = "AES_256"
#' )
#' }
#'
#' @keywords internal
#'
#' @rdname kms_generate_data_key
kms_generate_data_key <- function(KeyId, EncryptionContext = NULL, NumberOfBytes = NULL, KeySpec = NULL, GrantTokens = NULL) {
  op <- new_operation(
    name = "GenerateDataKey",
    http_method = "POST",
    http_path = "/",
    paginator = list()
  )
  input <- .kms$generate_data_key_input(KeyId = KeyId, EncryptionContext = EncryptionContext, NumberOfBytes = NumberOfBytes, KeySpec = KeySpec, GrantTokens = GrantTokens)
  output <- .kms$generate_data_key_output()
  config <- get_config()
  svc <- .kms$service(config)
  request <- new_request(svc, op, input, output)
  response <- send_request(request)
  return(response)
}
.kms$operations$generate_data_key <- kms_generate_data_key

#' Returns a unique asymmetric data key pair for use outside of KMS
#'
#' @description
#' Returns a unique asymmetric data key pair for use outside of KMS. This
#' operation returns a plaintext public key, a plaintext private key, and a
#' copy of the private key that is encrypted under the symmetric encryption
#' KMS key you specify. You can use the data key pair to perform asymmetric
#' cryptography and implement digital signatures outside of KMS. The bytes
#' in the keys are random; they not related to the caller or to the KMS key
#' that is used to encrypt the private key.
#' 
#' You can use the public key that
#' [`generate_data_key_pair`][kms_generate_data_key_pair] returns to
#' encrypt data or verify a signature outside of KMS. Then, store the
#' encrypted private key with the data. When you are ready to decrypt data
#' or sign a message, you can use the [`decrypt`][kms_decrypt] operation to
#' decrypt the encrypted private key.
#' 
#' To generate a data key pair, you must specify a symmetric encryption KMS
#' key to encrypt the private key in a data key pair. You cannot use an
#' asymmetric KMS key or a KMS key in a custom key store. To get the type
#' and origin of your KMS key, use the [`describe_key`][kms_describe_key]
#' operation.
#' 
#' Use the `KeyPairSpec` parameter to choose an RSA or Elliptic Curve (ECC)
#' data key pair. In China Regions, you can also choose an SM2 data key
#' pair. KMS recommends that you use ECC key pairs for signing, and use RSA
#' and SM2 key pairs for either encryption or signing, but not both.
#' However, KMS cannot enforce any restrictions on the use of data key
#' pairs outside of KMS.
#' 
#' If you are using the data key pair to encrypt data, or for any operation
#' where you don't immediately need a private key, consider using the
#' [`generate_data_key_pair_without_plaintext`][kms_generate_data_key_pair_without_plaintext]
#' operation.
#' [`generate_data_key_pair_without_plaintext`][kms_generate_data_key_pair_without_plaintext]
#' returns a plaintext public key and an encrypted private key, but omits
#' the plaintext private key that you need only to decrypt ciphertext or
#' sign a message. Later, when you need to decrypt the data or sign a
#' message, use the [`decrypt`][kms_decrypt] operation to decrypt the
#' encrypted private key in the data key pair.
#' 
#' [`generate_data_key_pair`][kms_generate_data_key_pair] returns a unique
#' data key pair for each request. The bytes in the keys are random; they
#' are not related to the caller or the KMS key that is used to encrypt the
#' private key. The public key is a DER-encoded X.509 SubjectPublicKeyInfo,
#' as specified in [RFC 5280](https://www.rfc-editor.org/rfc/rfc5280). The
#' private key is a DER-encoded PKCS8 PrivateKeyInfo, as specified in [RFC
#' 5958](https://www.rfc-editor.org/rfc/rfc5958).
#' 
#' You can use an optional encryption context to add additional security to
#' the encryption operation. If you specify an `EncryptionContext`, you
#' must specify the same encryption context (a case-sensitive exact match)
#' when decrypting the encrypted data key. Otherwise, the request to
#' decrypt fails with an `InvalidCiphertextException`. For more
#' information, see [Encryption
#' Context](https://docs.aws.amazon.com/kms/latest/developerguide/concepts.html#encrypt_context)
#' in the *Key Management Service Developer Guide*.
#' 
#' The KMS key that you use for this operation must be in a compatible key
#' state. For details, see [Key states of KMS
#' keys](https://docs.aws.amazon.com/kms/latest/developerguide/key-state.html)
#' in the *Key Management Service Developer Guide*.
#' 
#' **Cross-account use**: Yes. To perform this operation with a KMS key in
#' a different Amazon Web Services account, specify the key ARN or alias
#' ARN in the value of the `KeyId` parameter.
#' 
#' **Required permissions**:
#' [kms:GenerateDataKeyPair](https://docs.aws.amazon.com/kms/latest/developerguide/kms-api-permissions-reference.html)
#' (key policy)
#' 
#' **Related operations:**
#' 
#' -   [`decrypt`][kms_decrypt]
#' 
#' -   [`encrypt`][kms_encrypt]
#' 
#' -   [`generate_data_key`][kms_generate_data_key]
#' 
#' -   [`generate_data_key_pair_without_plaintext`][kms_generate_data_key_pair_without_plaintext]
#' 
#' -   [`generate_data_key_without_plaintext`][kms_generate_data_key_without_plaintext]
#'
#' @usage
#' kms_generate_data_key_pair(EncryptionContext, KeyId, KeyPairSpec,
#'   GrantTokens)
#'
#' @param EncryptionContext Specifies the encryption context that will be used when encrypting the
#' private key in the data key pair.
#' 
#' An *encryption context* is a collection of non-secret key-value pairs
#' that represent additional authenticated data. When you use an encryption
#' context to encrypt data, you must specify the same (an exact
#' case-sensitive match) encryption context to decrypt the data. An
#' encryption context is supported only on operations with symmetric
#' encryption KMS keys. On operations with symmetric encryption KMS keys,
#' an encryption context is optional, but it is strongly recommended.
#' 
#' For more information, see [Encryption
#' context](https://docs.aws.amazon.com/kms/latest/developerguide/concepts.html#encrypt_context)
#' in the *Key Management Service Developer Guide*.
#' @param KeyId &#91;required&#93; Specifies the symmetric encryption KMS key that encrypts the private key
#' in the data key pair. You cannot specify an asymmetric KMS key or a KMS
#' key in a custom key store. To get the type and origin of your KMS key,
#' use the [`describe_key`][kms_describe_key] operation.
#' 
#' To specify a KMS key, use its key ID, key ARN, alias name, or alias ARN.
#' When using an alias name, prefix it with `"alias/"`. To specify a KMS
#' key in a different Amazon Web Services account, you must use the key ARN
#' or alias ARN.
#' 
#' For example:
#' 
#' -   Key ID: `1234abcd-12ab-34cd-56ef-1234567890ab`
#' 
#' -   Key ARN:
#'     `arn:aws:kms:us-east-2:111122223333:key/1234abcd-12ab-34cd-56ef-1234567890ab`
#' 
#' -   Alias name: `alias/ExampleAlias`
#' 
#' -   Alias ARN: `arn:aws:kms:us-east-2:111122223333:alias/ExampleAlias`
#' 
#' To get the key ID and key ARN for a KMS key, use
#' [`list_keys`][kms_list_keys] or [`describe_key`][kms_describe_key]. To
#' get the alias name and alias ARN, use
#' [`list_aliases`][kms_list_aliases].
#' @param KeyPairSpec &#91;required&#93; Determines the type of data key pair that is generated.
#' 
#' The KMS rule that restricts the use of asymmetric RSA and SM2 KMS keys
#' to encrypt and decrypt or to sign and verify (but not both), and the
#' rule that permits you to use ECC KMS keys only to sign and verify, are
#' not effective on data key pairs, which are used outside of KMS. The SM2
#' key spec is only available in China Regions. RSA and ECC asymmetric key
#' pairs are also available in China Regions.
#' @param GrantTokens A list of grant tokens.
#' 
#' Use a grant token when your permission to call this operation comes from
#' a new grant that has not yet achieved *eventual consistency*. For more
#' information, see [Grant
#' token](https://docs.aws.amazon.com/kms/latest/developerguide/grants.html#grant_token)
#' and [Using a grant
#' token](https://docs.aws.amazon.com/kms/latest/developerguide/grant-manage.html#using-grant-token)
#' in the *Key Management Service Developer Guide*.
#'
#' @return
#' A list with the following syntax:
#' ```
#' list(
#'   PrivateKeyCiphertextBlob = raw,
#'   PrivateKeyPlaintext = raw,
#'   PublicKey = raw,
#'   KeyId = "string",
#'   KeyPairSpec = "RSA_2048"|"RSA_3072"|"RSA_4096"|"ECC_NIST_P256"|"ECC_NIST_P384"|"ECC_NIST_P521"|"ECC_SECG_P256K1"|"SM2"
#' )
#' ```
#'
#' @section Request syntax:
#' ```
#' svc$generate_data_key_pair(
#'   EncryptionContext = list(
#'     "string"
#'   ),
#'   KeyId = "string",
#'   KeyPairSpec = "RSA_2048"|"RSA_3072"|"RSA_4096"|"ECC_NIST_P256"|"ECC_NIST_P384"|"ECC_NIST_P521"|"ECC_SECG_P256K1"|"SM2",
#'   GrantTokens = list(
#'     "string"
#'   )
#' )
#' ```
#'
#' @examples
#' \dontrun{
#' # This example generates an RSA data key pair for encryption and
#' # decryption. The operation returns a plaintext public key and private
#' # key, and a copy of the private key that is encrypted under a symmetric
#' # encryption KMS key that you specify.
#' svc$generate_data_key_pair(
#'   KeyId = "arn:aws:kms:us-west-2:111122223333:key/1234abcd-12ab-34cd-56ef-1234567890ab",
#'   KeyPairSpec = "RSA_3072"
#' )
#' }
#'
#' @keywords internal
#'
#' @rdname kms_generate_data_key_pair
kms_generate_data_key_pair <- function(EncryptionContext = NULL, KeyId, KeyPairSpec, GrantTokens = NULL) {
  op <- new_operation(
    name = "GenerateDataKeyPair",
    http_method = "POST",
    http_path = "/",
    paginator = list()
  )
  input <- .kms$generate_data_key_pair_input(EncryptionContext = EncryptionContext, KeyId = KeyId, KeyPairSpec = KeyPairSpec, GrantTokens = GrantTokens)
  output <- .kms$generate_data_key_pair_output()
  config <- get_config()
  svc <- .kms$service(config)
  request <- new_request(svc, op, input, output)
  response <- send_request(request)
  return(response)
}
.kms$operations$generate_data_key_pair <- kms_generate_data_key_pair

#' Returns a unique asymmetric data key pair for use outside of KMS
#'
#' @description
#' Returns a unique asymmetric data key pair for use outside of KMS. This
#' operation returns a plaintext public key and a copy of the private key
#' that is encrypted under the symmetric encryption KMS key you specify.
#' Unlike [`generate_data_key_pair`][kms_generate_data_key_pair], this
#' operation does not return a plaintext private key. The bytes in the keys
#' are random; they are not related to the caller or to the KMS key that is
#' used to encrypt the private key.
#' 
#' You can use the public key that
#' [`generate_data_key_pair_without_plaintext`][kms_generate_data_key_pair_without_plaintext]
#' returns to encrypt data or verify a signature outside of KMS. Then,
#' store the encrypted private key with the data. When you are ready to
#' decrypt data or sign a message, you can use the [`decrypt`][kms_decrypt]
#' operation to decrypt the encrypted private key.
#' 
#' To generate a data key pair, you must specify a symmetric encryption KMS
#' key to encrypt the private key in a data key pair. You cannot use an
#' asymmetric KMS key or a KMS key in a custom key store. To get the type
#' and origin of your KMS key, use the [`describe_key`][kms_describe_key]
#' operation.
#' 
#' Use the `KeyPairSpec` parameter to choose an RSA or Elliptic Curve (ECC)
#' data key pair. In China Regions, you can also choose an SM2 data key
#' pair. KMS recommends that you use ECC key pairs for signing, and use RSA
#' and SM2 key pairs for either encryption or signing, but not both.
#' However, KMS cannot enforce any restrictions on the use of data key
#' pairs outside of KMS.
#' 
#' [`generate_data_key_pair_without_plaintext`][kms_generate_data_key_pair_without_plaintext]
#' returns a unique data key pair for each request. The bytes in the key
#' are not related to the caller or KMS key that is used to encrypt the
#' private key. The public key is a DER-encoded X.509 SubjectPublicKeyInfo,
#' as specified in [RFC 5280](https://www.rfc-editor.org/rfc/rfc5280).
#' 
#' You can use an optional encryption context to add additional security to
#' the encryption operation. If you specify an `EncryptionContext`, you
#' must specify the same encryption context (a case-sensitive exact match)
#' when decrypting the encrypted data key. Otherwise, the request to
#' decrypt fails with an `InvalidCiphertextException`. For more
#' information, see [Encryption
#' Context](https://docs.aws.amazon.com/kms/latest/developerguide/concepts.html#encrypt_context)
#' in the *Key Management Service Developer Guide*.
#' 
#' The KMS key that you use for this operation must be in a compatible key
#' state. For details, see [Key states of KMS
#' keys](https://docs.aws.amazon.com/kms/latest/developerguide/key-state.html)
#' in the *Key Management Service Developer Guide*.
#' 
#' **Cross-account use**: Yes. To perform this operation with a KMS key in
#' a different Amazon Web Services account, specify the key ARN or alias
#' ARN in the value of the `KeyId` parameter.
#' 
#' **Required permissions**:
#' [kms:GenerateDataKeyPairWithoutPlaintext](https://docs.aws.amazon.com/kms/latest/developerguide/kms-api-permissions-reference.html)
#' (key policy)
#' 
#' **Related operations:**
#' 
#' -   [`decrypt`][kms_decrypt]
#' 
#' -   [`encrypt`][kms_encrypt]
#' 
#' -   [`generate_data_key`][kms_generate_data_key]
#' 
#' -   [`generate_data_key_pair`][kms_generate_data_key_pair]
#' 
#' -   [`generate_data_key_without_plaintext`][kms_generate_data_key_without_plaintext]
#'
#' @usage
#' kms_generate_data_key_pair_without_plaintext(EncryptionContext, KeyId,
#'   KeyPairSpec, GrantTokens)
#'
#' @param EncryptionContext Specifies the encryption context that will be used when encrypting the
#' private key in the data key pair.
#' 
#' An *encryption context* is a collection of non-secret key-value pairs
#' that represent additional authenticated data. When you use an encryption
#' context to encrypt data, you must specify the same (an exact
#' case-sensitive match) encryption context to decrypt the data. An
#' encryption context is supported only on operations with symmetric
#' encryption KMS keys. On operations with symmetric encryption KMS keys,
#' an encryption context is optional, but it is strongly recommended.
#' 
#' For more information, see [Encryption
#' context](https://docs.aws.amazon.com/kms/latest/developerguide/concepts.html#encrypt_context)
#' in the *Key Management Service Developer Guide*.
#' @param KeyId &#91;required&#93; Specifies the symmetric encryption KMS key that encrypts the private key
#' in the data key pair. You cannot specify an asymmetric KMS key or a KMS
#' key in a custom key store. To get the type and origin of your KMS key,
#' use the [`describe_key`][kms_describe_key] operation.
#' 
#' To specify a KMS key, use its key ID, key ARN, alias name, or alias ARN.
#' When using an alias name, prefix it with `"alias/"`. To specify a KMS
#' key in a different Amazon Web Services account, you must use the key ARN
#' or alias ARN.
#' 
#' For example:
#' 
#' -   Key ID: `1234abcd-12ab-34cd-56ef-1234567890ab`
#' 
#' -   Key ARN:
#'     `arn:aws:kms:us-east-2:111122223333:key/1234abcd-12ab-34cd-56ef-1234567890ab`
#' 
#' -   Alias name: `alias/ExampleAlias`
#' 
#' -   Alias ARN: `arn:aws:kms:us-east-2:111122223333:alias/ExampleAlias`
#' 
#' To get the key ID and key ARN for a KMS key, use
#' [`list_keys`][kms_list_keys] or [`describe_key`][kms_describe_key]. To
#' get the alias name and alias ARN, use
#' [`list_aliases`][kms_list_aliases].
#' @param KeyPairSpec &#91;required&#93; Determines the type of data key pair that is generated.
#' 
#' The KMS rule that restricts the use of asymmetric RSA and SM2 KMS keys
#' to encrypt and decrypt or to sign and verify (but not both), and the
#' rule that permits you to use ECC KMS keys only to sign and verify, are
#' not effective on data key pairs, which are used outside of KMS. The SM2
#' key spec is only available in China Regions. RSA and ECC asymmetric key
#' pairs are also available in China Regions.
#' @param GrantTokens A list of grant tokens.
#' 
#' Use a grant token when your permission to call this operation comes from
#' a new grant that has not yet achieved *eventual consistency*. For more
#' information, see [Grant
#' token](https://docs.aws.amazon.com/kms/latest/developerguide/grants.html#grant_token)
#' and [Using a grant
#' token](https://docs.aws.amazon.com/kms/latest/developerguide/grant-manage.html#using-grant-token)
#' in the *Key Management Service Developer Guide*.
#'
#' @return
#' A list with the following syntax:
#' ```
#' list(
#'   PrivateKeyCiphertextBlob = raw,
#'   PublicKey = raw,
#'   KeyId = "string",
#'   KeyPairSpec = "RSA_2048"|"RSA_3072"|"RSA_4096"|"ECC_NIST_P256"|"ECC_NIST_P384"|"ECC_NIST_P521"|"ECC_SECG_P256K1"|"SM2"
#' )
#' ```
#'
#' @section Request syntax:
#' ```
#' svc$generate_data_key_pair_without_plaintext(
#'   EncryptionContext = list(
#'     "string"
#'   ),
#'   KeyId = "string",
#'   KeyPairSpec = "RSA_2048"|"RSA_3072"|"RSA_4096"|"ECC_NIST_P256"|"ECC_NIST_P384"|"ECC_NIST_P521"|"ECC_SECG_P256K1"|"SM2",
#'   GrantTokens = list(
#'     "string"
#'   )
#' )
#' ```
#'
#' @examples
#' \dontrun{
#' # This example returns an asymmetric elliptic curve (ECC) data key pair.
#' # The private key is encrypted under the symmetric encryption KMS key that
#' # you specify. This operation doesn't return a plaintext (unencrypted)
#' # private key.
#' svc$generate_data_key_pair_without_plaintext(
#'   KeyId = "arn:aws:kms:us-west-2:111122223333:key/1234abcd-12ab-34cd-56ef-1234567890ab",
#'   KeyPairSpec = "ECC_NIST_P521"
#' )
#' }
#'
#' @keywords internal
#'
#' @rdname kms_generate_data_key_pair_without_plaintext
kms_generate_data_key_pair_without_plaintext <- function(EncryptionContext = NULL, KeyId, KeyPairSpec, GrantTokens = NULL) {
  op <- new_operation(
    name = "GenerateDataKeyPairWithoutPlaintext",
    http_method = "POST",
    http_path = "/",
    paginator = list()
  )
  input <- .kms$generate_data_key_pair_without_plaintext_input(EncryptionContext = EncryptionContext, KeyId = KeyId, KeyPairSpec = KeyPairSpec, GrantTokens = GrantTokens)
  output <- .kms$generate_data_key_pair_without_plaintext_output()
  config <- get_config()
  svc <- .kms$service(config)
  request <- new_request(svc, op, input, output)
  response <- send_request(request)
  return(response)
}
.kms$operations$generate_data_key_pair_without_plaintext <- kms_generate_data_key_pair_without_plaintext

#' Returns a unique symmetric data key for use outside of KMS
#'
#' @description
#' Returns a unique symmetric data key for use outside of KMS. This
#' operation returns a data key that is encrypted under a symmetric
#' encryption KMS key that you specify. The bytes in the key are random;
#' they are not related to the caller or to the KMS key.
#' 
#' [`generate_data_key_without_plaintext`][kms_generate_data_key_without_plaintext]
#' is identical to the [`generate_data_key`][kms_generate_data_key]
#' operation except that it does not return a plaintext copy of the data
#' key.
#' 
#' This operation is useful for systems that need to encrypt data at some
#' point, but not immediately. When you need to encrypt the data, you call
#' the [`decrypt`][kms_decrypt] operation on the encrypted copy of the key.
#' 
#' It's also useful in distributed systems with different levels of trust.
#' For example, you might store encrypted data in containers. One component
#' of your system creates new containers and stores an encrypted data key
#' with each container. Then, a different component puts the data into the
#' containers. That component first decrypts the data key, uses the
#' plaintext data key to encrypt data, puts the encrypted data into the
#' container, and then destroys the plaintext data key. In this system, the
#' component that creates the containers never sees the plaintext data key.
#' 
#' To request an asymmetric data key pair, use the
#' [`generate_data_key_pair`][kms_generate_data_key_pair] or
#' [`generate_data_key_pair_without_plaintext`][kms_generate_data_key_pair_without_plaintext]
#' operations.
#' 
#' To generate a data key, you must specify the symmetric encryption KMS
#' key that is used to encrypt the data key. You cannot use an asymmetric
#' KMS key or a key in a custom key store to generate a data key. To get
#' the type of your KMS key, use the [`describe_key`][kms_describe_key]
#' operation.
#' 
#' If the operation succeeds, you will find the encrypted copy of the data
#' key in the `CiphertextBlob` field.
#' 
#' You can use an optional encryption context to add additional security to
#' the encryption operation. If you specify an `EncryptionContext`, you
#' must specify the same encryption context (a case-sensitive exact match)
#' when decrypting the encrypted data key. Otherwise, the request to
#' decrypt fails with an `InvalidCiphertextException`. For more
#' information, see [Encryption
#' Context](https://docs.aws.amazon.com/kms/latest/developerguide/concepts.html#encrypt_context)
#' in the *Key Management Service Developer Guide*.
#' 
#' The KMS key that you use for this operation must be in a compatible key
#' state. For details, see [Key states of KMS
#' keys](https://docs.aws.amazon.com/kms/latest/developerguide/key-state.html)
#' in the *Key Management Service Developer Guide*.
#' 
#' **Cross-account use**: Yes. To perform this operation with a KMS key in
#' a different Amazon Web Services account, specify the key ARN or alias
#' ARN in the value of the `KeyId` parameter.
#' 
#' **Required permissions**:
#' [kms:GenerateDataKeyWithoutPlaintext](https://docs.aws.amazon.com/kms/latest/developerguide/kms-api-permissions-reference.html)
#' (key policy)
#' 
#' **Related operations:**
#' 
#' -   [`decrypt`][kms_decrypt]
#' 
#' -   [`encrypt`][kms_encrypt]
#' 
#' -   [`generate_data_key`][kms_generate_data_key]
#' 
#' -   [`generate_data_key_pair`][kms_generate_data_key_pair]
#' 
#' -   [`generate_data_key_pair_without_plaintext`][kms_generate_data_key_pair_without_plaintext]
#'
#' @usage
#' kms_generate_data_key_without_plaintext(KeyId, EncryptionContext,
#'   KeySpec, NumberOfBytes, GrantTokens)
#'
#' @param KeyId &#91;required&#93; Specifies the symmetric encryption KMS key that encrypts the data key.
#' You cannot specify an asymmetric KMS key or a KMS key in a custom key
#' store. To get the type and origin of your KMS key, use the
#' [`describe_key`][kms_describe_key] operation.
#' 
#' To specify a KMS key, use its key ID, key ARN, alias name, or alias ARN.
#' When using an alias name, prefix it with `"alias/"`. To specify a KMS
#' key in a different Amazon Web Services account, you must use the key ARN
#' or alias ARN.
#' 
#' For example:
#' 
#' -   Key ID: `1234abcd-12ab-34cd-56ef-1234567890ab`
#' 
#' -   Key ARN:
#'     `arn:aws:kms:us-east-2:111122223333:key/1234abcd-12ab-34cd-56ef-1234567890ab`
#' 
#' -   Alias name: `alias/ExampleAlias`
#' 
#' -   Alias ARN: `arn:aws:kms:us-east-2:111122223333:alias/ExampleAlias`
#' 
#' To get the key ID and key ARN for a KMS key, use
#' [`list_keys`][kms_list_keys] or [`describe_key`][kms_describe_key]. To
#' get the alias name and alias ARN, use
#' [`list_aliases`][kms_list_aliases].
#' @param EncryptionContext Specifies the encryption context that will be used when encrypting the
#' data key.
#' 
#' An *encryption context* is a collection of non-secret key-value pairs
#' that represent additional authenticated data. When you use an encryption
#' context to encrypt data, you must specify the same (an exact
#' case-sensitive match) encryption context to decrypt the data. An
#' encryption context is supported only on operations with symmetric
#' encryption KMS keys. On operations with symmetric encryption KMS keys,
#' an encryption context is optional, but it is strongly recommended.
#' 
#' For more information, see [Encryption
#' context](https://docs.aws.amazon.com/kms/latest/developerguide/concepts.html#encrypt_context)
#' in the *Key Management Service Developer Guide*.
#' @param KeySpec The length of the data key. Use `AES_128` to generate a 128-bit
#' symmetric key, or `AES_256` to generate a 256-bit symmetric key.
#' @param NumberOfBytes The length of the data key in bytes. For example, use the value 64 to
#' generate a 512-bit data key (64 bytes is 512 bits). For common key
#' lengths (128-bit and 256-bit symmetric keys), we recommend that you use
#' the `KeySpec` field instead of this one.
#' @param GrantTokens A list of grant tokens.
#' 
#' Use a grant token when your permission to call this operation comes from
#' a new grant that has not yet achieved *eventual consistency*. For more
#' information, see [Grant
#' token](https://docs.aws.amazon.com/kms/latest/developerguide/grants.html#grant_token)
#' and [Using a grant
#' token](https://docs.aws.amazon.com/kms/latest/developerguide/grant-manage.html#using-grant-token)
#' in the *Key Management Service Developer Guide*.
#'
#' @return
#' A list with the following syntax:
#' ```
#' list(
#'   CiphertextBlob = raw,
#'   KeyId = "string"
#' )
#' ```
#'
#' @section Request syntax:
#' ```
#' svc$generate_data_key_without_plaintext(
#'   KeyId = "string",
#'   EncryptionContext = list(
#'     "string"
#'   ),
#'   KeySpec = "AES_256"|"AES_128",
#'   NumberOfBytes = 123,
#'   GrantTokens = list(
#'     "string"
#'   )
#' )
#' ```
#'
#' @examples
#' \dontrun{
#' # The following example generates an encrypted copy of a 256-bit symmetric
#' # data encryption key (data key). The data key is encrypted with the
#' # specified KMS key.
#' svc$generate_data_key_without_plaintext(
#'   KeyId = "alias/ExampleAlias",
#'   KeySpec = "AES_256"
#' )
#' }
#'
#' @keywords internal
#'
#' @rdname kms_generate_data_key_without_plaintext
kms_generate_data_key_without_plaintext <- function(KeyId, EncryptionContext = NULL, KeySpec = NULL, NumberOfBytes = NULL, GrantTokens = NULL) {
  op <- new_operation(
    name = "GenerateDataKeyWithoutPlaintext",
    http_method = "POST",
    http_path = "/",
    paginator = list()
  )
  input <- .kms$generate_data_key_without_plaintext_input(KeyId = KeyId, EncryptionContext = EncryptionContext, KeySpec = KeySpec, NumberOfBytes = NumberOfBytes, GrantTokens = GrantTokens)
  output <- .kms$generate_data_key_without_plaintext_output()
  config <- get_config()
  svc <- .kms$service(config)
  request <- new_request(svc, op, input, output)
  response <- send_request(request)
  return(response)
}
.kms$operations$generate_data_key_without_plaintext <- kms_generate_data_key_without_plaintext

#' Generates a hash-based message authentication code (HMAC) for a message
#' using an HMAC KMS key and a MAC algorithm that the key supports
#'
#' @description
#' Generates a hash-based message authentication code (HMAC) for a message
#' using an HMAC KMS key and a MAC algorithm that the key supports. The MAC
#' algorithm computes the HMAC for the message and the key as described in
#' [RFC 2104](https://datatracker.ietf.org/doc/html/rfc2104).
#' 
#' You can use the HMAC that this operation generates with the
#' [`verify_mac`][kms_verify_mac] operation to demonstrate that the
#' original message has not changed. Also, because a secret key is used to
#' create the hash, you can verify that the party that generated the hash
#' has the required secret key. This operation is part of KMS support for
#' HMAC KMS keys. For details, see [HMAC keys in
#' KMS](https://docs.aws.amazon.com/kms/latest/developerguide/hmac.html) in
#' the *Key Management Service Developer Guide* .
#' 
#' Best practices recommend that you limit the time during which any
#' signing mechanism, including an HMAC, is effective. This deters an
#' attack where the actor uses a signed message to establish validity
#' repeatedly or long after the message is superseded. HMAC tags do not
#' include a timestamp, but you can include a timestamp in the token or
#' message to help you detect when its time to refresh the HMAC.
#' 
#' The KMS key that you use for this operation must be in a compatible key
#' state. For details, see [Key states of KMS
#' keys](https://docs.aws.amazon.com/kms/latest/developerguide/key-state.html)
#' in the *Key Management Service Developer Guide*.
#' 
#' **Cross-account use**: Yes. To perform this operation with a KMS key in
#' a different Amazon Web Services account, specify the key ARN or alias
#' ARN in the value of the `KeyId` parameter.
#' 
#' **Required permissions**:
#' [kms:GenerateMac](https://docs.aws.amazon.com/kms/latest/developerguide/kms-api-permissions-reference.html)
#' (key policy)
#' 
#' **Related operations**: [`verify_mac`][kms_verify_mac]
#'
#' @usage
#' kms_generate_mac(Message, KeyId, MacAlgorithm, GrantTokens)
#'
#' @param Message &#91;required&#93; The message to be hashed. Specify a message of up to 4,096 bytes.
#' 
#' [`generate_mac`][kms_generate_mac] and [`verify_mac`][kms_verify_mac] do
#' not provide special handling for message digests. If you generate an
#' HMAC for a hash digest of a message, you must verify the HMAC of the
#' same hash digest.
#' @param KeyId &#91;required&#93; The HMAC KMS key to use in the operation. The MAC algorithm computes the
#' HMAC for the message and the key as described in [RFC
#' 2104](https://datatracker.ietf.org/doc/html/rfc2104).
#' 
#' To identify an HMAC KMS key, use the [`describe_key`][kms_describe_key]
#' operation and see the `KeySpec` field in the response.
#' @param MacAlgorithm &#91;required&#93; The MAC algorithm used in the operation.
#' 
#' The algorithm must be compatible with the HMAC KMS key that you specify.
#' To find the MAC algorithms that your HMAC KMS key supports, use the
#' [`describe_key`][kms_describe_key] operation and see the `MacAlgorithms`
#' field in the [`describe_key`][kms_describe_key] response.
#' @param GrantTokens A list of grant tokens.
#' 
#' Use a grant token when your permission to call this operation comes from
#' a new grant that has not yet achieved *eventual consistency*. For more
#' information, see [Grant
#' token](https://docs.aws.amazon.com/kms/latest/developerguide/grants.html#grant_token)
#' and [Using a grant
#' token](https://docs.aws.amazon.com/kms/latest/developerguide/grant-manage.html#using-grant-token)
#' in the *Key Management Service Developer Guide*.
#'
#' @return
#' A list with the following syntax:
#' ```
#' list(
#'   Mac = raw,
#'   MacAlgorithm = "HMAC_SHA_224"|"HMAC_SHA_256"|"HMAC_SHA_384"|"HMAC_SHA_512",
#'   KeyId = "string"
#' )
#' ```
#'
#' @section Request syntax:
#' ```
#' svc$generate_mac(
#'   Message = raw,
#'   KeyId = "string",
#'   MacAlgorithm = "HMAC_SHA_224"|"HMAC_SHA_256"|"HMAC_SHA_384"|"HMAC_SHA_512",
#'   GrantTokens = list(
#'     "string"
#'   )
#' )
#' ```
#'
#' @examples
#' \dontrun{
#' # This example generates an HMAC for a message, an HMAC KMS key, and a MAC
#' # algorithm. The algorithm must be supported by the specified HMAC KMS
#' # key.
#' svc$generate_mac(
#'   KeyId = "1234abcd-12ab-34cd-56ef-1234567890ab",
#'   MacAlgorithm = "HMAC_SHA_384",
#'   Message = "Hello World"
#' )
#' }
#'
#' @keywords internal
#'
#' @rdname kms_generate_mac
kms_generate_mac <- function(Message, KeyId, MacAlgorithm, GrantTokens = NULL) {
  op <- new_operation(
    name = "GenerateMac",
    http_method = "POST",
    http_path = "/",
    paginator = list()
  )
  input <- .kms$generate_mac_input(Message = Message, KeyId = KeyId, MacAlgorithm = MacAlgorithm, GrantTokens = GrantTokens)
  output <- .kms$generate_mac_output()
  config <- get_config()
  svc <- .kms$service(config)
  request <- new_request(svc, op, input, output)
  response <- send_request(request)
  return(response)
}
.kms$operations$generate_mac <- kms_generate_mac

#' Returns a random byte string that is cryptographically secure
#'
#' @description
#' Returns a random byte string that is cryptographically secure.
#' 
#' You must use the `NumberOfBytes` parameter to specify the length of the
#' random byte string. There is no default value for string length.
#' 
#' By default, the random byte string is generated in KMS. To generate the
#' byte string in the CloudHSM cluster that is associated with a [custom
#' key
#' store](https://docs.aws.amazon.com/kms/latest/developerguide/custom-key-store-overview.html),
#' specify the custom key store ID.
#' 
#' Applications in Amazon Web Services Nitro Enclaves can call this
#' operation by using the [Amazon Web Services Nitro Enclaves Development
#' Kit](https://github.com/aws/aws-nitro-enclaves-sdk-c). For information
#' about the supporting parameters, see [How Amazon Web Services Nitro
#' Enclaves use
#' KMS](https://docs.aws.amazon.com/kms/latest/developerguide/services-nitro-enclaves.html)
#' in the *Key Management Service Developer Guide*.
#' 
#' For more information about entropy and random number generation, see
#' [Key Management Service Cryptographic
#' Details](https://docs.aws.amazon.com/kms/latest/cryptographic-details/).
#' 
#' **Cross-account use**: Not applicable.
#' [`generate_random`][kms_generate_random] does not use any
#' account-specific resources, such as KMS keys.
#' 
#' **Required permissions**:
#' [kms:GenerateRandom](https://docs.aws.amazon.com/kms/latest/developerguide/kms-api-permissions-reference.html)
#' (IAM policy)
#'
#' @usage
#' kms_generate_random(NumberOfBytes, CustomKeyStoreId)
#'
#' @param NumberOfBytes The length of the random byte string. This parameter is required.
#' @param CustomKeyStoreId Generates the random byte string in the CloudHSM cluster that is
#' associated with the specified [custom key
#' store](https://docs.aws.amazon.com/kms/latest/developerguide/custom-key-store-overview.html).
#' To find the ID of a custom key store, use the
#' [`describe_custom_key_stores`][kms_describe_custom_key_stores]
#' operation.
#'
#' @return
#' A list with the following syntax:
#' ```
#' list(
#'   Plaintext = raw
#' )
#' ```
#'
#' @section Request syntax:
#' ```
#' svc$generate_random(
#'   NumberOfBytes = 123,
#'   CustomKeyStoreId = "string"
#' )
#' ```
#'
#' @examples
#' \dontrun{
#' # The following example generates 32 bytes of random data.
#' svc$generate_random(
#'   NumberOfBytes = 32L
#' )
#' }
#'
#' @keywords internal
#'
#' @rdname kms_generate_random
kms_generate_random <- function(NumberOfBytes = NULL, CustomKeyStoreId = NULL) {
  op <- new_operation(
    name = "GenerateRandom",
    http_method = "POST",
    http_path = "/",
    paginator = list()
  )
  input <- .kms$generate_random_input(NumberOfBytes = NumberOfBytes, CustomKeyStoreId = CustomKeyStoreId)
  output <- .kms$generate_random_output()
  config <- get_config()
  svc <- .kms$service(config)
  request <- new_request(svc, op, input, output)
  response <- send_request(request)
  return(response)
}
.kms$operations$generate_random <- kms_generate_random

#' Gets a key policy attached to the specified KMS key
#'
#' @description
#' Gets a key policy attached to the specified KMS key.
#' 
#' **Cross-account use**: No. You cannot perform this operation on a KMS
#' key in a different Amazon Web Services account.
#' 
#' **Required permissions**:
#' [kms:GetKeyPolicy](https://docs.aws.amazon.com/kms/latest/developerguide/kms-api-permissions-reference.html)
#' (key policy)
#' 
#' **Related operations**: [`put_key_policy`][kms_put_key_policy]
#'
#' @usage
#' kms_get_key_policy(KeyId, PolicyName)
#'
#' @param KeyId &#91;required&#93; Gets the key policy for the specified KMS key.
#' 
#' Specify the key ID or key ARN of the KMS key.
#' 
#' For example:
#' 
#' -   Key ID: `1234abcd-12ab-34cd-56ef-1234567890ab`
#' 
#' -   Key ARN:
#'     `arn:aws:kms:us-east-2:111122223333:key/1234abcd-12ab-34cd-56ef-1234567890ab`
#' 
#' To get the key ID and key ARN for a KMS key, use
#' [`list_keys`][kms_list_keys] or [`describe_key`][kms_describe_key].
#' @param PolicyName &#91;required&#93; Specifies the name of the key policy. The only valid name is `default`.
#' To get the names of key policies, use
#' [`list_key_policies`][kms_list_key_policies].
#'
#' @return
#' A list with the following syntax:
#' ```
#' list(
#'   Policy = "string"
#' )
#' ```
#'
#' @section Request syntax:
#' ```
#' svc$get_key_policy(
#'   KeyId = "string",
#'   PolicyName = "string"
#' )
#' ```
#'
#' @examples
#' \dontrun{
#' # The following example retrieves the key policy for the specified KMS
#' # key.
#' svc$get_key_policy(
#'   KeyId = "1234abcd-12ab-34cd-56ef-1234567890ab",
#'   PolicyName = "default"
#' )
#' }
#'
#' @keywords internal
#'
#' @rdname kms_get_key_policy
kms_get_key_policy <- function(KeyId, PolicyName) {
  op <- new_operation(
    name = "GetKeyPolicy",
    http_method = "POST",
    http_path = "/",
    paginator = list()
  )
  input <- .kms$get_key_policy_input(KeyId = KeyId, PolicyName = PolicyName)
  output <- .kms$get_key_policy_output()
  config <- get_config()
  svc <- .kms$service(config)
  request <- new_request(svc, op, input, output)
  response <- send_request(request)
  return(response)
}
.kms$operations$get_key_policy <- kms_get_key_policy

#' Gets a Boolean value that indicates whether automatic rotation of the
#' key material is enabled for the specified KMS key
#'
#' @description
#' Gets a Boolean value that indicates whether [automatic rotation of the
#' key
#' material](https://docs.aws.amazon.com/kms/latest/developerguide/rotate-keys.html)
#' is enabled for the specified KMS key.
#' 
#' When you enable automatic rotation for [customer managed KMS
#' keys](https://docs.aws.amazon.com/kms/latest/developerguide/concepts.html#customer-cmk),
#' KMS rotates the key material of the KMS key one year (approximately 365
#' days) from the enable date and every year thereafter. You can monitor
#' rotation of the key material for your KMS keys in CloudTrail and Amazon
#' CloudWatch.
#' 
#' Automatic key rotation is supported only on [symmetric encryption KMS
#' keys](https://docs.aws.amazon.com/kms/latest/developerguide/concepts.html#symmetric-cmks).
#' You cannot enable or disable automatic rotation of [asymmetric KMS
#' keys](https://docs.aws.amazon.com/kms/latest/developerguide/symmetric-asymmetric.html),
#' [HMAC KMS
#' keys](https://docs.aws.amazon.com/kms/latest/developerguide/hmac.html),
#' KMS keys with [imported key
#' material](https://docs.aws.amazon.com/kms/latest/developerguide/importing-keys.html),
#' or KMS keys in a [custom key
#' store](https://docs.aws.amazon.com/kms/latest/developerguide/custom-key-store-overview.html).
#' The key rotation status of these KMS keys is always `false`. To enable
#' or disable automatic rotation of a set of related [multi-Region
#' keys](https://docs.aws.amazon.com/kms/latest/developerguide/multi-region-keys-manage.html#multi-region-rotate),
#' set the property on the primary key..
#' 
#' You can enable ([`enable_key_rotation`][kms_enable_key_rotation]) and
#' disable automatic rotation
#' ([`disable_key_rotation`][kms_disable_key_rotation]) of the key material
#' in customer managed KMS keys. Key material rotation of [Amazon Web
#' Services managed KMS
#' keys](https://docs.aws.amazon.com/kms/latest/developerguide/concepts.html#aws-managed-cmk)
#' is not configurable. KMS always rotates the key material in Amazon Web
#' Services managed KMS keys every year. The key rotation status for Amazon
#' Web Services managed KMS keys is always `true`.
#' 
#' In May 2022, KMS changed the rotation schedule for Amazon Web Services
#' managed keys from every three years to every year. For details, see
#' [`enable_key_rotation`][kms_enable_key_rotation].
#' 
#' The KMS key that you use for this operation must be in a compatible key
#' state. For details, see [Key states of KMS
#' keys](https://docs.aws.amazon.com/kms/latest/developerguide/key-state.html)
#' in the *Key Management Service Developer Guide*.
#' 
#' -   Disabled: The key rotation status does not change when you disable a
#'     KMS key. However, while the KMS key is disabled, KMS does not rotate
#'     the key material. When you re-enable the KMS key, rotation resumes.
#'     If the key material in the re-enabled KMS key hasn't been rotated in
#'     one year, KMS rotates it immediately, and every year thereafter. If
#'     it's been less than a year since the key material in the re-enabled
#'     KMS key was rotated, the KMS key resumes its prior rotation
#'     schedule.
#' 
#' -   Pending deletion: While a KMS key is pending deletion, its key
#'     rotation status is `false` and KMS does not rotate the key material.
#'     If you cancel the deletion, the original key rotation status returns
#'     to `true`.
#' 
#' **Cross-account use**: Yes. To perform this operation on a KMS key in a
#' different Amazon Web Services account, specify the key ARN in the value
#' of the `KeyId` parameter.
#' 
#' **Required permissions**:
#' [kms:GetKeyRotationStatus](https://docs.aws.amazon.com/kms/latest/developerguide/kms-api-permissions-reference.html)
#' (key policy)
#' 
#' **Related operations:**
#' 
#' -   [`disable_key_rotation`][kms_disable_key_rotation]
#' 
#' -   [`enable_key_rotation`][kms_enable_key_rotation]
#'
#' @usage
#' kms_get_key_rotation_status(KeyId)
#'
#' @param KeyId &#91;required&#93; Gets the rotation status for the specified KMS key.
#' 
#' Specify the key ID or key ARN of the KMS key. To specify a KMS key in a
#' different Amazon Web Services account, you must use the key ARN.
#' 
#' For example:
#' 
#' -   Key ID: `1234abcd-12ab-34cd-56ef-1234567890ab`
#' 
#' -   Key ARN:
#'     `arn:aws:kms:us-east-2:111122223333:key/1234abcd-12ab-34cd-56ef-1234567890ab`
#' 
#' To get the key ID and key ARN for a KMS key, use
#' [`list_keys`][kms_list_keys] or [`describe_key`][kms_describe_key].
#'
#' @return
#' A list with the following syntax:
#' ```
#' list(
#'   KeyRotationEnabled = TRUE|FALSE
#' )
#' ```
#'
#' @section Request syntax:
#' ```
#' svc$get_key_rotation_status(
#'   KeyId = "string"
#' )
#' ```
#'
#' @examples
#' \dontrun{
#' # The following example retrieves the status of automatic annual rotation
#' # of the key material for the specified KMS key.
#' svc$get_key_rotation_status(
#'   KeyId = "1234abcd-12ab-34cd-56ef-1234567890ab"
#' )
#' }
#'
#' @keywords internal
#'
#' @rdname kms_get_key_rotation_status
kms_get_key_rotation_status <- function(KeyId) {
  op <- new_operation(
    name = "GetKeyRotationStatus",
    http_method = "POST",
    http_path = "/",
    paginator = list()
  )
  input <- .kms$get_key_rotation_status_input(KeyId = KeyId)
  output <- .kms$get_key_rotation_status_output()
  config <- get_config()
  svc <- .kms$service(config)
  request <- new_request(svc, op, input, output)
  response <- send_request(request)
  return(response)
}
.kms$operations$get_key_rotation_status <- kms_get_key_rotation_status

#' Returns the items you need to import key material into a symmetric
#' encryption KMS key
#'
#' @description
#' Returns the items you need to import key material into a symmetric
#' encryption KMS key. For more information about importing key material
#' into KMS, see [Importing key
#' material](https://docs.aws.amazon.com/kms/latest/developerguide/importing-keys.html)
#' in the *Key Management Service Developer Guide*.
#' 
#' This operation returns a public key and an import token. Use the public
#' key to encrypt the symmetric key material. Store the import token to
#' send with a subsequent [`import_key_material`][kms_import_key_material]
#' request.
#' 
#' You must specify the key ID of the symmetric encryption KMS key into
#' which you will import key material. This KMS key's `Origin` must be
#' `EXTERNAL`. You must also specify the wrapping algorithm and type of
#' wrapping key (public key) that you will use to encrypt the key material.
#' You cannot perform this operation on an asymmetric KMS key, an HMAC KMS
#' key, or on any KMS key in a different Amazon Web Services account.
#' 
#' To import key material, you must use the public key and import token
#' from the same response. These items are valid for 24 hours. The
#' expiration date and time appear in the
#' [`get_parameters_for_import`][kms_get_parameters_for_import] response.
#' You cannot use an expired token in an
#' [`import_key_material`][kms_import_key_material] request. If your key
#' and token expire, send another
#' [`get_parameters_for_import`][kms_get_parameters_for_import] request.
#' 
#' The KMS key that you use for this operation must be in a compatible key
#' state. For details, see [Key states of KMS
#' keys](https://docs.aws.amazon.com/kms/latest/developerguide/key-state.html)
#' in the *Key Management Service Developer Guide*.
#' 
#' **Cross-account use**: No. You cannot perform this operation on a KMS
#' key in a different Amazon Web Services account.
#' 
#' **Required permissions**:
#' [kms:GetParametersForImport](https://docs.aws.amazon.com/kms/latest/developerguide/kms-api-permissions-reference.html)
#' (key policy)
#' 
#' **Related operations:**
#' 
#' -   [`import_key_material`][kms_import_key_material]
#' 
#' -   [`delete_imported_key_material`][kms_delete_imported_key_material]
#'
#' @usage
#' kms_get_parameters_for_import(KeyId, WrappingAlgorithm, WrappingKeySpec)
#'
#' @param KeyId &#91;required&#93; The identifier of the symmetric encryption KMS key into which you will
#' import key material. The `Origin` of the KMS key must be `EXTERNAL`.
#' 
#' Specify the key ID or key ARN of the KMS key.
#' 
#' For example:
#' 
#' -   Key ID: `1234abcd-12ab-34cd-56ef-1234567890ab`
#' 
#' -   Key ARN:
#'     `arn:aws:kms:us-east-2:111122223333:key/1234abcd-12ab-34cd-56ef-1234567890ab`
#' 
#' To get the key ID and key ARN for a KMS key, use
#' [`list_keys`][kms_list_keys] or [`describe_key`][kms_describe_key].
#' @param WrappingAlgorithm &#91;required&#93; The algorithm you will use to encrypt the key material before importing
#' it with [`import_key_material`][kms_import_key_material]. For more
#' information, see [Encrypt the Key
#' Material](https://docs.aws.amazon.com/kms/latest/developerguide/importing-keys-encrypt-key-material.html)
#' in the *Key Management Service Developer Guide*.
#' @param WrappingKeySpec &#91;required&#93; The type of wrapping key (public key) to return in the response. Only
#' 2048-bit RSA public keys are supported.
#'
#' @return
#' A list with the following syntax:
#' ```
#' list(
#'   KeyId = "string",
#'   ImportToken = raw,
#'   PublicKey = raw,
#'   ParametersValidTo = as.POSIXct(
#'     "2015-01-01"
#'   )
#' )
#' ```
#'
#' @section Request syntax:
#' ```
#' svc$get_parameters_for_import(
#'   KeyId = "string",
#'   WrappingAlgorithm = "RSAES_PKCS1_V1_5"|"RSAES_OAEP_SHA_1"|"RSAES_OAEP_SHA_256",
#'   WrappingKeySpec = "RSA_2048"
#' )
#' ```
#'
#' @examples
#' \dontrun{
#' # The following example retrieves the public key and import token for the
#' # specified KMS key.
#' svc$get_parameters_for_import(
#'   KeyId = "1234abcd-12ab-34cd-56ef-1234567890ab",
#'   WrappingAlgorithm = "RSAES_OAEP_SHA_1",
#'   WrappingKeySpec = "RSA_2048"
#' )
#' }
#'
#' @keywords internal
#'
#' @rdname kms_get_parameters_for_import
kms_get_parameters_for_import <- function(KeyId, WrappingAlgorithm, WrappingKeySpec) {
  op <- new_operation(
    name = "GetParametersForImport",
    http_method = "POST",
    http_path = "/",
    paginator = list()
  )
  input <- .kms$get_parameters_for_import_input(KeyId = KeyId, WrappingAlgorithm = WrappingAlgorithm, WrappingKeySpec = WrappingKeySpec)
  output <- .kms$get_parameters_for_import_output()
  config <- get_config()
  svc <- .kms$service(config)
  request <- new_request(svc, op, input, output)
  response <- send_request(request)
  return(response)
}
.kms$operations$get_parameters_for_import <- kms_get_parameters_for_import

#' Returns the public key of an asymmetric KMS key
#'
#' @description
#' Returns the public key of an asymmetric KMS key. Unlike the private key
#' of a asymmetric KMS key, which never leaves KMS unencrypted, callers
#' with `kms:GetPublicKey` permission can download the public key of an
#' asymmetric KMS key. You can share the public key to allow others to
#' encrypt messages and verify signatures outside of KMS. For information
#' about asymmetric KMS keys, see [Asymmetric KMS
#' keys](https://docs.aws.amazon.com/kms/latest/developerguide/symmetric-asymmetric.html)
#' in the *Key Management Service Developer Guide*.
#' 
#' You do not need to download the public key. Instead, you can use the
#' public key within KMS by calling the [`encrypt`][kms_encrypt],
#' [`re_encrypt`][kms_re_encrypt], or [`verify`][kms_verify] operations
#' with the identifier of an asymmetric KMS key. When you use the public
#' key within KMS, you benefit from the authentication, authorization, and
#' logging that are part of every KMS operation. You also reduce of risk of
#' encrypting data that cannot be decrypted. These features are not
#' effective outside of KMS.
#' 
#' To verify a signature outside of KMS with an SM2 public key (China
#' Regions only), you must specify the distinguishing ID. By default, KMS
#' uses `1234567812345678` as the distinguishing ID. For more information,
#' see [Offline verification with SM2 key
#' pairs](https://docs.aws.amazon.com/kms/latest/developerguide/asymmetric-key-specs.html#key-spec-sm-offline-verification).
#' 
#' To help you use the public key safely outside of KMS,
#' [`get_public_key`][kms_get_public_key] returns important information
#' about the public key in the response, including:
#' 
#' -   [KeySpec](https://docs.aws.amazon.com/kms/latest/APIReference/API_GetPublicKey.html#KMS-GetPublicKey-response-KeySpec):
#'     The type of key material in the public key, such as `RSA_4096` or
#'     `ECC_NIST_P521`.
#' 
#' -   [KeyUsage](https://docs.aws.amazon.com/kms/latest/APIReference/API_GetPublicKey.html#KMS-GetPublicKey-response-KeyUsage):
#'     Whether the key is used for encryption or signing.
#' 
#' -   [EncryptionAlgorithms](https://docs.aws.amazon.com/kms/latest/APIReference/API_GetPublicKey.html#KMS-GetPublicKey-response-EncryptionAlgorithms)
#'     or
#'     [SigningAlgorithms](https://docs.aws.amazon.com/kms/latest/APIReference/API_GetPublicKey.html#KMS-GetPublicKey-response-SigningAlgorithms):
#'     A list of the encryption algorithms or the signing algorithms for
#'     the key.
#' 
#' Although KMS cannot enforce these restrictions on external operations,
#' it is crucial that you use this information to prevent the public key
#' from being used improperly. For example, you can prevent a public
#' signing key from being used encrypt data, or prevent a public key from
#' being used with an encryption algorithm that is not supported by KMS.
#' You can also avoid errors, such as using the wrong signing algorithm in
#' a verification operation.
#' 
#' The KMS key that you use for this operation must be in a compatible key
#' state. For details, see [Key states of KMS
#' keys](https://docs.aws.amazon.com/kms/latest/developerguide/key-state.html)
#' in the *Key Management Service Developer Guide*.
#' 
#' **Cross-account use**: Yes. To perform this operation with a KMS key in
#' a different Amazon Web Services account, specify the key ARN or alias
#' ARN in the value of the `KeyId` parameter.
#' 
#' **Required permissions**:
#' [kms:GetPublicKey](https://docs.aws.amazon.com/kms/latest/developerguide/kms-api-permissions-reference.html)
#' (key policy)
#' 
#' **Related operations**: [`create_key`][kms_create_key]
#'
#' @usage
#' kms_get_public_key(KeyId, GrantTokens)
#'
#' @param KeyId &#91;required&#93; Identifies the asymmetric KMS key that includes the public key.
#' 
#' To specify a KMS key, use its key ID, key ARN, alias name, or alias ARN.
#' When using an alias name, prefix it with `"alias/"`. To specify a KMS
#' key in a different Amazon Web Services account, you must use the key ARN
#' or alias ARN.
#' 
#' For example:
#' 
#' -   Key ID: `1234abcd-12ab-34cd-56ef-1234567890ab`
#' 
#' -   Key ARN:
#'     `arn:aws:kms:us-east-2:111122223333:key/1234abcd-12ab-34cd-56ef-1234567890ab`
#' 
#' -   Alias name: `alias/ExampleAlias`
#' 
#' -   Alias ARN: `arn:aws:kms:us-east-2:111122223333:alias/ExampleAlias`
#' 
#' To get the key ID and key ARN for a KMS key, use
#' [`list_keys`][kms_list_keys] or [`describe_key`][kms_describe_key]. To
#' get the alias name and alias ARN, use
#' [`list_aliases`][kms_list_aliases].
#' @param GrantTokens A list of grant tokens.
#' 
#' Use a grant token when your permission to call this operation comes from
#' a new grant that has not yet achieved *eventual consistency*. For more
#' information, see [Grant
#' token](https://docs.aws.amazon.com/kms/latest/developerguide/grants.html#grant_token)
#' and [Using a grant
#' token](https://docs.aws.amazon.com/kms/latest/developerguide/grant-manage.html#using-grant-token)
#' in the *Key Management Service Developer Guide*.
#'
#' @return
#' A list with the following syntax:
#' ```
#' list(
#'   KeyId = "string",
#'   PublicKey = raw,
#'   CustomerMasterKeySpec = "RSA_2048"|"RSA_3072"|"RSA_4096"|"ECC_NIST_P256"|"ECC_NIST_P384"|"ECC_NIST_P521"|"ECC_SECG_P256K1"|"SYMMETRIC_DEFAULT"|"HMAC_224"|"HMAC_256"|"HMAC_384"|"HMAC_512"|"SM2",
#'   KeySpec = "RSA_2048"|"RSA_3072"|"RSA_4096"|"ECC_NIST_P256"|"ECC_NIST_P384"|"ECC_NIST_P521"|"ECC_SECG_P256K1"|"SYMMETRIC_DEFAULT"|"HMAC_224"|"HMAC_256"|"HMAC_384"|"HMAC_512"|"SM2",
#'   KeyUsage = "SIGN_VERIFY"|"ENCRYPT_DECRYPT"|"GENERATE_VERIFY_MAC",
#'   EncryptionAlgorithms = list(
#'     "SYMMETRIC_DEFAULT"|"RSAES_OAEP_SHA_1"|"RSAES_OAEP_SHA_256"|"SM2PKE"
#'   ),
#'   SigningAlgorithms = list(
#'     "RSASSA_PSS_SHA_256"|"RSASSA_PSS_SHA_384"|"RSASSA_PSS_SHA_512"|"RSASSA_PKCS1_V1_5_SHA_256"|"RSASSA_PKCS1_V1_5_SHA_384"|"RSASSA_PKCS1_V1_5_SHA_512"|"ECDSA_SHA_256"|"ECDSA_SHA_384"|"ECDSA_SHA_512"|"SM2DSA"
#'   )
#' )
#' ```
#'
#' @section Request syntax:
#' ```
#' svc$get_public_key(
#'   KeyId = "string",
#'   GrantTokens = list(
#'     "string"
#'   )
#' )
#' ```
#'
#' @examples
#' \dontrun{
#' # This example gets the public key of an asymmetric RSA KMS key used for
#' # encryption and decryption. The operation returns the key spec, key
#' # usage, and encryption or signing algorithms to help you use the public
#' # key correctly outside of AWS KMS.
#' svc$get_public_key(
#'   KeyId = "arn:aws:kms:us-west-2:111122223333:key/0987dcba-09fe-87dc-65ba-ab0987654321"
#' )
#' }
#'
#' @keywords internal
#'
#' @rdname kms_get_public_key
kms_get_public_key <- function(KeyId, GrantTokens = NULL) {
  op <- new_operation(
    name = "GetPublicKey",
    http_method = "POST",
    http_path = "/",
    paginator = list()
  )
  input <- .kms$get_public_key_input(KeyId = KeyId, GrantTokens = GrantTokens)
  output <- .kms$get_public_key_output()
  config <- get_config()
  svc <- .kms$service(config)
  request <- new_request(svc, op, input, output)
  response <- send_request(request)
  return(response)
}
.kms$operations$get_public_key <- kms_get_public_key

#' Imports key material into an existing symmetric encryption KMS key that
#' was created without key material
#'
#' @description
#' Imports key material into an existing symmetric encryption KMS key that
#' was created without key material. After you successfully import key
#' material into a KMS key, you can [reimport the same key
#' material](https://docs.aws.amazon.com/kms/latest/developerguide/importing-keys.html#reimport-key-material)
#' into that KMS key, but you cannot import different key material.
#' 
#' You cannot perform this operation on an asymmetric KMS key, an HMAC KMS
#' key, or on any KMS key in a different Amazon Web Services account. For
#' more information about creating KMS keys with no key material and then
#' importing key material, see [Importing Key
#' Material](https://docs.aws.amazon.com/kms/latest/developerguide/importing-keys.html)
#' in the *Key Management Service Developer Guide*.
#' 
#' Before using this operation, call
#' [`get_parameters_for_import`][kms_get_parameters_for_import]. Its
#' response includes a public key and an import token. Use the public key
#' to encrypt the key material. Then, submit the import token from the same
#' [`get_parameters_for_import`][kms_get_parameters_for_import] response.
#' 
#' When calling this operation, you must specify the following values:
#' 
#' -   The key ID or key ARN of a KMS key with no key material. Its
#'     `Origin` must be `EXTERNAL`.
#' 
#'     To create a KMS key with no key material, call
#'     [`create_key`][kms_create_key] and set the value of its `Origin`
#'     parameter to `EXTERNAL`. To get the `Origin` of a KMS key, call
#'     [`describe_key`][kms_describe_key].)
#' 
#' -   The encrypted key material. To get the public key to encrypt the key
#'     material, call
#'     [`get_parameters_for_import`][kms_get_parameters_for_import].
#' 
#' -   The import token that
#'     [`get_parameters_for_import`][kms_get_parameters_for_import]
#'     returned. You must use a public key and token from the same
#'     [`get_parameters_for_import`][kms_get_parameters_for_import]
#'     response.
#' 
#' -   Whether the key material expires and if so, when. If you set an
#'     expiration date, KMS deletes the key material from the KMS key on
#'     the specified date, and the KMS key becomes unusable. To use the KMS
#'     key again, you must reimport the same key material. The only way to
#'     change an expiration date is by reimporting the same key material
#'     and specifying a new expiration date.
#' 
#' When this operation is successful, the key state of the KMS key changes
#' from `PendingImport` to `Enabled`, and you can use the KMS key.
#' 
#' If this operation fails, use the exception to help determine the
#' problem. If the error is related to the key material, the import token,
#' or wrapping key, use
#' [`get_parameters_for_import`][kms_get_parameters_for_import] to get a
#' new public key and import token for the KMS key and repeat the import
#' procedure. For help, see [How To Import Key
#' Material](https://docs.aws.amazon.com/kms/latest/developerguide/importing-keys.html#importing-keys-overview)
#' in the *Key Management Service Developer Guide*.
#' 
#' The KMS key that you use for this operation must be in a compatible key
#' state. For details, see [Key states of KMS
#' keys](https://docs.aws.amazon.com/kms/latest/developerguide/key-state.html)
#' in the *Key Management Service Developer Guide*.
#' 
#' **Cross-account use**: No. You cannot perform this operation on a KMS
#' key in a different Amazon Web Services account.
#' 
#' **Required permissions**:
#' [kms:ImportKeyMaterial](https://docs.aws.amazon.com/kms/latest/developerguide/kms-api-permissions-reference.html)
#' (key policy)
#' 
#' **Related operations:**
#' 
#' -   [`delete_imported_key_material`][kms_delete_imported_key_material]
#' 
#' -   [`get_parameters_for_import`][kms_get_parameters_for_import]
#'
#' @usage
#' kms_import_key_material(KeyId, ImportToken, EncryptedKeyMaterial,
#'   ValidTo, ExpirationModel)
#'
#' @param KeyId &#91;required&#93; The identifier of the symmetric encryption KMS key that receives the
#' imported key material. This must be the same KMS key specified in the
#' `KeyID` parameter of the corresponding
#' [`get_parameters_for_import`][kms_get_parameters_for_import] request.
#' The `Origin` of the KMS key must be `EXTERNAL`. You cannot perform this
#' operation on an asymmetric KMS key, an HMAC KMS key, a KMS key in a
#' custom key store, or on a KMS key in a different Amazon Web Services
#' account
#' 
#' Specify the key ID or key ARN of the KMS key.
#' 
#' For example:
#' 
#' -   Key ID: `1234abcd-12ab-34cd-56ef-1234567890ab`
#' 
#' -   Key ARN:
#'     `arn:aws:kms:us-east-2:111122223333:key/1234abcd-12ab-34cd-56ef-1234567890ab`
#' 
#' To get the key ID and key ARN for a KMS key, use
#' [`list_keys`][kms_list_keys] or [`describe_key`][kms_describe_key].
#' @param ImportToken &#91;required&#93; The import token that you received in the response to a previous
#' [`get_parameters_for_import`][kms_get_parameters_for_import] request. It
#' must be from the same response that contained the public key that you
#' used to encrypt the key material.
#' @param EncryptedKeyMaterial &#91;required&#93; The encrypted key material to import. The key material must be encrypted
#' with the public wrapping key that
#' [`get_parameters_for_import`][kms_get_parameters_for_import] returned,
#' using the wrapping algorithm that you specified in the same
#' [`get_parameters_for_import`][kms_get_parameters_for_import] request.
#' @param ValidTo The time at which the imported key material expires. When the key
#' material expires, KMS deletes the key material and the KMS key becomes
#' unusable. You must omit this parameter when the `ExpirationModel`
#' parameter is set to `KEY_MATERIAL_DOES_NOT_EXPIRE`. Otherwise it is
#' required.
#' @param ExpirationModel Specifies whether the key material expires. The default is
#' `KEY_MATERIAL_EXPIRES`, in which case you must include the `ValidTo`
#' parameter. When this parameter is set to `KEY_MATERIAL_DOES_NOT_EXPIRE`,
#' you must omit the `ValidTo` parameter.
#'
#' @return
#' An empty list.
#'
#' @section Request syntax:
#' ```
#' svc$import_key_material(
#'   KeyId = "string",
#'   ImportToken = raw,
#'   EncryptedKeyMaterial = raw,
#'   ValidTo = as.POSIXct(
#'     "2015-01-01"
#'   ),
#'   ExpirationModel = "KEY_MATERIAL_EXPIRES"|"KEY_MATERIAL_DOES_NOT_EXPIRE"
#' )
#' ```
#'
#' @examples
#' \dontrun{
#' # The following example imports key material into the specified KMS key.
#' svc$import_key_material(
#'   EncryptedKeyMaterial = "<binary data>",
#'   ExpirationModel = "KEY_MATERIAL_DOES_NOT_EXPIRE",
#'   ImportToken = "<binary data>",
#'   KeyId = "1234abcd-12ab-34cd-56ef-1234567890ab"
#' )
#' }
#'
#' @keywords internal
#'
#' @rdname kms_import_key_material
kms_import_key_material <- function(KeyId, ImportToken, EncryptedKeyMaterial, ValidTo = NULL, ExpirationModel = NULL) {
  op <- new_operation(
    name = "ImportKeyMaterial",
    http_method = "POST",
    http_path = "/",
    paginator = list()
  )
  input <- .kms$import_key_material_input(KeyId = KeyId, ImportToken = ImportToken, EncryptedKeyMaterial = EncryptedKeyMaterial, ValidTo = ValidTo, ExpirationModel = ExpirationModel)
  output <- .kms$import_key_material_output()
  config <- get_config()
  svc <- .kms$service(config)
  request <- new_request(svc, op, input, output)
  response <- send_request(request)
  return(response)
}
.kms$operations$import_key_material <- kms_import_key_material

#' Gets a list of aliases in the caller's Amazon Web Services account and
#' region
#'
#' @description
#' Gets a list of aliases in the caller's Amazon Web Services account and
#' region. For more information about aliases, see
#' [`create_alias`][kms_create_alias].
#' 
#' By default, the [`list_aliases`][kms_list_aliases] operation returns all
#' aliases in the account and region. To get only the aliases associated
#' with a particular KMS key, use the `KeyId` parameter.
#' 
#' The [`list_aliases`][kms_list_aliases] response can include aliases that
#' you created and associated with your customer managed keys, and aliases
#' that Amazon Web Services created and associated with Amazon Web Services
#' managed keys in your account. You can recognize Amazon Web Services
#' aliases because their names have the format `aws/<service-name>`, such
#' as `aws/dynamodb`.
#' 
#' The response might also include aliases that have no `TargetKeyId`
#' field. These are predefined aliases that Amazon Web Services has created
#' but has not yet associated with a KMS key. Aliases that Amazon Web
#' Services creates in your account, including predefined aliases, do not
#' count against your [KMS aliases
#' quota](https://docs.aws.amazon.com/kms/latest/developerguide/limits.html#aliases-limit).
#' 
#' **Cross-account use**: No. [`list_aliases`][kms_list_aliases] does not
#' return aliases in other Amazon Web Services accounts.
#' 
#' **Required permissions**:
#' [kms:ListAliases](https://docs.aws.amazon.com/kms/latest/developerguide/kms-api-permissions-reference.html)
#' (IAM policy)
#' 
#' For details, see [Controlling access to
#' aliases](https://docs.aws.amazon.com/kms/latest/developerguide/kms-alias.html#alias-access)
#' in the *Key Management Service Developer Guide*.
#' 
#' **Related operations:**
#' 
#' -   [`create_alias`][kms_create_alias]
#' 
#' -   [`delete_alias`][kms_delete_alias]
#' 
#' -   [`update_alias`][kms_update_alias]
#'
#' @usage
#' kms_list_aliases(KeyId, Limit, Marker)
#'
#' @param KeyId Lists only aliases that are associated with the specified KMS key. Enter
#' a KMS key in your Amazon Web Services account.
#' 
#' This parameter is optional. If you omit it,
#' [`list_aliases`][kms_list_aliases] returns all aliases in the account
#' and Region.
#' 
#' Specify the key ID or key ARN of the KMS key.
#' 
#' For example:
#' 
#' -   Key ID: `1234abcd-12ab-34cd-56ef-1234567890ab`
#' 
#' -   Key ARN:
#'     `arn:aws:kms:us-east-2:111122223333:key/1234abcd-12ab-34cd-56ef-1234567890ab`
#' 
#' To get the key ID and key ARN for a KMS key, use
#' [`list_keys`][kms_list_keys] or [`describe_key`][kms_describe_key].
#' @param Limit Use this parameter to specify the maximum number of items to return.
#' When this value is present, KMS does not return more than the specified
#' number of items, but it might return fewer.
#' 
#' This value is optional. If you include a value, it must be between 1 and
#' 100, inclusive. If you do not include a value, it defaults to 50.
#' @param Marker Use this parameter in a subsequent request after you receive a response
#' with truncated results. Set it to the value of `NextMarker` from the
#' truncated response you just received.
#'
#' @return
#' A list with the following syntax:
#' ```
#' list(
#'   Aliases = list(
#'     list(
#'       AliasName = "string",
#'       AliasArn = "string",
#'       TargetKeyId = "string",
#'       CreationDate = as.POSIXct(
#'         "2015-01-01"
#'       ),
#'       LastUpdatedDate = as.POSIXct(
#'         "2015-01-01"
#'       )
#'     )
#'   ),
#'   NextMarker = "string",
#'   Truncated = TRUE|FALSE
#' )
#' ```
#'
#' @section Request syntax:
#' ```
#' svc$list_aliases(
#'   KeyId = "string",
#'   Limit = 123,
#'   Marker = "string"
#' )
#' ```
#'
#' @examples
#' \dontrun{
#' # The following example lists aliases.
#' svc$list_aliases()
#' }
#'
#' @keywords internal
#'
#' @rdname kms_list_aliases
kms_list_aliases <- function(KeyId = NULL, Limit = NULL, Marker = NULL) {
  op <- new_operation(
    name = "ListAliases",
    http_method = "POST",
    http_path = "/",
    paginator = list()
  )
  input <- .kms$list_aliases_input(KeyId = KeyId, Limit = Limit, Marker = Marker)
  output <- .kms$list_aliases_output()
  config <- get_config()
  svc <- .kms$service(config)
  request <- new_request(svc, op, input, output)
  response <- send_request(request)
  return(response)
}
.kms$operations$list_aliases <- kms_list_aliases

#' Gets a list of all grants for the specified KMS key
#'
#' @description
#' Gets a list of all grants for the specified KMS key.
#' 
#' You must specify the KMS key in all requests. You can filter the grant
#' list by grant ID or grantee principal.
#' 
#' For detailed information about grants, including grant terminology, see
#' [Grants in
#' KMS](https://docs.aws.amazon.com/kms/latest/developerguide/grants.html)
#' in the *Key Management Service Developer Guide* . For examples of
#' working with grants in several programming languages, see [Programming
#' grants](https://docs.aws.amazon.com/kms/latest/developerguide/programming-grants.html).
#' 
#' The `GranteePrincipal` field in the [`list_grants`][kms_list_grants]
#' response usually contains the user or role designated as the grantee
#' principal in the grant. However, when the grantee principal in the grant
#' is an Amazon Web Services service, the `GranteePrincipal` field contains
#' the [service
#' principal](https://docs.aws.amazon.com/IAM/latest/UserGuide/reference_policies_elements_principal.html#principal-services),
#' which might represent several different grantee principals.
#' 
#' **Cross-account use**: Yes. To perform this operation on a KMS key in a
#' different Amazon Web Services account, specify the key ARN in the value
#' of the `KeyId` parameter.
#' 
#' **Required permissions**:
#' [kms:ListGrants](https://docs.aws.amazon.com/kms/latest/developerguide/kms-api-permissions-reference.html)
#' (key policy)
#' 
#' **Related operations:**
#' 
#' -   [`create_grant`][kms_create_grant]
#' 
#' -   [`list_retirable_grants`][kms_list_retirable_grants]
#' 
#' -   [`retire_grant`][kms_retire_grant]
#' 
#' -   [`revoke_grant`][kms_revoke_grant]
#'
#' @usage
#' kms_list_grants(Limit, Marker, KeyId, GrantId, GranteePrincipal)
#'
#' @param Limit Use this parameter to specify the maximum number of items to return.
#' When this value is present, KMS does not return more than the specified
#' number of items, but it might return fewer.
#' 
#' This value is optional. If you include a value, it must be between 1 and
#' 100, inclusive. If you do not include a value, it defaults to 50.
#' @param Marker Use this parameter in a subsequent request after you receive a response
#' with truncated results. Set it to the value of `NextMarker` from the
#' truncated response you just received.
#' @param KeyId &#91;required&#93; Returns only grants for the specified KMS key. This parameter is
#' required.
#' 
#' Specify the key ID or key ARN of the KMS key. To specify a KMS key in a
#' different Amazon Web Services account, you must use the key ARN.
#' 
#' For example:
#' 
#' -   Key ID: `1234abcd-12ab-34cd-56ef-1234567890ab`
#' 
#' -   Key ARN:
#'     `arn:aws:kms:us-east-2:111122223333:key/1234abcd-12ab-34cd-56ef-1234567890ab`
#' 
#' To get the key ID and key ARN for a KMS key, use
#' [`list_keys`][kms_list_keys] or [`describe_key`][kms_describe_key].
#' @param GrantId Returns only the grant with the specified grant ID. The grant ID
#' uniquely identifies the grant.
#' @param GranteePrincipal Returns only grants where the specified principal is the grantee
#' principal for the grant.
#'
#' @return
#' A list with the following syntax:
#' ```
#' list(
#'   Grants = list(
#'     list(
#'       KeyId = "string",
#'       GrantId = "string",
#'       Name = "string",
#'       CreationDate = as.POSIXct(
#'         "2015-01-01"
#'       ),
#'       GranteePrincipal = "string",
#'       RetiringPrincipal = "string",
#'       IssuingAccount = "string",
#'       Operations = list(
#'         "Decrypt"|"Encrypt"|"GenerateDataKey"|"GenerateDataKeyWithoutPlaintext"|"ReEncryptFrom"|"ReEncryptTo"|"Sign"|"Verify"|"GetPublicKey"|"CreateGrant"|"RetireGrant"|"DescribeKey"|"GenerateDataKeyPair"|"GenerateDataKeyPairWithoutPlaintext"|"GenerateMac"|"VerifyMac"
#'       ),
#'       Constraints = list(
#'         EncryptionContextSubset = list(
#'           "string"
#'         ),
#'         EncryptionContextEquals = list(
#'           "string"
#'         )
#'       )
#'     )
#'   ),
#'   NextMarker = "string",
#'   Truncated = TRUE|FALSE
#' )
#' ```
#'
#' @section Request syntax:
#' ```
#' svc$list_grants(
#'   Limit = 123,
#'   Marker = "string",
#'   KeyId = "string",
#'   GrantId = "string",
#'   GranteePrincipal = "string"
#' )
#' ```
#'
#' @examples
#' \dontrun{
#' # The following example lists grants for the specified KMS key.
#' svc$list_grants(
#'   KeyId = "1234abcd-12ab-34cd-56ef-1234567890ab"
#' )
#' }
#'
#' @keywords internal
#'
#' @rdname kms_list_grants
kms_list_grants <- function(Limit = NULL, Marker = NULL, KeyId, GrantId = NULL, GranteePrincipal = NULL) {
  op <- new_operation(
    name = "ListGrants",
    http_method = "POST",
    http_path = "/",
    paginator = list()
  )
  input <- .kms$list_grants_input(Limit = Limit, Marker = Marker, KeyId = KeyId, GrantId = GrantId, GranteePrincipal = GranteePrincipal)
  output <- .kms$list_grants_output()
  config <- get_config()
  svc <- .kms$service(config)
  request <- new_request(svc, op, input, output)
  response <- send_request(request)
  return(response)
}
.kms$operations$list_grants <- kms_list_grants

#' Gets the names of the key policies that are attached to a KMS key
#'
#' @description
#' Gets the names of the key policies that are attached to a KMS key. This
#' operation is designed to get policy names that you can use in a
#' [`get_key_policy`][kms_get_key_policy] operation. However, the only
#' valid policy name is `default`.
#' 
#' **Cross-account use**: No. You cannot perform this operation on a KMS
#' key in a different Amazon Web Services account.
#' 
#' **Required permissions**:
#' [kms:ListKeyPolicies](https://docs.aws.amazon.com/kms/latest/developerguide/kms-api-permissions-reference.html)
#' (key policy)
#' 
#' **Related operations:**
#' 
#' -   [`get_key_policy`][kms_get_key_policy]
#' 
#' -   [`put_key_policy`][kms_put_key_policy]
#'
#' @usage
#' kms_list_key_policies(KeyId, Limit, Marker)
#'
#' @param KeyId &#91;required&#93; Gets the names of key policies for the specified KMS key.
#' 
#' Specify the key ID or key ARN of the KMS key.
#' 
#' For example:
#' 
#' -   Key ID: `1234abcd-12ab-34cd-56ef-1234567890ab`
#' 
#' -   Key ARN:
#'     `arn:aws:kms:us-east-2:111122223333:key/1234abcd-12ab-34cd-56ef-1234567890ab`
#' 
#' To get the key ID and key ARN for a KMS key, use
#' [`list_keys`][kms_list_keys] or [`describe_key`][kms_describe_key].
#' @param Limit Use this parameter to specify the maximum number of items to return.
#' When this value is present, KMS does not return more than the specified
#' number of items, but it might return fewer.
#' 
#' This value is optional. If you include a value, it must be between 1 and
#' 1000, inclusive. If you do not include a value, it defaults to 100.
#' 
#' Only one policy can be attached to a key.
#' @param Marker Use this parameter in a subsequent request after you receive a response
#' with truncated results. Set it to the value of `NextMarker` from the
#' truncated response you just received.
#'
#' @return
#' A list with the following syntax:
#' ```
#' list(
#'   PolicyNames = list(
#'     "string"
#'   ),
#'   NextMarker = "string",
#'   Truncated = TRUE|FALSE
#' )
#' ```
#'
#' @section Request syntax:
#' ```
#' svc$list_key_policies(
#'   KeyId = "string",
#'   Limit = 123,
#'   Marker = "string"
#' )
#' ```
#'
#' @examples
#' \dontrun{
#' # The following example lists key policies for the specified KMS key.
#' svc$list_key_policies(
#'   KeyId = "1234abcd-12ab-34cd-56ef-1234567890ab"
#' )
#' }
#'
#' @keywords internal
#'
#' @rdname kms_list_key_policies
kms_list_key_policies <- function(KeyId, Limit = NULL, Marker = NULL) {
  op <- new_operation(
    name = "ListKeyPolicies",
    http_method = "POST",
    http_path = "/",
    paginator = list()
  )
  input <- .kms$list_key_policies_input(KeyId = KeyId, Limit = Limit, Marker = Marker)
  output <- .kms$list_key_policies_output()
  config <- get_config()
  svc <- .kms$service(config)
  request <- new_request(svc, op, input, output)
  response <- send_request(request)
  return(response)
}
.kms$operations$list_key_policies <- kms_list_key_policies

#' Gets a list of all KMS keys in the caller's Amazon Web Services account
#' and Region
#'
#' @description
#' Gets a list of all KMS keys in the caller's Amazon Web Services account
#' and Region.
#' 
#' **Cross-account use**: No. You cannot perform this operation on a KMS
#' key in a different Amazon Web Services account.
#' 
#' **Required permissions**:
#' [kms:ListKeys](https://docs.aws.amazon.com/kms/latest/developerguide/kms-api-permissions-reference.html)
#' (IAM policy)
#' 
#' **Related operations:**
#' 
#' -   [`create_key`][kms_create_key]
#' 
#' -   [`describe_key`][kms_describe_key]
#' 
#' -   [`list_aliases`][kms_list_aliases]
#' 
#' -   [`list_resource_tags`][kms_list_resource_tags]
#'
#' @usage
#' kms_list_keys(Limit, Marker)
#'
#' @param Limit Use this parameter to specify the maximum number of items to return.
#' When this value is present, KMS does not return more than the specified
#' number of items, but it might return fewer.
#' 
#' This value is optional. If you include a value, it must be between 1 and
#' 1000, inclusive. If you do not include a value, it defaults to 100.
#' @param Marker Use this parameter in a subsequent request after you receive a response
#' with truncated results. Set it to the value of `NextMarker` from the
#' truncated response you just received.
#'
#' @return
#' A list with the following syntax:
#' ```
#' list(
#'   Keys = list(
#'     list(
#'       KeyId = "string",
#'       KeyArn = "string"
#'     )
#'   ),
#'   NextMarker = "string",
#'   Truncated = TRUE|FALSE
#' )
#' ```
#'
#' @section Request syntax:
#' ```
#' svc$list_keys(
#'   Limit = 123,
#'   Marker = "string"
#' )
#' ```
#'
#' @examples
#' \dontrun{
#' # The following example lists KMS keys.
#' svc$list_keys()
#' }
#'
#' @keywords internal
#'
#' @rdname kms_list_keys
kms_list_keys <- function(Limit = NULL, Marker = NULL) {
  op <- new_operation(
    name = "ListKeys",
    http_method = "POST",
    http_path = "/",
    paginator = list()
  )
  input <- .kms$list_keys_input(Limit = Limit, Marker = Marker)
  output <- .kms$list_keys_output()
  config <- get_config()
  svc <- .kms$service(config)
  request <- new_request(svc, op, input, output)
  response <- send_request(request)
  return(response)
}
.kms$operations$list_keys <- kms_list_keys

#' Returns all tags on the specified KMS key
#'
#' @description
#' Returns all tags on the specified KMS key.
#' 
#' For general information about tags, including the format and syntax, see
#' [Tagging Amazon Web Services
#' resources](https://docs.aws.amazon.com/general/latest/gr/aws_tagging.html)
#' in the *Amazon Web Services General Reference*. For information about
#' using tags in KMS, see [Tagging
#' keys](https://docs.aws.amazon.com/kms/latest/developerguide/tagging-keys.html).
#' 
#' **Cross-account use**: No. You cannot perform this operation on a KMS
#' key in a different Amazon Web Services account.
#' 
#' **Required permissions**:
#' [kms:ListResourceTags](https://docs.aws.amazon.com/kms/latest/developerguide/kms-api-permissions-reference.html)
#' (key policy)
#' 
#' **Related operations:**
#' 
#' -   [`create_key`][kms_create_key]
#' 
#' -   [`replicate_key`][kms_replicate_key]
#' 
#' -   [`tag_resource`][kms_tag_resource]
#' 
#' -   [`untag_resource`][kms_untag_resource]
#'
#' @usage
#' kms_list_resource_tags(KeyId, Limit, Marker)
#'
#' @param KeyId &#91;required&#93; Gets tags on the specified KMS key.
#' 
#' Specify the key ID or key ARN of the KMS key.
#' 
#' For example:
#' 
#' -   Key ID: `1234abcd-12ab-34cd-56ef-1234567890ab`
#' 
#' -   Key ARN:
#'     `arn:aws:kms:us-east-2:111122223333:key/1234abcd-12ab-34cd-56ef-1234567890ab`
#' 
#' To get the key ID and key ARN for a KMS key, use
#' [`list_keys`][kms_list_keys] or [`describe_key`][kms_describe_key].
#' @param Limit Use this parameter to specify the maximum number of items to return.
#' When this value is present, KMS does not return more than the specified
#' number of items, but it might return fewer.
#' 
#' This value is optional. If you include a value, it must be between 1 and
#' 50, inclusive. If you do not include a value, it defaults to 50.
#' @param Marker Use this parameter in a subsequent request after you receive a response
#' with truncated results. Set it to the value of `NextMarker` from the
#' truncated response you just received.
#' 
#' Do not attempt to construct this value. Use only the value of
#' `NextMarker` from the truncated response you just received.
#'
#' @return
#' A list with the following syntax:
#' ```
#' list(
#'   Tags = list(
#'     list(
#'       TagKey = "string",
#'       TagValue = "string"
#'     )
#'   ),
#'   NextMarker = "string",
#'   Truncated = TRUE|FALSE
#' )
#' ```
#'
#' @section Request syntax:
#' ```
#' svc$list_resource_tags(
#'   KeyId = "string",
#'   Limit = 123,
#'   Marker = "string"
#' )
#' ```
#'
#' @examples
#' \dontrun{
#' # The following example lists tags for a KMS key.
#' svc$list_resource_tags(
#'   KeyId = "1234abcd-12ab-34cd-56ef-1234567890ab"
#' )
#' }
#'
#' @keywords internal
#'
#' @rdname kms_list_resource_tags
kms_list_resource_tags <- function(KeyId, Limit = NULL, Marker = NULL) {
  op <- new_operation(
    name = "ListResourceTags",
    http_method = "POST",
    http_path = "/",
    paginator = list()
  )
  input <- .kms$list_resource_tags_input(KeyId = KeyId, Limit = Limit, Marker = Marker)
  output <- .kms$list_resource_tags_output()
  config <- get_config()
  svc <- .kms$service(config)
  request <- new_request(svc, op, input, output)
  response <- send_request(request)
  return(response)
}
.kms$operations$list_resource_tags <- kms_list_resource_tags

#' Returns information about all grants in the Amazon Web Services account
#' and Region that have the specified retiring principal
#'
#' @description
#' Returns information about all grants in the Amazon Web Services account
#' and Region that have the specified retiring principal.
#' 
#' You can specify any principal in your Amazon Web Services account. The
#' grants that are returned include grants for KMS keys in your Amazon Web
#' Services account and other Amazon Web Services accounts. You might use
#' this operation to determine which grants you may retire. To retire a
#' grant, use the [`retire_grant`][kms_retire_grant] operation.
#' 
#' For detailed information about grants, including grant terminology, see
#' [Grants in
#' KMS](https://docs.aws.amazon.com/kms/latest/developerguide/grants.html)
#' in the *Key Management Service Developer Guide* . For examples of
#' working with grants in several programming languages, see [Programming
#' grants](https://docs.aws.amazon.com/kms/latest/developerguide/programming-grants.html).
#' 
#' **Cross-account use**: You must specify a principal in your Amazon Web
#' Services account. However, this operation can return grants in any
#' Amazon Web Services account. You do not need `kms:ListRetirableGrants`
#' permission (or any other additional permission) in any Amazon Web
#' Services account other than your own.
#' 
#' **Required permissions**:
#' [kms:ListRetirableGrants](https://docs.aws.amazon.com/kms/latest/developerguide/kms-api-permissions-reference.html)
#' (IAM policy) in your Amazon Web Services account.
#' 
#' **Related operations:**
#' 
#' -   [`create_grant`][kms_create_grant]
#' 
#' -   [`list_grants`][kms_list_grants]
#' 
#' -   [`retire_grant`][kms_retire_grant]
#' 
#' -   [`revoke_grant`][kms_revoke_grant]
#'
#' @usage
#' kms_list_retirable_grants(Limit, Marker, RetiringPrincipal)
#'
#' @param Limit Use this parameter to specify the maximum number of items to return.
#' When this value is present, KMS does not return more than the specified
#' number of items, but it might return fewer.
#' 
#' This value is optional. If you include a value, it must be between 1 and
#' 100, inclusive. If you do not include a value, it defaults to 50.
#' @param Marker Use this parameter in a subsequent request after you receive a response
#' with truncated results. Set it to the value of `NextMarker` from the
#' truncated response you just received.
#' @param RetiringPrincipal &#91;required&#93; The retiring principal for which to list grants. Enter a principal in
#' your Amazon Web Services account.
#' 
#' To specify the retiring principal, use the [Amazon Resource Name
#' (ARN)](https://docs.aws.amazon.com/general/latest/gr/aws-arns-and-namespaces.html)
#' of an Amazon Web Services principal. Valid Amazon Web Services
#' principals include Amazon Web Services accounts (root), IAM users,
#' federated users, and assumed role users. For examples of the ARN syntax
#' for specifying a principal, see [Amazon Web Services Identity and Access
#' Management
#' (IAM)](https://docs.aws.amazon.com/general/latest/gr/aws-arns-and-namespaces.html#arn-syntax-iam)
#' in the Example ARNs section of the *Amazon Web Services General
#' Reference*.
#'
#' @return
#' A list with the following syntax:
#' ```
#' list(
#'   Grants = list(
#'     list(
#'       KeyId = "string",
#'       GrantId = "string",
#'       Name = "string",
#'       CreationDate = as.POSIXct(
#'         "2015-01-01"
#'       ),
#'       GranteePrincipal = "string",
#'       RetiringPrincipal = "string",
#'       IssuingAccount = "string",
#'       Operations = list(
#'         "Decrypt"|"Encrypt"|"GenerateDataKey"|"GenerateDataKeyWithoutPlaintext"|"ReEncryptFrom"|"ReEncryptTo"|"Sign"|"Verify"|"GetPublicKey"|"CreateGrant"|"RetireGrant"|"DescribeKey"|"GenerateDataKeyPair"|"GenerateDataKeyPairWithoutPlaintext"|"GenerateMac"|"VerifyMac"
#'       ),
#'       Constraints = list(
#'         EncryptionContextSubset = list(
#'           "string"
#'         ),
#'         EncryptionContextEquals = list(
#'           "string"
#'         )
#'       )
#'     )
#'   ),
#'   NextMarker = "string",
#'   Truncated = TRUE|FALSE
#' )
#' ```
#'
#' @section Request syntax:
#' ```
#' svc$list_retirable_grants(
#'   Limit = 123,
#'   Marker = "string",
#'   RetiringPrincipal = "string"
#' )
#' ```
#'
#' @examples
#' \dontrun{
#' # The following example lists the grants that the specified principal
#' # (identity) can retire.
#' svc$list_retirable_grants(
#'   RetiringPrincipal = "arn:aws:iam::111122223333:role/ExampleRole"
#' )
#' }
#'
#' @keywords internal
#'
#' @rdname kms_list_retirable_grants
kms_list_retirable_grants <- function(Limit = NULL, Marker = NULL, RetiringPrincipal) {
  op <- new_operation(
    name = "ListRetirableGrants",
    http_method = "POST",
    http_path = "/",
    paginator = list()
  )
  input <- .kms$list_retirable_grants_input(Limit = Limit, Marker = Marker, RetiringPrincipal = RetiringPrincipal)
  output <- .kms$list_retirable_grants_output()
  config <- get_config()
  svc <- .kms$service(config)
  request <- new_request(svc, op, input, output)
  response <- send_request(request)
  return(response)
}
.kms$operations$list_retirable_grants <- kms_list_retirable_grants

#' Attaches a key policy to the specified KMS key
#'
#' @description
#' Attaches a key policy to the specified KMS key.
#' 
#' For more information about key policies, see [Key
#' Policies](https://docs.aws.amazon.com/kms/latest/developerguide/key-policies.html)
#' in the *Key Management Service Developer Guide*. For help writing and
#' formatting a JSON policy document, see the [IAM JSON Policy
#' Reference](https://docs.aws.amazon.com/IAM/latest/UserGuide/reference_policies.html)
#' in the *Identity and Access Management User Guide* . For examples of
#' adding a key policy in multiple programming languages, see [Setting a
#' key
#' policy](https://docs.aws.amazon.com/kms/latest/developerguide/programming-key-policies.html#put-policy)
#' in the *Key Management Service Developer Guide*.
#' 
#' **Cross-account use**: No. You cannot perform this operation on a KMS
#' key in a different Amazon Web Services account.
#' 
#' **Required permissions**:
#' [kms:PutKeyPolicy](https://docs.aws.amazon.com/kms/latest/developerguide/kms-api-permissions-reference.html)
#' (key policy)
#' 
#' **Related operations**: [`get_key_policy`][kms_get_key_policy]
#'
#' @usage
#' kms_put_key_policy(KeyId, PolicyName, Policy,
#'   BypassPolicyLockoutSafetyCheck)
#'
#' @param KeyId &#91;required&#93; Sets the key policy on the specified KMS key.
#' 
#' Specify the key ID or key ARN of the KMS key.
#' 
#' For example:
#' 
#' -   Key ID: `1234abcd-12ab-34cd-56ef-1234567890ab`
#' 
#' -   Key ARN:
#'     `arn:aws:kms:us-east-2:111122223333:key/1234abcd-12ab-34cd-56ef-1234567890ab`
#' 
#' To get the key ID and key ARN for a KMS key, use
#' [`list_keys`][kms_list_keys] or [`describe_key`][kms_describe_key].
#' @param PolicyName &#91;required&#93; The name of the key policy. The only valid value is `default`.
#' @param Policy &#91;required&#93; The key policy to attach to the KMS key.
#' 
#' The key policy must meet the following criteria:
#' 
#' -   If you don't set `BypassPolicyLockoutSafetyCheck` to true, the key
#'     policy must allow the principal that is making the
#'     [`put_key_policy`][kms_put_key_policy] request to make a subsequent
#'     [`put_key_policy`][kms_put_key_policy] request on the KMS key. This
#'     reduces the risk that the KMS key becomes unmanageable. For more
#'     information, refer to the scenario in the [Default Key
#'     Policy](https://docs.aws.amazon.com/kms/latest/developerguide/key-policies.html#key-policy-default-allow-root-enable-iam)
#'     section of the *Key Management Service Developer Guide*.
#' 
#' -   Each statement in the key policy must contain one or more
#'     principals. The principals in the key policy must exist and be
#'     visible to KMS. When you create a new Amazon Web Services principal
#'     (for example, an IAM user or role), you might need to enforce a
#'     delay before including the new principal in a key policy because the
#'     new principal might not be immediately visible to KMS. For more
#'     information, see [Changes that I make are not always immediately
#'     visible](https://docs.aws.amazon.com/IAM/latest/UserGuide/troubleshoot_general.html#troubleshoot_general_eventual-consistency)
#'     in the *Amazon Web Services Identity and Access Management User
#'     Guide*.
#' 
#' A key policy document can include only the following characters:
#' 
#' -   Printable ASCII characters from the space character (`\u0020`)
#'     through the end of the ASCII character range.
#' 
#' -   Printable characters in the Basic Latin and Latin-1 Supplement
#'     character set (through `\u00FF`).
#' 
#' -   The tab (`\u0009`), line feed (`\u000A`), and carriage return
#'     (`\u000D`) special characters
#' 
#' For information about key policies, see [Key policies in
#' KMS](https://docs.aws.amazon.com/kms/latest/developerguide/key-policies.html)
#' in the *Key Management Service Developer Guide*. For help writing and
#' formatting a JSON policy document, see the [IAM JSON Policy
#' Reference](https://docs.aws.amazon.com/IAM/latest/UserGuide/reference_policies.html)
#' in the *Identity and Access Management User Guide* .
#' @param BypassPolicyLockoutSafetyCheck A flag to indicate whether to bypass the key policy lockout safety
#' check.
#' 
#' Setting this value to true increases the risk that the KMS key becomes
#' unmanageable. Do not set this value to true indiscriminately.
#' 
#' For more information, refer to the scenario in the [Default Key
#' Policy](https://docs.aws.amazon.com/kms/latest/developerguide/key-policies.html#key-policy-default-allow-root-enable-iam)
#' section in the *Key Management Service Developer Guide*.
#' 
#' Use this parameter only when you intend to prevent the principal that is
#' making the request from making a subsequent
#' [`put_key_policy`][kms_put_key_policy] request on the KMS key.
#' 
#' The default value is false.
#'
#' @return
#' An empty list.
#'
#' @section Request syntax:
#' ```
#' svc$put_key_policy(
#'   KeyId = "string",
#'   PolicyName = "string",
#'   Policy = "string",
#'   BypassPolicyLockoutSafetyCheck = TRUE|FALSE
#' )
#' ```
#'
#' @examples
#' \dontrun{
#' # The following example attaches a key policy to the specified KMS key.
#' svc$put_key_policy(
#'   KeyId = "1234abcd-12ab-34cd-56ef-1234567890ab",
#'   Policy = "\{\n    \"Version\": \"2012-10-17\",\n    \"Id\": \"custom-policy-2016-...",
#'   PolicyName = "default"
#' )
#' }
#'
#' @keywords internal
#'
#' @rdname kms_put_key_policy
kms_put_key_policy <- function(KeyId, PolicyName, Policy, BypassPolicyLockoutSafetyCheck = NULL) {
  op <- new_operation(
    name = "PutKeyPolicy",
    http_method = "POST",
    http_path = "/",
    paginator = list()
  )
  input <- .kms$put_key_policy_input(KeyId = KeyId, PolicyName = PolicyName, Policy = Policy, BypassPolicyLockoutSafetyCheck = BypassPolicyLockoutSafetyCheck)
  output <- .kms$put_key_policy_output()
  config <- get_config()
  svc <- .kms$service(config)
  request <- new_request(svc, op, input, output)
  response <- send_request(request)
  return(response)
}
.kms$operations$put_key_policy <- kms_put_key_policy

#' Decrypts ciphertext and then reencrypts it entirely within KMS
#'
#' @description
#' Decrypts ciphertext and then reencrypts it entirely within KMS. You can
#' use this operation to change the KMS key under which data is encrypted,
#' such as when you [manually
#' rotate](https://docs.aws.amazon.com/kms/latest/developerguide/rotate-keys.html#rotate-keys-manually)
#' a KMS key or change the KMS key that protects a ciphertext. You can also
#' use it to reencrypt ciphertext under the same KMS key, such as to change
#' the [encryption
#' context](https://docs.aws.amazon.com/kms/latest/developerguide/concepts.html#encrypt_context)
#' of a ciphertext.
#' 
#' The [`re_encrypt`][kms_re_encrypt] operation can decrypt ciphertext that
#' was encrypted by using a KMS key in an KMS operation, such as
#' [`encrypt`][kms_encrypt] or
#' [`generate_data_key`][kms_generate_data_key]. It can also decrypt
#' ciphertext that was encrypted by using the public key of an [asymmetric
#' KMS
#' key](https://docs.aws.amazon.com/kms/latest/developerguide/#asymmetric-cmks)
#' outside of KMS. However, it cannot decrypt ciphertext produced by other
#' libraries, such as the [Amazon Web Services Encryption
#' SDK](https://docs.aws.amazon.com/encryption-sdk/latest/developer-guide/)
#' or [Amazon S3 client-side
#' encryption](https://docs.aws.amazon.com/AmazonS3/latest/userguide/UsingClientSideEncryption.html).
#' These libraries return a ciphertext format that is incompatible with
#' KMS.
#' 
#' When you use the [`re_encrypt`][kms_re_encrypt] operation, you need to
#' provide information for the decrypt operation and the subsequent encrypt
#' operation.
#' 
#' -   If your ciphertext was encrypted under an asymmetric KMS key, you
#'     must use the `SourceKeyId` parameter to identify the KMS key that
#'     encrypted the ciphertext. You must also supply the encryption
#'     algorithm that was used. This information is required to decrypt the
#'     data.
#' 
#' -   If your ciphertext was encrypted under a symmetric encryption KMS
#'     key, the `SourceKeyId` parameter is optional. KMS can get this
#'     information from metadata that it adds to the symmetric ciphertext
#'     blob. This feature adds durability to your implementation by
#'     ensuring that authorized users can decrypt ciphertext decades after
#'     it was encrypted, even if they've lost track of the key ID. However,
#'     specifying the source KMS key is always recommended as a best
#'     practice. When you use the `SourceKeyId` parameter to specify a KMS
#'     key, KMS uses only the KMS key you specify. If the ciphertext was
#'     encrypted under a different KMS key, the
#'     [`re_encrypt`][kms_re_encrypt] operation fails. This practice
#'     ensures that you use the KMS key that you intend.
#' 
#' -   To reencrypt the data, you must use the `DestinationKeyId` parameter
#'     specify the KMS key that re-encrypts the data after it is decrypted.
#'     If the destination KMS key is an asymmetric KMS key, you must also
#'     provide the encryption algorithm. The algorithm that you choose must
#'     be compatible with the KMS key.
#' 
#'     When you use an asymmetric KMS key to encrypt or reencrypt data, be
#'     sure to record the KMS key and encryption algorithm that you choose.
#'     You will be required to provide the same KMS key and encryption
#'     algorithm when you decrypt the data. If the KMS key and algorithm do
#'     not match the values used to encrypt the data, the decrypt operation
#'     fails.
#' 
#'     You are not required to supply the key ID and encryption algorithm
#'     when you decrypt with symmetric encryption KMS keys because KMS
#'     stores this information in the ciphertext blob. KMS cannot store
#'     metadata in ciphertext generated with asymmetric keys. The standard
#'     format for asymmetric key ciphertext does not include configurable
#'     fields.
#' 
#' The KMS key that you use for this operation must be in a compatible key
#' state. For details, see [Key states of KMS
#' keys](https://docs.aws.amazon.com/kms/latest/developerguide/key-state.html)
#' in the *Key Management Service Developer Guide*.
#' 
#' **Cross-account use**: Yes. The source KMS key and destination KMS key
#' can be in different Amazon Web Services accounts. Either or both KMS
#' keys can be in a different account than the caller. To specify a KMS key
#' in a different account, you must use its key ARN or alias ARN.
#' 
#' **Required permissions**:
#' 
#' -   [kms:ReEncryptFrom](https://docs.aws.amazon.com/kms/latest/developerguide/kms-api-permissions-reference.html)
#'     permission on the source KMS key (key policy)
#' 
#' -   [kms:ReEncryptTo](https://docs.aws.amazon.com/kms/latest/developerguide/kms-api-permissions-reference.html)
#'     permission on the destination KMS key (key policy)
#' 
#' To permit reencryption from or to a KMS key, include the
#' `"kms:ReEncrypt*"` permission in your [key
#' policy](https://docs.aws.amazon.com/kms/latest/developerguide/key-policies.html).
#' This permission is automatically included in the key policy when you use
#' the console to create a KMS key. But you must include it manually when
#' you create a KMS key programmatically or when you use the
#' [`put_key_policy`][kms_put_key_policy] operation to set a key policy.
#' 
#' **Related operations:**
#' 
#' -   [`decrypt`][kms_decrypt]
#' 
#' -   [`encrypt`][kms_encrypt]
#' 
#' -   [`generate_data_key`][kms_generate_data_key]
#' 
#' -   [`generate_data_key_pair`][kms_generate_data_key_pair]
#'
#' @usage
#' kms_re_encrypt(CiphertextBlob, SourceEncryptionContext, SourceKeyId,
#'   DestinationKeyId, DestinationEncryptionContext,
#'   SourceEncryptionAlgorithm, DestinationEncryptionAlgorithm, GrantTokens)
#'
#' @param CiphertextBlob &#91;required&#93; Ciphertext of the data to reencrypt.
#' @param SourceEncryptionContext Specifies the encryption context to use to decrypt the ciphertext. Enter
#' the same encryption context that was used to encrypt the ciphertext.
#' 
#' An *encryption context* is a collection of non-secret key-value pairs
#' that represent additional authenticated data. When you use an encryption
#' context to encrypt data, you must specify the same (an exact
#' case-sensitive match) encryption context to decrypt the data. An
#' encryption context is supported only on operations with symmetric
#' encryption KMS keys. On operations with symmetric encryption KMS keys,
#' an encryption context is optional, but it is strongly recommended.
#' 
#' For more information, see [Encryption
#' context](https://docs.aws.amazon.com/kms/latest/developerguide/concepts.html#encrypt_context)
#' in the *Key Management Service Developer Guide*.
#' @param SourceKeyId Specifies the KMS key that KMS will use to decrypt the ciphertext before
#' it is re-encrypted.
#' 
#' Enter a key ID of the KMS key that was used to encrypt the ciphertext.
#' If you identify a different KMS key, the [`re_encrypt`][kms_re_encrypt]
#' operation throws an `IncorrectKeyException`.
#' 
#' This parameter is required only when the ciphertext was encrypted under
#' an asymmetric KMS key. If you used a symmetric encryption KMS key, KMS
#' can get the KMS key from metadata that it adds to the symmetric
#' ciphertext blob. However, it is always recommended as a best practice.
#' This practice ensures that you use the KMS key that you intend.
#' 
#' To specify a KMS key, use its key ID, key ARN, alias name, or alias ARN.
#' When using an alias name, prefix it with `"alias/"`. To specify a KMS
#' key in a different Amazon Web Services account, you must use the key ARN
#' or alias ARN.
#' 
#' For example:
#' 
#' -   Key ID: `1234abcd-12ab-34cd-56ef-1234567890ab`
#' 
#' -   Key ARN:
#'     `arn:aws:kms:us-east-2:111122223333:key/1234abcd-12ab-34cd-56ef-1234567890ab`
#' 
#' -   Alias name: `alias/ExampleAlias`
#' 
#' -   Alias ARN: `arn:aws:kms:us-east-2:111122223333:alias/ExampleAlias`
#' 
#' To get the key ID and key ARN for a KMS key, use
#' [`list_keys`][kms_list_keys] or [`describe_key`][kms_describe_key]. To
#' get the alias name and alias ARN, use
#' [`list_aliases`][kms_list_aliases].
#' @param DestinationKeyId &#91;required&#93; A unique identifier for the KMS key that is used to reencrypt the data.
#' Specify a symmetric encryption KMS key or an asymmetric KMS key with a
#' `KeyUsage` value of `ENCRYPT_DECRYPT`. To find the `KeyUsage` value of a
#' KMS key, use the [`describe_key`][kms_describe_key] operation.
#' 
#' To specify a KMS key, use its key ID, key ARN, alias name, or alias ARN.
#' When using an alias name, prefix it with `"alias/"`. To specify a KMS
#' key in a different Amazon Web Services account, you must use the key ARN
#' or alias ARN.
#' 
#' For example:
#' 
#' -   Key ID: `1234abcd-12ab-34cd-56ef-1234567890ab`
#' 
#' -   Key ARN:
#'     `arn:aws:kms:us-east-2:111122223333:key/1234abcd-12ab-34cd-56ef-1234567890ab`
#' 
#' -   Alias name: `alias/ExampleAlias`
#' 
#' -   Alias ARN: `arn:aws:kms:us-east-2:111122223333:alias/ExampleAlias`
#' 
#' To get the key ID and key ARN for a KMS key, use
#' [`list_keys`][kms_list_keys] or [`describe_key`][kms_describe_key]. To
#' get the alias name and alias ARN, use
#' [`list_aliases`][kms_list_aliases].
#' @param DestinationEncryptionContext Specifies that encryption context to use when the reencrypting the data.
#' 
#' A destination encryption context is valid only when the destination KMS
#' key is a symmetric encryption KMS key. The standard ciphertext format
#' for asymmetric KMS keys does not include fields for metadata.
#' 
#' An *encryption context* is a collection of non-secret key-value pairs
#' that represent additional authenticated data. When you use an encryption
#' context to encrypt data, you must specify the same (an exact
#' case-sensitive match) encryption context to decrypt the data. An
#' encryption context is supported only on operations with symmetric
#' encryption KMS keys. On operations with symmetric encryption KMS keys,
#' an encryption context is optional, but it is strongly recommended.
#' 
#' For more information, see [Encryption
#' context](https://docs.aws.amazon.com/kms/latest/developerguide/concepts.html#encrypt_context)
#' in the *Key Management Service Developer Guide*.
#' @param SourceEncryptionAlgorithm Specifies the encryption algorithm that KMS will use to decrypt the
#' ciphertext before it is reencrypted. The default value,
#' `SYMMETRIC_DEFAULT`, represents the algorithm used for symmetric
#' encryption KMS keys.
#' 
#' Specify the same algorithm that was used to encrypt the ciphertext. If
#' you specify a different algorithm, the decrypt attempt fails.
#' 
#' This parameter is required only when the ciphertext was encrypted under
#' an asymmetric KMS key.
#' @param DestinationEncryptionAlgorithm Specifies the encryption algorithm that KMS will use to reecrypt the
#' data after it has decrypted it. The default value, `SYMMETRIC_DEFAULT`,
#' represents the encryption algorithm used for symmetric encryption KMS
#' keys.
#' 
#' This parameter is required only when the destination KMS key is an
#' asymmetric KMS key.
#' @param GrantTokens A list of grant tokens.
#' 
#' Use a grant token when your permission to call this operation comes from
#' a new grant that has not yet achieved *eventual consistency*. For more
#' information, see [Grant
#' token](https://docs.aws.amazon.com/kms/latest/developerguide/grants.html#grant_token)
#' and [Using a grant
#' token](https://docs.aws.amazon.com/kms/latest/developerguide/grant-manage.html#using-grant-token)
#' in the *Key Management Service Developer Guide*.
#'
#' @return
#' A list with the following syntax:
#' ```
#' list(
#'   CiphertextBlob = raw,
#'   SourceKeyId = "string",
#'   KeyId = "string",
#'   SourceEncryptionAlgorithm = "SYMMETRIC_DEFAULT"|"RSAES_OAEP_SHA_1"|"RSAES_OAEP_SHA_256"|"SM2PKE",
#'   DestinationEncryptionAlgorithm = "SYMMETRIC_DEFAULT"|"RSAES_OAEP_SHA_1"|"RSAES_OAEP_SHA_256"|"SM2PKE"
#' )
#' ```
#'
#' @section Request syntax:
#' ```
#' svc$re_encrypt(
#'   CiphertextBlob = raw,
#'   SourceEncryptionContext = list(
#'     "string"
#'   ),
#'   SourceKeyId = "string",
#'   DestinationKeyId = "string",
#'   DestinationEncryptionContext = list(
#'     "string"
#'   ),
#'   SourceEncryptionAlgorithm = "SYMMETRIC_DEFAULT"|"RSAES_OAEP_SHA_1"|"RSAES_OAEP_SHA_256"|"SM2PKE",
#'   DestinationEncryptionAlgorithm = "SYMMETRIC_DEFAULT"|"RSAES_OAEP_SHA_1"|"RSAES_OAEP_SHA_256"|"SM2PKE",
#'   GrantTokens = list(
#'     "string"
#'   )
#' )
#' ```
#'
#' @examples
#' \dontrun{
#' # The following example reencrypts data with the specified KMS key.
#' svc$re_encrypt(
#'   CiphertextBlob = "<binary data>",
#'   DestinationKeyId = "0987dcba-09fe-87dc-65ba-ab0987654321"
#' )
#' }
#'
#' @keywords internal
#'
#' @rdname kms_re_encrypt
kms_re_encrypt <- function(CiphertextBlob, SourceEncryptionContext = NULL, SourceKeyId = NULL, DestinationKeyId, DestinationEncryptionContext = NULL, SourceEncryptionAlgorithm = NULL, DestinationEncryptionAlgorithm = NULL, GrantTokens = NULL) {
  op <- new_operation(
    name = "ReEncrypt",
    http_method = "POST",
    http_path = "/",
    paginator = list()
  )
  input <- .kms$re_encrypt_input(CiphertextBlob = CiphertextBlob, SourceEncryptionContext = SourceEncryptionContext, SourceKeyId = SourceKeyId, DestinationKeyId = DestinationKeyId, DestinationEncryptionContext = DestinationEncryptionContext, SourceEncryptionAlgorithm = SourceEncryptionAlgorithm, DestinationEncryptionAlgorithm = DestinationEncryptionAlgorithm, GrantTokens = GrantTokens)
  output <- .kms$re_encrypt_output()
  config <- get_config()
  svc <- .kms$service(config)
  request <- new_request(svc, op, input, output)
  response <- send_request(request)
  return(response)
}
.kms$operations$re_encrypt <- kms_re_encrypt

#' Replicates a multi-Region key into the specified Region
#'
#' @description
#' Replicates a multi-Region key into the specified Region. This operation
#' creates a multi-Region replica key based on a multi-Region primary key
#' in a different Region of the same Amazon Web Services partition. You can
#' create multiple replicas of a primary key, but each must be in a
#' different Region. To create a multi-Region primary key, use the
#' [`create_key`][kms_create_key] operation.
#' 
#' This operation supports *multi-Region keys*, an KMS feature that lets
#' you create multiple interoperable KMS keys in different Amazon Web
#' Services Regions. Because these KMS keys have the same key ID, key
#' material, and other metadata, you can use them interchangeably to
#' encrypt data in one Amazon Web Services Region and decrypt it in a
#' different Amazon Web Services Region without re-encrypting the data or
#' making a cross-Region call. For more information about multi-Region
#' keys, see [Multi-Region keys in
#' KMS](https://docs.aws.amazon.com/kms/latest/developerguide/multi-region-keys-overview.html)
#' in the *Key Management Service Developer Guide*.
#' 
#' A *replica key* is a fully-functional KMS key that can be used
#' independently of its primary and peer replica keys. A primary key and
#' its replica keys share properties that make them interoperable. They
#' have the same [key
#' ID](https://docs.aws.amazon.com/kms/latest/developerguide/concepts.html#key-id-key-id)
#' and key material. They also have the same [key
#' spec](https://docs.aws.amazon.com/kms/latest/developerguide/concepts.html#key-spec),
#' [key
#' usage](https://docs.aws.amazon.com/kms/latest/developerguide/concepts.html#key-usage),
#' [key material
#' origin](https://docs.aws.amazon.com/kms/latest/developerguide/concepts.html#key-origin),
#' and [automatic key rotation
#' status](https://docs.aws.amazon.com/kms/latest/developerguide/rotate-keys.html).
#' KMS automatically synchronizes these shared properties among related
#' multi-Region keys. All other properties of a replica key can differ,
#' including its [key
#' policy](https://docs.aws.amazon.com/kms/latest/developerguide/key-policies.html),
#' [tags](https://docs.aws.amazon.com/kms/latest/developerguide/tagging-keys.html),
#' [aliases](https://docs.aws.amazon.com/kms/latest/developerguide/kms-alias.html),
#' and [Key states of KMS
#' keys](https://docs.aws.amazon.com/kms/latest/developerguide/key-state.html).
#' KMS pricing and quotas for KMS keys apply to each primary key and
#' replica key.
#' 
#' When this operation completes, the new replica key has a transient key
#' state of `Creating`. This key state changes to `Enabled` (or
#' `PendingImport`) after a few seconds when the process of creating the
#' new replica key is complete. While the key state is `Creating`, you can
#' manage key, but you cannot yet use it in cryptographic operations. If
#' you are creating and using the replica key programmatically, retry on
#' `KMSInvalidStateException` or call [`describe_key`][kms_describe_key] to
#' check its `KeyState` value before using it. For details about the
#' `Creating` key state, see [Key states of KMS
#' keys](https://docs.aws.amazon.com/kms/latest/developerguide/key-state.html)
#' in the *Key Management Service Developer Guide*.
#' 
#' You cannot create more than one replica of a primary key in any Region.
#' If the Region already includes a replica of the key you're trying to
#' replicate, [`replicate_key`][kms_replicate_key] returns an
#' `AlreadyExistsException` error. If the key state of the existing replica
#' is `PendingDeletion`, you can cancel the scheduled key deletion
#' ([`cancel_key_deletion`][kms_cancel_key_deletion]) or wait for the key
#' to be deleted. The new replica key you create will have the same [shared
#' properties](https://docs.aws.amazon.com/kms/latest/developerguide/multi-region-keys-overview.html#mrk-sync-properties)
#' as the original replica key.
#' 
#' The CloudTrail log of a [`replicate_key`][kms_replicate_key] operation
#' records a [`replicate_key`][kms_replicate_key] operation in the primary
#' key's Region and a [`create_key`][kms_create_key] operation in the
#' replica key's Region.
#' 
#' If you replicate a multi-Region primary key with imported key material,
#' the replica key is created with no key material. You must import the
#' same key material that you imported into the primary key. For details,
#' see [Importing key material into multi-Region
#' keys](https://docs.aws.amazon.com/kms/latest/developerguide/multi-region-keys-import.html)
#' in the *Key Management Service Developer Guide*.
#' 
#' To convert a replica key to a primary key, use the
#' [`update_primary_region`][kms_update_primary_region] operation.
#' 
#' [`replicate_key`][kms_replicate_key] uses different default values for
#' the `KeyPolicy` and `Tags` parameters than those used in the KMS
#' console. For details, see the parameter descriptions.
#' 
#' **Cross-account use**: No. You cannot use this operation to create a
#' replica key in a different Amazon Web Services account.
#' 
#' **Required permissions**:
#' 
#' -   `kms:ReplicateKey` on the primary key (in the primary key's Region).
#'     Include this permission in the primary key's key policy.
#' 
#' -   `kms:CreateKey` in an IAM policy in the replica Region.
#' 
#' -   To use the `Tags` parameter, `kms:TagResource` in an IAM policy in
#'     the replica Region.
#' 
#' **Related operations**
#' 
#' -   [`create_key`][kms_create_key]
#' 
#' -   [`update_primary_region`][kms_update_primary_region]
#'
#' @usage
#' kms_replicate_key(KeyId, ReplicaRegion, Policy,
#'   BypassPolicyLockoutSafetyCheck, Description, Tags)
#'
#' @param KeyId &#91;required&#93; Identifies the multi-Region primary key that is being replicated. To
#' determine whether a KMS key is a multi-Region primary key, use the
#' [`describe_key`][kms_describe_key] operation to check the value of the
#' `MultiRegionKeyType` property.
#' 
#' Specify the key ID or key ARN of a multi-Region primary key.
#' 
#' For example:
#' 
#' -   Key ID: `mrk-1234abcd12ab34cd56ef1234567890ab`
#' 
#' -   Key ARN:
#'     `arn:aws:kms:us-east-2:111122223333:key/mrk-1234abcd12ab34cd56ef1234567890ab`
#' 
#' To get the key ID and key ARN for a KMS key, use
#' [`list_keys`][kms_list_keys] or [`describe_key`][kms_describe_key].
#' @param ReplicaRegion &#91;required&#93; The Region ID of the Amazon Web Services Region for this replica key.
#' 
#' Enter the Region ID, such as `us-east-1` or `ap-southeast-2`. For a list
#' of Amazon Web Services Regions in which KMS is supported, see [KMS
#' service
#' endpoints](https://docs.aws.amazon.com/general/latest/gr/kms.html#kms_region)
#' in the *Amazon Web Services General Reference*.
#' 
#' HMAC KMS keys are not supported in all Amazon Web Services Regions. If
#' you try to replicate an HMAC KMS key in an Amazon Web Services Region in
#' which HMAC keys are not supported, the
#' [`replicate_key`][kms_replicate_key] operation returns an
#' `UnsupportedOperationException`. For a list of Regions in which HMAC KMS
#' keys are supported, see [HMAC keys in
#' KMS](https://docs.aws.amazon.com/kms/latest/developerguide/hmac.html) in
#' the *Key Management Service Developer Guide*.
#' 
#' The replica must be in a different Amazon Web Services Region than its
#' primary key and other replicas of that primary key, but in the same
#' Amazon Web Services partition. KMS must be available in the replica
#' Region. If the Region is not enabled by default, the Amazon Web Services
#' account must be enabled in the Region. For information about Amazon Web
#' Services partitions, see [Amazon Resource Names
#' (ARNs)](https://docs.aws.amazon.com/general/latest/gr/aws-arns-and-namespaces.html)
#' in the *Amazon Web Services General Reference*. For information about
#' enabling and disabling Regions, see [Enabling a
#' Region](https://docs.aws.amazon.com/general/latest/gr/rande-manage.html#rande-manage-enable)
#' and [Disabling a
#' Region](https://docs.aws.amazon.com/general/latest/gr/rande-manage.html#rande-manage-disable)
#' in the *Amazon Web Services General Reference*.
#' @param Policy The key policy to attach to the KMS key. This parameter is optional. If
#' you do not provide a key policy, KMS attaches the [default key
#' policy](https://docs.aws.amazon.com/kms/latest/developerguide/key-policies.html#key-policy-default)
#' to the KMS key.
#' 
#' The key policy is not a shared property of multi-Region keys. You can
#' specify the same key policy or a different key policy for each key in a
#' set of related multi-Region keys. KMS does not synchronize this
#' property.
#' 
#' If you provide a key policy, it must meet the following criteria:
#' 
#' -   If you don't set `BypassPolicyLockoutSafetyCheck` to true, the key
#'     policy must give the caller `kms:PutKeyPolicy` permission on the
#'     replica key. This reduces the risk that the KMS key becomes
#'     unmanageable. For more information, refer to the scenario in the
#'     [Default Key
#'     Policy](https://docs.aws.amazon.com/kms/latest/developerguide/key-policies.html#key-policy-default-allow-root-enable-iam)
#'     section of the *Key Management Service Developer Guide* .
#' 
#' -   Each statement in the key policy must contain one or more
#'     principals. The principals in the key policy must exist and be
#'     visible to KMS. When you create a new Amazon Web Services principal
#'     (for example, an IAM user or role), you might need to enforce a
#'     delay before including the new principal in a key policy because the
#'     new principal might not be immediately visible to KMS. For more
#'     information, see [Changes that I make are not always immediately
#'     visible](https://docs.aws.amazon.com/IAM/latest/UserGuide/troubleshoot_general.html#troubleshoot_general_eventual-consistency)
#'     in the *Identity and Access Management User Guide* .
#' 
#' A key policy document can include only the following characters:
#' 
#' -   Printable ASCII characters from the space character (`\u0020`)
#'     through the end of the ASCII character range.
#' 
#' -   Printable characters in the Basic Latin and Latin-1 Supplement
#'     character set (through `\u00FF`).
#' 
#' -   The tab (`\u0009`), line feed (`\u000A`), and carriage return
#'     (`\u000D`) special characters
#' 
#' For information about key policies, see [Key policies in
#' KMS](https://docs.aws.amazon.com/kms/latest/developerguide/key-policies.html)
#' in the *Key Management Service Developer Guide*. For help writing and
#' formatting a JSON policy document, see the [IAM JSON Policy
#' Reference](https://docs.aws.amazon.com/IAM/latest/UserGuide/reference_policies.html)
#' in the *Identity and Access Management User Guide* .
#' @param BypassPolicyLockoutSafetyCheck A flag to indicate whether to bypass the key policy lockout safety
#' check.
#' 
#' Setting this value to true increases the risk that the KMS key becomes
#' unmanageable. Do not set this value to true indiscriminately.
#' 
#' For more information, refer to the scenario in the [Default Key
#' Policy](https://docs.aws.amazon.com/kms/latest/developerguide/key-policies.html#key-policy-default-allow-root-enable-iam)
#' section in the *Key Management Service Developer Guide*.
#' 
#' Use this parameter only when you intend to prevent the principal that is
#' making the request from making a subsequent
#' [`put_key_policy`][kms_put_key_policy] request on the KMS key.
#' 
#' The default value is false.
#' @param Description A description of the KMS key. The default value is an empty string (no
#' description).
#' 
#' The description is not a shared property of multi-Region keys. You can
#' specify the same description or a different description for each key in
#' a set of related multi-Region keys. KMS does not synchronize this
#' property.
#' @param Tags Assigns one or more tags to the replica key. Use this parameter to tag
#' the KMS key when it is created. To tag an existing KMS key, use the
#' [`tag_resource`][kms_tag_resource] operation.
#' 
#' Tagging or untagging a KMS key can allow or deny permission to the KMS
#' key. For details, see [ABAC in
#' KMS](https://docs.aws.amazon.com/kms/latest/developerguide/abac.html) in
#' the *Key Management Service Developer Guide*.
#' 
#' To use this parameter, you must have
#' [kms:TagResource](https://docs.aws.amazon.com/kms/latest/developerguide/kms-api-permissions-reference.html)
#' permission in an IAM policy.
#' 
#' Tags are not a shared property of multi-Region keys. You can specify the
#' same tags or different tags for each key in a set of related
#' multi-Region keys. KMS does not synchronize this property.
#' 
#' Each tag consists of a tag key and a tag value. Both the tag key and the
#' tag value are required, but the tag value can be an empty (null) string.
#' You cannot have more than one tag on a KMS key with the same tag key. If
#' you specify an existing tag key with a different tag value, KMS replaces
#' the current tag value with the specified one.
#' 
#' When you add tags to an Amazon Web Services resource, Amazon Web
#' Services generates a cost allocation report with usage and costs
#' aggregated by tags. Tags can also be used to control access to a KMS
#' key. For details, see [Tagging
#' Keys](https://docs.aws.amazon.com/kms/latest/developerguide/tagging-keys.html).
#'
#' @return
#' A list with the following syntax:
#' ```
#' list(
#'   ReplicaKeyMetadata = list(
#'     AWSAccountId = "string",
#'     KeyId = "string",
#'     Arn = "string",
#'     CreationDate = as.POSIXct(
#'       "2015-01-01"
#'     ),
#'     Enabled = TRUE|FALSE,
#'     Description = "string",
#'     KeyUsage = "SIGN_VERIFY"|"ENCRYPT_DECRYPT"|"GENERATE_VERIFY_MAC",
#'     KeyState = "Creating"|"Enabled"|"Disabled"|"PendingDeletion"|"PendingImport"|"PendingReplicaDeletion"|"Unavailable"|"Updating",
#'     DeletionDate = as.POSIXct(
#'       "2015-01-01"
#'     ),
#'     ValidTo = as.POSIXct(
#'       "2015-01-01"
#'     ),
#'     Origin = "AWS_KMS"|"EXTERNAL"|"AWS_CLOUDHSM",
#'     CustomKeyStoreId = "string",
#'     CloudHsmClusterId = "string",
#'     ExpirationModel = "KEY_MATERIAL_EXPIRES"|"KEY_MATERIAL_DOES_NOT_EXPIRE",
#'     KeyManager = "AWS"|"CUSTOMER",
#'     CustomerMasterKeySpec = "RSA_2048"|"RSA_3072"|"RSA_4096"|"ECC_NIST_P256"|"ECC_NIST_P384"|"ECC_NIST_P521"|"ECC_SECG_P256K1"|"SYMMETRIC_DEFAULT"|"HMAC_224"|"HMAC_256"|"HMAC_384"|"HMAC_512"|"SM2",
#'     KeySpec = "RSA_2048"|"RSA_3072"|"RSA_4096"|"ECC_NIST_P256"|"ECC_NIST_P384"|"ECC_NIST_P521"|"ECC_SECG_P256K1"|"SYMMETRIC_DEFAULT"|"HMAC_224"|"HMAC_256"|"HMAC_384"|"HMAC_512"|"SM2",
#'     EncryptionAlgorithms = list(
#'       "SYMMETRIC_DEFAULT"|"RSAES_OAEP_SHA_1"|"RSAES_OAEP_SHA_256"|"SM2PKE"
#'     ),
#'     SigningAlgorithms = list(
#'       "RSASSA_PSS_SHA_256"|"RSASSA_PSS_SHA_384"|"RSASSA_PSS_SHA_512"|"RSASSA_PKCS1_V1_5_SHA_256"|"RSASSA_PKCS1_V1_5_SHA_384"|"RSASSA_PKCS1_V1_5_SHA_512"|"ECDSA_SHA_256"|"ECDSA_SHA_384"|"ECDSA_SHA_512"|"SM2DSA"
#'     ),
#'     MultiRegion = TRUE|FALSE,
#'     MultiRegionConfiguration = list(
#'       MultiRegionKeyType = "PRIMARY"|"REPLICA",
#'       PrimaryKey = list(
#'         Arn = "string",
#'         Region = "string"
#'       ),
#'       ReplicaKeys = list(
#'         list(
#'           Arn = "string",
#'           Region = "string"
#'         )
#'       )
#'     ),
#'     PendingDeletionWindowInDays = 123,
#'     MacAlgorithms = list(
#'       "HMAC_SHA_224"|"HMAC_SHA_256"|"HMAC_SHA_384"|"HMAC_SHA_512"
#'     )
#'   ),
#'   ReplicaPolicy = "string",
#'   ReplicaTags = list(
#'     list(
#'       TagKey = "string",
#'       TagValue = "string"
#'     )
#'   )
#' )
#' ```
#'
#' @section Request syntax:
#' ```
#' svc$replicate_key(
#'   KeyId = "string",
#'   ReplicaRegion = "string",
#'   Policy = "string",
#'   BypassPolicyLockoutSafetyCheck = TRUE|FALSE,
#'   Description = "string",
#'   Tags = list(
#'     list(
#'       TagKey = "string",
#'       TagValue = "string"
#'     )
#'   )
#' )
#' ```
#'
#' @examples
#' \dontrun{
#' # This example creates a multi-Region replica key in us-west-2 of a
#' # multi-Region primary key in us-east-1.
#' svc$replicate_key(
#'   KeyId = "arn:aws:kms:us-east-1:111122223333:key/mrk-1234abcd12ab34cd56ef1234567890ab",
#'   ReplicaRegion = "us-west-2"
#' )
#' }
#'
#' @keywords internal
#'
#' @rdname kms_replicate_key
kms_replicate_key <- function(KeyId, ReplicaRegion, Policy = NULL, BypassPolicyLockoutSafetyCheck = NULL, Description = NULL, Tags = NULL) {
  op <- new_operation(
    name = "ReplicateKey",
    http_method = "POST",
    http_path = "/",
    paginator = list()
  )
  input <- .kms$replicate_key_input(KeyId = KeyId, ReplicaRegion = ReplicaRegion, Policy = Policy, BypassPolicyLockoutSafetyCheck = BypassPolicyLockoutSafetyCheck, Description = Description, Tags = Tags)
  output <- .kms$replicate_key_output()
  config <- get_config()
  svc <- .kms$service(config)
  request <- new_request(svc, op, input, output)
  response <- send_request(request)
  return(response)
}
.kms$operations$replicate_key <- kms_replicate_key

#' Deletes a grant
#'
#' @description
#' Deletes a grant. Typically, you retire a grant when you no longer need
#' its permissions. To identify the grant to retire, use a [grant
#' token](https://docs.aws.amazon.com/kms/latest/developerguide/grants.html#grant_token),
#' or both the grant ID and a key identifier (key ID or key ARN) of the KMS
#' key. The [`create_grant`][kms_create_grant] operation returns both
#' values.
#' 
#' This operation can be called by the *retiring principal* for a grant, by
#' the *grantee principal* if the grant allows the
#' [`retire_grant`][kms_retire_grant] operation, and by the Amazon Web
#' Services account in which the grant is created. It can also be called by
#' principals to whom permission for retiring a grant is delegated. For
#' details, see [Retiring and revoking
#' grants](https://docs.aws.amazon.com/kms/latest/developerguide/grant-manage.html#grant-delete)
#' in the *Key Management Service Developer Guide*.
#' 
#' For detailed information about grants, including grant terminology, see
#' [Grants in
#' KMS](https://docs.aws.amazon.com/kms/latest/developerguide/grants.html)
#' in the *Key Management Service Developer Guide* . For examples of
#' working with grants in several programming languages, see [Programming
#' grants](https://docs.aws.amazon.com/kms/latest/developerguide/programming-grants.html).
#' 
#' **Cross-account use**: Yes. You can retire a grant on a KMS key in a
#' different Amazon Web Services account.
#' 
#' **Required permissions:**:Permission to retire a grant is determined
#' primarily by the grant. For details, see [Retiring and revoking
#' grants](https://docs.aws.amazon.com/kms/latest/developerguide/grant-manage.html#grant-delete)
#' in the *Key Management Service Developer Guide*.
#' 
#' **Related operations:**
#' 
#' -   [`create_grant`][kms_create_grant]
#' 
#' -   [`list_grants`][kms_list_grants]
#' 
#' -   [`list_retirable_grants`][kms_list_retirable_grants]
#' 
#' -   [`revoke_grant`][kms_revoke_grant]
#'
#' @usage
#' kms_retire_grant(GrantToken, KeyId, GrantId)
#'
#' @param GrantToken Identifies the grant to be retired. You can use a grant token to
#' identify a new grant even before it has achieved eventual consistency.
#' 
#' Only the [`create_grant`][kms_create_grant] operation returns a grant
#' token. For details, see [Grant
#' token](https://docs.aws.amazon.com/kms/latest/developerguide/grants.html#grant_token)
#' and [Eventual
#' consistency](https://docs.aws.amazon.com/kms/latest/developerguide/grants.html#terms-eventual-consistency)
#' in the *Key Management Service Developer Guide*.
#' @param KeyId The key ARN KMS key associated with the grant. To find the key ARN, use
#' the [`list_keys`][kms_list_keys] operation.
#' 
#' For example:
#' `arn:aws:kms:us-east-2:444455556666:key/1234abcd-12ab-34cd-56ef-1234567890ab`
#' @param GrantId Identifies the grant to retire. To get the grant ID, use
#' [`create_grant`][kms_create_grant], [`list_grants`][kms_list_grants], or
#' [`list_retirable_grants`][kms_list_retirable_grants].
#' 
#' -   Grant ID Example -
#'     0123456789012345678901234567890123456789012345678901234567890123
#'
#' @return
#' An empty list.
#'
#' @section Request syntax:
#' ```
#' svc$retire_grant(
#'   GrantToken = "string",
#'   KeyId = "string",
#'   GrantId = "string"
#' )
#' ```
#'
#' @examples
#' \dontrun{
#' # The following example retires a grant.
#' svc$retire_grant(
#'   GrantId = "0c237476b39f8bc44e45212e08498fbe3151305030726c0590dd8d3e9f3d6a60",
#'   KeyId = "arn:aws:kms:us-east-2:444455556666:key/1234abcd-12ab-34cd-56ef-1234567890ab"
#' )
#' }
#'
#' @keywords internal
#'
#' @rdname kms_retire_grant
kms_retire_grant <- function(GrantToken = NULL, KeyId = NULL, GrantId = NULL) {
  op <- new_operation(
    name = "RetireGrant",
    http_method = "POST",
    http_path = "/",
    paginator = list()
  )
  input <- .kms$retire_grant_input(GrantToken = GrantToken, KeyId = KeyId, GrantId = GrantId)
  output <- .kms$retire_grant_output()
  config <- get_config()
  svc <- .kms$service(config)
  request <- new_request(svc, op, input, output)
  response <- send_request(request)
  return(response)
}
.kms$operations$retire_grant <- kms_retire_grant

#' Deletes the specified grant
#'
#' @description
#' Deletes the specified grant. You revoke a grant to terminate the
#' permissions that the grant allows. For more information, see [Retiring
#' and revoking
#' grants](https://docs.aws.amazon.com/kms/latest/developerguide/#grant-delete)
#' in the *Key Management Service Developer Guide* .
#' 
#' When you create, retire, or revoke a grant, there might be a brief
#' delay, usually less than five minutes, until the grant is available
#' throughout KMS. This state is known as *eventual consistency*. For
#' details, see [Eventual
#' consistency](https://docs.aws.amazon.com/kms/latest/developerguide/grants.html#terms-eventual-consistency)
#' in the *Key Management Service Developer Guide* .
#' 
#' For detailed information about grants, including grant terminology, see
#' [Grants in
#' KMS](https://docs.aws.amazon.com/kms/latest/developerguide/grants.html)
#' in the *Key Management Service Developer Guide* . For examples of
#' working with grants in several programming languages, see [Programming
#' grants](https://docs.aws.amazon.com/kms/latest/developerguide/programming-grants.html).
#' 
#' **Cross-account use**: Yes. To perform this operation on a KMS key in a
#' different Amazon Web Services account, specify the key ARN in the value
#' of the `KeyId` parameter.
#' 
#' **Required permissions**:
#' [kms:RevokeGrant](https://docs.aws.amazon.com/kms/latest/developerguide/kms-api-permissions-reference.html)
#' (key policy).
#' 
#' **Related operations:**
#' 
#' -   [`create_grant`][kms_create_grant]
#' 
#' -   [`list_grants`][kms_list_grants]
#' 
#' -   [`list_retirable_grants`][kms_list_retirable_grants]
#' 
#' -   [`retire_grant`][kms_retire_grant]
#'
#' @usage
#' kms_revoke_grant(KeyId, GrantId)
#'
#' @param KeyId &#91;required&#93; A unique identifier for the KMS key associated with the grant. To get
#' the key ID and key ARN for a KMS key, use [`list_keys`][kms_list_keys]
#' or [`describe_key`][kms_describe_key].
#' 
#' Specify the key ID or key ARN of the KMS key. To specify a KMS key in a
#' different Amazon Web Services account, you must use the key ARN.
#' 
#' For example:
#' 
#' -   Key ID: `1234abcd-12ab-34cd-56ef-1234567890ab`
#' 
#' -   Key ARN:
#'     `arn:aws:kms:us-east-2:111122223333:key/1234abcd-12ab-34cd-56ef-1234567890ab`
#' 
#' To get the key ID and key ARN for a KMS key, use
#' [`list_keys`][kms_list_keys] or [`describe_key`][kms_describe_key].
#' @param GrantId &#91;required&#93; Identifies the grant to revoke. To get the grant ID, use
#' [`create_grant`][kms_create_grant], [`list_grants`][kms_list_grants], or
#' [`list_retirable_grants`][kms_list_retirable_grants].
#'
#' @return
#' An empty list.
#'
#' @section Request syntax:
#' ```
#' svc$revoke_grant(
#'   KeyId = "string",
#'   GrantId = "string"
#' )
#' ```
#'
#' @examples
#' \dontrun{
#' # The following example revokes a grant.
#' svc$revoke_grant(
#'   GrantId = "0c237476b39f8bc44e45212e08498fbe3151305030726c0590dd8d3e9f3d6a60",
#'   KeyId = "1234abcd-12ab-34cd-56ef-1234567890ab"
#' )
#' }
#'
#' @keywords internal
#'
#' @rdname kms_revoke_grant
kms_revoke_grant <- function(KeyId, GrantId) {
  op <- new_operation(
    name = "RevokeGrant",
    http_method = "POST",
    http_path = "/",
    paginator = list()
  )
  input <- .kms$revoke_grant_input(KeyId = KeyId, GrantId = GrantId)
  output <- .kms$revoke_grant_output()
  config <- get_config()
  svc <- .kms$service(config)
  request <- new_request(svc, op, input, output)
  response <- send_request(request)
  return(response)
}
.kms$operations$revoke_grant <- kms_revoke_grant

#' Schedules the deletion of a KMS key
#'
#' @description
#' Schedules the deletion of a KMS key. By default, KMS applies a waiting
#' period of 30 days, but you can specify a waiting period of 7-30 days.
#' When this operation is successful, the key state of the KMS key changes
#' to `PendingDeletion` and the key can't be used in any cryptographic
#' operations. It remains in this state for the duration of the waiting
#' period. Before the waiting period ends, you can use
#' [`cancel_key_deletion`][kms_cancel_key_deletion] to cancel the deletion
#' of the KMS key. After the waiting period ends, KMS deletes the KMS key,
#' its key material, and all KMS data associated with it, including all
#' aliases that refer to it.
#' 
#' Deleting a KMS key is a destructive and potentially dangerous operation.
#' When a KMS key is deleted, all data that was encrypted under the KMS key
#' is unrecoverable. (The only exception is a multi-Region replica key.) To
#' prevent the use of a KMS key without deleting it, use
#' [`disable_key`][kms_disable_key].
#' 
#' If you schedule deletion of a KMS key from a [custom key
#' store](https://docs.aws.amazon.com/kms/latest/developerguide/custom-key-store-overview.html),
#' when the waiting period expires,
#' [`schedule_key_deletion`][kms_schedule_key_deletion] deletes the KMS key
#' from KMS. Then KMS makes a best effort to delete the key material from
#' the associated CloudHSM cluster. However, you might need to manually
#' [delete the orphaned key
#' material](https://docs.aws.amazon.com/kms/latest/developerguide/fix-keystore.html#fix-keystore-orphaned-key)
#' from the cluster and its backups.
#' 
#' You can schedule the deletion of a multi-Region primary key and its
#' replica keys at any time. However, KMS will not delete a multi-Region
#' primary key with existing replica keys. If you schedule the deletion of
#' a primary key with replicas, its key state changes to
#' `PendingReplicaDeletion` and it cannot be replicated or used in
#' cryptographic operations. This status can continue indefinitely. When
#' the last of its replicas keys is deleted (not just scheduled), the key
#' state of the primary key changes to `PendingDeletion` and its waiting
#' period (`PendingWindowInDays`) begins. For details, see [Deleting
#' multi-Region
#' keys](https://docs.aws.amazon.com/kms/latest/developerguide/multi-region-keys-delete.html)
#' in the *Key Management Service Developer Guide*.
#' 
#' For more information about scheduling a KMS key for deletion, see
#' [Deleting KMS
#' keys](https://docs.aws.amazon.com/kms/latest/developerguide/deleting-keys.html)
#' in the *Key Management Service Developer Guide*.
#' 
#' The KMS key that you use for this operation must be in a compatible key
#' state. For details, see [Key states of KMS
#' keys](https://docs.aws.amazon.com/kms/latest/developerguide/key-state.html)
#' in the *Key Management Service Developer Guide*.
#' 
#' **Cross-account use**: No. You cannot perform this operation on a KMS
#' key in a different Amazon Web Services account.
#' 
#' **Required permissions**: kms:ScheduleKeyDeletion (key policy)
#' 
#' **Related operations**
#' 
#' -   [`cancel_key_deletion`][kms_cancel_key_deletion]
#' 
#' -   [`disable_key`][kms_disable_key]
#'
#' @usage
#' kms_schedule_key_deletion(KeyId, PendingWindowInDays)
#'
#' @param KeyId &#91;required&#93; The unique identifier of the KMS key to delete.
#' 
#' Specify the key ID or key ARN of the KMS key.
#' 
#' For example:
#' 
#' -   Key ID: `1234abcd-12ab-34cd-56ef-1234567890ab`
#' 
#' -   Key ARN:
#'     `arn:aws:kms:us-east-2:111122223333:key/1234abcd-12ab-34cd-56ef-1234567890ab`
#' 
#' To get the key ID and key ARN for a KMS key, use
#' [`list_keys`][kms_list_keys] or [`describe_key`][kms_describe_key].
#' @param PendingWindowInDays The waiting period, specified in number of days. After the waiting
#' period ends, KMS deletes the KMS key.
#' 
#' If the KMS key is a multi-Region primary key with replica keys, the
#' waiting period begins when the last of its replica keys is deleted.
#' Otherwise, the waiting period begins immediately.
#' 
#' This value is optional. If you include a value, it must be between 7 and
#' 30, inclusive. If you do not include a value, it defaults to 30.
#'
#' @return
#' A list with the following syntax:
#' ```
#' list(
#'   KeyId = "string",
#'   DeletionDate = as.POSIXct(
#'     "2015-01-01"
#'   ),
#'   KeyState = "Creating"|"Enabled"|"Disabled"|"PendingDeletion"|"PendingImport"|"PendingReplicaDeletion"|"Unavailable"|"Updating",
#'   PendingWindowInDays = 123
#' )
#' ```
#'
#' @section Request syntax:
#' ```
#' svc$schedule_key_deletion(
#'   KeyId = "string",
#'   PendingWindowInDays = 123
#' )
#' ```
#'
#' @examples
#' \dontrun{
#' # The following example schedules the specified KMS key for deletion.
#' svc$schedule_key_deletion(
#'   KeyId = "1234abcd-12ab-34cd-56ef-1234567890ab",
#'   PendingWindowInDays = 7L
#' )
#' }
#'
#' @keywords internal
#'
#' @rdname kms_schedule_key_deletion
kms_schedule_key_deletion <- function(KeyId, PendingWindowInDays = NULL) {
  op <- new_operation(
    name = "ScheduleKeyDeletion",
    http_method = "POST",
    http_path = "/",
    paginator = list()
  )
  input <- .kms$schedule_key_deletion_input(KeyId = KeyId, PendingWindowInDays = PendingWindowInDays)
  output <- .kms$schedule_key_deletion_output()
  config <- get_config()
  svc <- .kms$service(config)
  request <- new_request(svc, op, input, output)
  response <- send_request(request)
  return(response)
}
.kms$operations$schedule_key_deletion <- kms_schedule_key_deletion

#' Creates a digital signature for a message or message digest by using the
#' private key in an asymmetric signing KMS key
#'
#' @description
#' Creates a [digital
#' signature](https://en.wikipedia.org/wiki/Digital_signature) for a
#' message or message digest by using the private key in an asymmetric
#' signing KMS key. To verify the signature, use the [`verify`][kms_verify]
#' operation, or use the public key in the same asymmetric KMS key outside
#' of KMS. For information about asymmetric KMS keys, see [Asymmetric KMS
#' keys](https://docs.aws.amazon.com/kms/latest/developerguide/symmetric-asymmetric.html)
#' in the *Key Management Service Developer Guide*.
#' 
#' Digital signatures are generated and verified by using asymmetric key
#' pair, such as an RSA or ECC pair that is represented by an asymmetric
#' KMS key. The key owner (or an authorized user) uses their private key to
#' sign a message. Anyone with the public key can verify that the message
#' was signed with that particular private key and that the message hasn't
#' changed since it was signed.
#' 
#' To use the [`sign`][kms_sign] operation, provide the following
#' information:
#' 
#' -   Use the `KeyId` parameter to identify an asymmetric KMS key with a
#'     `KeyUsage` value of `SIGN_VERIFY`. To get the `KeyUsage` value of a
#'     KMS key, use the [`describe_key`][kms_describe_key] operation. The
#'     caller must have `kms:Sign` permission on the KMS key.
#' 
#' -   Use the `Message` parameter to specify the message or message digest
#'     to sign. You can submit messages of up to 4096 bytes. To sign a
#'     larger message, generate a hash digest of the message, and then
#'     provide the hash digest in the `Message` parameter. To indicate
#'     whether the message is a full message or a digest, use the
#'     `MessageType` parameter.
#' 
#' -   Choose a signing algorithm that is compatible with the KMS key.
#' 
#' When signing a message, be sure to record the KMS key and the signing
#' algorithm. This information is required to verify the signature.
#' 
#' Best practices recommend that you limit the time during which any
#' signature is effective. This deters an attack where the actor uses a
#' signed message to establish validity repeatedly or long after the
#' message is superseded. Signatures do not include a timestamp, but you
#' can include a timestamp in the signed message to help you detect when
#' its time to refresh the signature.
#' 
#' To verify the signature that this operation generates, use the
#' [`verify`][kms_verify] operation. Or use the
#' [`get_public_key`][kms_get_public_key] operation to download the public
#' key and then use the public key to verify the signature outside of KMS.
#' 
#' The KMS key that you use for this operation must be in a compatible key
#' state. For details, see [Key states of KMS
#' keys](https://docs.aws.amazon.com/kms/latest/developerguide/key-state.html)
#' in the *Key Management Service Developer Guide*.
#' 
#' **Cross-account use**: Yes. To perform this operation with a KMS key in
#' a different Amazon Web Services account, specify the key ARN or alias
#' ARN in the value of the `KeyId` parameter.
#' 
#' **Required permissions**:
#' [kms:Sign](https://docs.aws.amazon.com/kms/latest/developerguide/kms-api-permissions-reference.html)
#' (key policy)
#' 
#' **Related operations**: [`verify`][kms_verify]
#'
#' @usage
#' kms_sign(KeyId, Message, MessageType, GrantTokens, SigningAlgorithm)
#'
#' @param KeyId &#91;required&#93; Identifies an asymmetric KMS key. KMS uses the private key in the
#' asymmetric KMS key to sign the message. The `KeyUsage` type of the KMS
#' key must be `SIGN_VERIFY`. To find the `KeyUsage` of a KMS key, use the
#' [`describe_key`][kms_describe_key] operation.
#' 
#' To specify a KMS key, use its key ID, key ARN, alias name, or alias ARN.
#' When using an alias name, prefix it with `"alias/"`. To specify a KMS
#' key in a different Amazon Web Services account, you must use the key ARN
#' or alias ARN.
#' 
#' For example:
#' 
#' -   Key ID: `1234abcd-12ab-34cd-56ef-1234567890ab`
#' 
#' -   Key ARN:
#'     `arn:aws:kms:us-east-2:111122223333:key/1234abcd-12ab-34cd-56ef-1234567890ab`
#' 
#' -   Alias name: `alias/ExampleAlias`
#' 
#' -   Alias ARN: `arn:aws:kms:us-east-2:111122223333:alias/ExampleAlias`
#' 
#' To get the key ID and key ARN for a KMS key, use
#' [`list_keys`][kms_list_keys] or [`describe_key`][kms_describe_key]. To
#' get the alias name and alias ARN, use
#' [`list_aliases`][kms_list_aliases].
#' @param Message &#91;required&#93; Specifies the message or message digest to sign. Messages can be 0-4096
#' bytes. To sign a larger message, provide the message digest.
#' 
#' If you provide a message, KMS generates a hash digest of the message and
#' then signs it.
#' @param MessageType Tells KMS whether the value of the `Message` parameter is a message or
#' message digest. The default value, RAW, indicates a message. To indicate
#' a message digest, enter `DIGEST`.
#' @param GrantTokens A list of grant tokens.
#' 
#' Use a grant token when your permission to call this operation comes from
#' a new grant that has not yet achieved *eventual consistency*. For more
#' information, see [Grant
#' token](https://docs.aws.amazon.com/kms/latest/developerguide/grants.html#grant_token)
#' and [Using a grant
#' token](https://docs.aws.amazon.com/kms/latest/developerguide/grant-manage.html#using-grant-token)
#' in the *Key Management Service Developer Guide*.
#' @param SigningAlgorithm &#91;required&#93; Specifies the signing algorithm to use when signing the message.
#' 
#' Choose an algorithm that is compatible with the type and size of the
#' specified asymmetric KMS key.
#'
#' @return
#' A list with the following syntax:
#' ```
#' list(
#'   KeyId = "string",
#'   Signature = raw,
#'   SigningAlgorithm = "RSASSA_PSS_SHA_256"|"RSASSA_PSS_SHA_384"|"RSASSA_PSS_SHA_512"|"RSASSA_PKCS1_V1_5_SHA_256"|"RSASSA_PKCS1_V1_5_SHA_384"|"RSASSA_PKCS1_V1_5_SHA_512"|"ECDSA_SHA_256"|"ECDSA_SHA_384"|"ECDSA_SHA_512"|"SM2DSA"
#' )
#' ```
#'
#' @section Request syntax:
#' ```
#' svc$sign(
#'   KeyId = "string",
#'   Message = raw,
#'   MessageType = "RAW"|"DIGEST",
#'   GrantTokens = list(
#'     "string"
#'   ),
#'   SigningAlgorithm = "RSASSA_PSS_SHA_256"|"RSASSA_PSS_SHA_384"|"RSASSA_PSS_SHA_512"|"RSASSA_PKCS1_V1_5_SHA_256"|"RSASSA_PKCS1_V1_5_SHA_384"|"RSASSA_PKCS1_V1_5_SHA_512"|"ECDSA_SHA_256"|"ECDSA_SHA_384"|"ECDSA_SHA_512"|"SM2DSA"
#' )
#' ```
#'
#' @examples
#' \dontrun{
#' # This operation uses the private key in an asymmetric elliptic curve
#' # (ECC) KMS key to generate a digital signature for a given message.
#' svc$sign(
#'   KeyId = "alias/ECC_signing_key",
#'   Message = "<message to be signed>",
#'   MessageType = "RAW",
#'   SigningAlgorithm = "ECDSA_SHA_384"
#' )
#' }
#'
#' @keywords internal
#'
#' @rdname kms_sign
kms_sign <- function(KeyId, Message, MessageType = NULL, GrantTokens = NULL, SigningAlgorithm) {
  op <- new_operation(
    name = "Sign",
    http_method = "POST",
    http_path = "/",
    paginator = list()
  )
  input <- .kms$sign_input(KeyId = KeyId, Message = Message, MessageType = MessageType, GrantTokens = GrantTokens, SigningAlgorithm = SigningAlgorithm)
  output <- .kms$sign_output()
  config <- get_config()
  svc <- .kms$service(config)
  request <- new_request(svc, op, input, output)
  response <- send_request(request)
  return(response)
}
.kms$operations$sign <- kms_sign

#' Adds or edits tags on a customer managed key
#'
#' @description
#' Adds or edits tags on a [customer managed
#' key](https://docs.aws.amazon.com/kms/latest/developerguide/concepts.html#customer-cmk).
#' 
#' Tagging or untagging a KMS key can allow or deny permission to the KMS
#' key. For details, see [ABAC in
#' KMS](https://docs.aws.amazon.com/kms/latest/developerguide/abac.html) in
#' the *Key Management Service Developer Guide*.
#' 
#' Each tag consists of a tag key and a tag value, both of which are
#' case-sensitive strings. The tag value can be an empty (null) string. To
#' add a tag, specify a new tag key and a tag value. To edit a tag, specify
#' an existing tag key and a new tag value.
#' 
#' You can use this operation to tag a [customer managed
#' key](https://docs.aws.amazon.com/kms/latest/developerguide/concepts.html#customer-cmk),
#' but you cannot tag an [Amazon Web Services managed
#' key](https://docs.aws.amazon.com/kms/latest/developerguide/concepts.html#aws-managed-cmk),
#' an [Amazon Web Services owned
#' key](https://docs.aws.amazon.com/kms/latest/developerguide/concepts.html#aws-owned-cmk),
#' a [custom key
#' store](https://docs.aws.amazon.com/kms/latest/developerguide/concepts.html#keystore-concept),
#' or an
#' [alias](https://docs.aws.amazon.com/kms/latest/developerguide/concepts.html#alias-concept).
#' 
#' You can also add tags to a KMS key while creating it
#' ([`create_key`][kms_create_key]) or replicating it
#' ([`replicate_key`][kms_replicate_key]).
#' 
#' For information about using tags in KMS, see [Tagging
#' keys](https://docs.aws.amazon.com/kms/latest/developerguide/tagging-keys.html).
#' For general information about tags, including the format and syntax, see
#' [Tagging Amazon Web Services
#' resources](https://docs.aws.amazon.com/general/latest/gr/aws_tagging.html)
#' in the *Amazon Web Services General Reference*.
#' 
#' The KMS key that you use for this operation must be in a compatible key
#' state. For details, see [Key states of KMS
#' keys](https://docs.aws.amazon.com/kms/latest/developerguide/key-state.html)
#' in the *Key Management Service Developer Guide*.
#' 
#' **Cross-account use**: No. You cannot perform this operation on a KMS
#' key in a different Amazon Web Services account.
#' 
#' **Required permissions**:
#' [kms:TagResource](https://docs.aws.amazon.com/kms/latest/developerguide/kms-api-permissions-reference.html)
#' (key policy)
#' 
#' **Related operations**
#' 
#' -   [`create_key`][kms_create_key]
#' 
#' -   [`list_resource_tags`][kms_list_resource_tags]
#' 
#' -   [`replicate_key`][kms_replicate_key]
#' 
#' -   [`untag_resource`][kms_untag_resource]
#'
#' @usage
#' kms_tag_resource(KeyId, Tags)
#'
#' @param KeyId &#91;required&#93; Identifies a customer managed key in the account and Region.
#' 
#' Specify the key ID or key ARN of the KMS key.
#' 
#' For example:
#' 
#' -   Key ID: `1234abcd-12ab-34cd-56ef-1234567890ab`
#' 
#' -   Key ARN:
#'     `arn:aws:kms:us-east-2:111122223333:key/1234abcd-12ab-34cd-56ef-1234567890ab`
#' 
#' To get the key ID and key ARN for a KMS key, use
#' [`list_keys`][kms_list_keys] or [`describe_key`][kms_describe_key].
#' @param Tags &#91;required&#93; One or more tags.
#' 
#' Each tag consists of a tag key and a tag value. The tag value can be an
#' empty (null) string.
#' 
#' You cannot have more than one tag on a KMS key with the same tag key. If
#' you specify an existing tag key with a different tag value, KMS replaces
#' the current tag value with the specified one.
#'
#' @return
#' An empty list.
#'
#' @section Request syntax:
#' ```
#' svc$tag_resource(
#'   KeyId = "string",
#'   Tags = list(
#'     list(
#'       TagKey = "string",
#'       TagValue = "string"
#'     )
#'   )
#' )
#' ```
#'
#' @examples
#' \dontrun{
#' # The following example tags a KMS key.
#' svc$tag_resource(
#'   KeyId = "1234abcd-12ab-34cd-56ef-1234567890ab",
#'   Tags = list(
#'     list(
#'       TagKey = "Purpose",
#'       TagValue = "Test"
#'     )
#'   )
#' )
#' }
#'
#' @keywords internal
#'
#' @rdname kms_tag_resource
kms_tag_resource <- function(KeyId, Tags) {
  op <- new_operation(
    name = "TagResource",
    http_method = "POST",
    http_path = "/",
    paginator = list()
  )
  input <- .kms$tag_resource_input(KeyId = KeyId, Tags = Tags)
  output <- .kms$tag_resource_output()
  config <- get_config()
  svc <- .kms$service(config)
  request <- new_request(svc, op, input, output)
  response <- send_request(request)
  return(response)
}
.kms$operations$tag_resource <- kms_tag_resource

#' Deletes tags from a customer managed key
#'
#' @description
#' Deletes tags from a [customer managed
#' key](https://docs.aws.amazon.com/kms/latest/developerguide/concepts.html#customer-cmk).
#' To delete a tag, specify the tag key and the KMS key.
#' 
#' Tagging or untagging a KMS key can allow or deny permission to the KMS
#' key. For details, see [ABAC in
#' KMS](https://docs.aws.amazon.com/kms/latest/developerguide/abac.html) in
#' the *Key Management Service Developer Guide*.
#' 
#' When it succeeds, the [`untag_resource`][kms_untag_resource] operation
#' doesn't return any output. Also, if the specified tag key isn't found on
#' the KMS key, it doesn't throw an exception or return a response. To
#' confirm that the operation worked, use the
#' [`list_resource_tags`][kms_list_resource_tags] operation.
#' 
#' For information about using tags in KMS, see [Tagging
#' keys](https://docs.aws.amazon.com/kms/latest/developerguide/tagging-keys.html).
#' For general information about tags, including the format and syntax, see
#' [Tagging Amazon Web Services
#' resources](https://docs.aws.amazon.com/general/latest/gr/aws_tagging.html)
#' in the *Amazon Web Services General Reference*.
#' 
#' The KMS key that you use for this operation must be in a compatible key
#' state. For details, see [Key states of KMS
#' keys](https://docs.aws.amazon.com/kms/latest/developerguide/key-state.html)
#' in the *Key Management Service Developer Guide*.
#' 
#' **Cross-account use**: No. You cannot perform this operation on a KMS
#' key in a different Amazon Web Services account.
#' 
#' **Required permissions**:
#' [kms:UntagResource](https://docs.aws.amazon.com/kms/latest/developerguide/kms-api-permissions-reference.html)
#' (key policy)
#' 
#' **Related operations**
#' 
#' -   [`create_key`][kms_create_key]
#' 
#' -   [`list_resource_tags`][kms_list_resource_tags]
#' 
#' -   [`replicate_key`][kms_replicate_key]
#' 
#' -   [`tag_resource`][kms_tag_resource]
#'
#' @usage
#' kms_untag_resource(KeyId, TagKeys)
#'
#' @param KeyId &#91;required&#93; Identifies the KMS key from which you are removing tags.
#' 
#' Specify the key ID or key ARN of the KMS key.
#' 
#' For example:
#' 
#' -   Key ID: `1234abcd-12ab-34cd-56ef-1234567890ab`
#' 
#' -   Key ARN:
#'     `arn:aws:kms:us-east-2:111122223333:key/1234abcd-12ab-34cd-56ef-1234567890ab`
#' 
#' To get the key ID and key ARN for a KMS key, use
#' [`list_keys`][kms_list_keys] or [`describe_key`][kms_describe_key].
#' @param TagKeys &#91;required&#93; One or more tag keys. Specify only the tag keys, not the tag values.
#'
#' @return
#' An empty list.
#'
#' @section Request syntax:
#' ```
#' svc$untag_resource(
#'   KeyId = "string",
#'   TagKeys = list(
#'     "string"
#'   )
#' )
#' ```
#'
#' @examples
#' \dontrun{
#' # The following example removes tags from a KMS key.
#' svc$untag_resource(
#'   KeyId = "1234abcd-12ab-34cd-56ef-1234567890ab",
#'   TagKeys = list(
#'     "Purpose",
#'     "CostCenter"
#'   )
#' )
#' }
#'
#' @keywords internal
#'
#' @rdname kms_untag_resource
kms_untag_resource <- function(KeyId, TagKeys) {
  op <- new_operation(
    name = "UntagResource",
    http_method = "POST",
    http_path = "/",
    paginator = list()
  )
  input <- .kms$untag_resource_input(KeyId = KeyId, TagKeys = TagKeys)
  output <- .kms$untag_resource_output()
  config <- get_config()
  svc <- .kms$service(config)
  request <- new_request(svc, op, input, output)
  response <- send_request(request)
  return(response)
}
.kms$operations$untag_resource <- kms_untag_resource

#' Associates an existing KMS alias with a different KMS key
#'
#' @description
#' Associates an existing KMS alias with a different KMS key. Each alias is
#' associated with only one KMS key at a time, although a KMS key can have
#' multiple aliases. The alias and the KMS key must be in the same Amazon
#' Web Services account and Region.
#' 
#' Adding, deleting, or updating an alias can allow or deny permission to
#' the KMS key. For details, see [ABAC in
#' KMS](https://docs.aws.amazon.com/kms/latest/developerguide/abac.html) in
#' the *Key Management Service Developer Guide*.
#' 
#' The current and new KMS key must be the same type (both symmetric or
#' both asymmetric), and they must have the same key usage
#' (`ENCRYPT_DECRYPT` or `SIGN_VERIFY`). This restriction prevents errors
#' in code that uses aliases. If you must assign an alias to a different
#' type of KMS key, use [`delete_alias`][kms_delete_alias] to delete the
#' old alias and [`create_alias`][kms_create_alias] to create a new alias.
#' 
#' You cannot use [`update_alias`][kms_update_alias] to change an alias
#' name. To change an alias name, use [`delete_alias`][kms_delete_alias] to
#' delete the old alias and [`create_alias`][kms_create_alias] to create a
#' new alias.
#' 
#' Because an alias is not a property of a KMS key, you can create, update,
#' and delete the aliases of a KMS key without affecting the KMS key. Also,
#' aliases do not appear in the response from the
#' [`describe_key`][kms_describe_key] operation. To get the aliases of all
#' KMS keys in the account, use the [`list_aliases`][kms_list_aliases]
#' operation.
#' 
#' The KMS key that you use for this operation must be in a compatible key
#' state. For details, see [Key states of KMS
#' keys](https://docs.aws.amazon.com/kms/latest/developerguide/key-state.html)
#' in the *Key Management Service Developer Guide*.
#' 
#' **Cross-account use**: No. You cannot perform this operation on a KMS
#' key in a different Amazon Web Services account.
#' 
#' **Required permissions**
#' 
#' -   [kms:UpdateAlias](https://docs.aws.amazon.com/kms/latest/developerguide/kms-api-permissions-reference.html)
#'     on the alias (IAM policy).
#' 
#' -   [kms:UpdateAlias](https://docs.aws.amazon.com/kms/latest/developerguide/kms-api-permissions-reference.html)
#'     on the current KMS key (key policy).
#' 
#' -   [kms:UpdateAlias](https://docs.aws.amazon.com/kms/latest/developerguide/kms-api-permissions-reference.html)
#'     on the new KMS key (key policy).
#' 
#' For details, see [Controlling access to
#' aliases](https://docs.aws.amazon.com/kms/latest/developerguide/kms-alias.html#alias-access)
#' in the *Key Management Service Developer Guide*.
#' 
#' **Related operations:**
#' 
#' -   [`create_alias`][kms_create_alias]
#' 
#' -   [`delete_alias`][kms_delete_alias]
#' 
#' -   [`list_aliases`][kms_list_aliases]
#'
#' @usage
#' kms_update_alias(AliasName, TargetKeyId)
#'
#' @param AliasName &#91;required&#93; Identifies the alias that is changing its KMS key. This value must begin
#' with `alias/` followed by the alias name, such as `alias/ExampleAlias`.
#' You cannot use [`update_alias`][kms_update_alias] to change the alias
#' name.
#' @param TargetKeyId &#91;required&#93; Identifies the [customer managed
#' key](https://docs.aws.amazon.com/kms/latest/developerguide/concepts.html#customer-cmk)
#' to associate with the alias. You don't have permission to associate an
#' alias with an [Amazon Web Services managed
#' key](https://docs.aws.amazon.com/kms/latest/developerguide/concepts.html#aws-managed-cmk).
#' 
#' The KMS key must be in the same Amazon Web Services account and Region
#' as the alias. Also, the new target KMS key must be the same type as the
#' current target KMS key (both symmetric or both asymmetric) and they must
#' have the same key usage.
#' 
#' Specify the key ID or key ARN of the KMS key.
#' 
#' For example:
#' 
#' -   Key ID: `1234abcd-12ab-34cd-56ef-1234567890ab`
#' 
#' -   Key ARN:
#'     `arn:aws:kms:us-east-2:111122223333:key/1234abcd-12ab-34cd-56ef-1234567890ab`
#' 
#' To get the key ID and key ARN for a KMS key, use
#' [`list_keys`][kms_list_keys] or [`describe_key`][kms_describe_key].
#' 
#' To verify that the alias is mapped to the correct KMS key, use
#' [`list_aliases`][kms_list_aliases].
#'
#' @return
#' An empty list.
#'
#' @section Request syntax:
#' ```
#' svc$update_alias(
#'   AliasName = "string",
#'   TargetKeyId = "string"
#' )
#' ```
#'
#' @examples
#' \dontrun{
#' # The following example updates the specified alias to refer to the
#' # specified KMS key.
#' svc$update_alias(
#'   AliasName = "alias/ExampleAlias",
#'   TargetKeyId = "1234abcd-12ab-34cd-56ef-1234567890ab"
#' )
#' }
#'
#' @keywords internal
#'
#' @rdname kms_update_alias
kms_update_alias <- function(AliasName, TargetKeyId) {
  op <- new_operation(
    name = "UpdateAlias",
    http_method = "POST",
    http_path = "/",
    paginator = list()
  )
  input <- .kms$update_alias_input(AliasName = AliasName, TargetKeyId = TargetKeyId)
  output <- .kms$update_alias_output()
  config <- get_config()
  svc <- .kms$service(config)
  request <- new_request(svc, op, input, output)
  response <- send_request(request)
  return(response)
}
.kms$operations$update_alias <- kms_update_alias

#' Changes the properties of a custom key store
#'
#' @description
#' Changes the properties of a custom key store. Use the `CustomKeyStoreId`
#' parameter to identify the custom key store you want to edit. Use the
#' remaining parameters to change the properties of the custom key store.
#' 
#' You can only update a custom key store that is disconnected. To
#' disconnect the custom key store, use
#' [`disconnect_custom_key_store`][kms_disconnect_custom_key_store]. To
#' reconnect the custom key store after the update completes, use
#' [`connect_custom_key_store`][kms_connect_custom_key_store]. To find the
#' connection state of a custom key store, use the
#' [`describe_custom_key_stores`][kms_describe_custom_key_stores]
#' operation.
#' 
#' The `CustomKeyStoreId` parameter is required in all commands. Use the
#' other parameters of
#' [`update_custom_key_store`][kms_update_custom_key_store] to edit your
#' key store settings.
#' 
#' -   Use the `NewCustomKeyStoreName` parameter to change the friendly
#'     name of the custom key store to the value that you specify.
#' 
#' -   Use the `KeyStorePassword` parameter tell KMS the current password
#'     of the [`kmsuser` crypto user
#'     (CU)](https://docs.aws.amazon.com/kms/latest/developerguide/key-store-concepts.html#concept-kmsuser)
#'     in the associated CloudHSM cluster. You can use this parameter to
#'     [fix connection
#'     failures](https://docs.aws.amazon.com/kms/latest/developerguide/fix-keystore.html#fix-keystore-password)
#'     that occur when KMS cannot log into the associated cluster because
#'     the `kmsuser` password has changed. This value does not change the
#'     password in the CloudHSM cluster.
#' 
#' -   Use the `CloudHsmClusterId` parameter to associate the custom key
#'     store with a different, but related, CloudHSM cluster. You can use
#'     this parameter to repair a custom key store if its CloudHSM cluster
#'     becomes corrupted or is deleted, or when you need to create or
#'     restore a cluster from a backup.
#' 
#' If the operation succeeds, it returns a JSON object with no properties.
#' 
#' This operation is part of the [custom key store
#' feature](https://docs.aws.amazon.com/kms/latest/developerguide/custom-key-store-overview.html)
#' feature in KMS, which combines the convenience and extensive integration
#' of KMS with the isolation and control of a single-tenant key store.
#' 
#' **Cross-account use**: No. You cannot perform this operation on a custom
#' key store in a different Amazon Web Services account.
#' 
#' **Required permissions**:
#' [kms:UpdateCustomKeyStore](https://docs.aws.amazon.com/kms/latest/developerguide/kms-api-permissions-reference.html)
#' (IAM policy)
#' 
#' **Related operations:**
#' 
#' -   [`connect_custom_key_store`][kms_connect_custom_key_store]
#' 
#' -   [`create_custom_key_store`][kms_create_custom_key_store]
#' 
#' -   [`delete_custom_key_store`][kms_delete_custom_key_store]
#' 
#' -   [`describe_custom_key_stores`][kms_describe_custom_key_stores]
#' 
#' -   [`disconnect_custom_key_store`][kms_disconnect_custom_key_store]
#'
#' @usage
#' kms_update_custom_key_store(CustomKeyStoreId, NewCustomKeyStoreName,
#'   KeyStorePassword, CloudHsmClusterId)
#'
#' @param CustomKeyStoreId &#91;required&#93; Identifies the custom key store that you want to update. Enter the ID of
#' the custom key store. To find the ID of a custom key store, use the
#' [`describe_custom_key_stores`][kms_describe_custom_key_stores]
#' operation.
#' @param NewCustomKeyStoreName Changes the friendly name of the custom key store to the value that you
#' specify. The custom key store name must be unique in the Amazon Web
#' Services account.
#' @param KeyStorePassword Enter the current password of the `kmsuser` crypto user (CU) in the
#' CloudHSM cluster that is associated with the custom key store.
#' 
#' This parameter tells KMS the current password of the `kmsuser` crypto
#' user (CU). It does not set or change the password of any users in the
#' CloudHSM cluster.
#' @param CloudHsmClusterId Associates the custom key store with a related CloudHSM cluster.
#' 
#' Enter the cluster ID of the cluster that you used to create the custom
#' key store or a cluster that shares a backup history and has the same
#' cluster certificate as the original cluster. You cannot use this
#' parameter to associate a custom key store with an unrelated cluster. In
#' addition, the replacement cluster must [fulfill the
#' requirements](https://docs.aws.amazon.com/kms/latest/developerguide/create-keystore.html#before-keystore)
#' for a cluster associated with a custom key store. To view the cluster
#' certificate of a cluster, use the
#' [DescribeClusters](https://docs.aws.amazon.com/cloudhsm/latest/APIReference/API_DescribeClusters.html)
#' operation.
#'
#' @return
#' An empty list.
#'
#' @section Request syntax:
#' ```
#' svc$update_custom_key_store(
#'   CustomKeyStoreId = "string",
#'   NewCustomKeyStoreName = "string",
#'   KeyStorePassword = "string",
#'   CloudHsmClusterId = "string"
#' )
#' ```
#'
#' @examples
#' \dontrun{
#' # This example tells KMS the password for the kmsuser crypto user in the
#' # AWS CloudHSM cluster that is associated with the AWS KMS custom key
#' # store. (It does not change the password in the CloudHSM cluster.) This
#' # operation does not return any data.
#' svc$update_custom_key_store(
#'   CustomKeyStoreId = "cks-1234567890abcdef0",
#'   KeyStorePassword = "ExamplePassword"
#' )
#' 
#' # This example changes the friendly name of the AWS KMS custom key store
#' # to the name that you specify. This operation does not return any data.
#' # To verify that the operation worked, use the DescribeCustomKeyStores
#' # operation.
#' svc$update_custom_key_store(
#'   CustomKeyStoreId = "cks-1234567890abcdef0",
#'   NewCustomKeyStoreName = "DevelopmentKeys"
#' )
#' 
#' # This example changes the cluster that is associated with a custom key
#' # store to a related cluster, such as a different backup of the same
#' # cluster. This operation does not return any data. To verify that the
#' # operation worked, use the DescribeCustomKeyStores operation.
#' svc$update_custom_key_store(
#'   CloudHsmClusterId = "cluster-1a23b4cdefg",
#'   CustomKeyStoreId = "cks-1234567890abcdef0"
#' )
#' }
#'
#' @keywords internal
#'
#' @rdname kms_update_custom_key_store
kms_update_custom_key_store <- function(CustomKeyStoreId, NewCustomKeyStoreName = NULL, KeyStorePassword = NULL, CloudHsmClusterId = NULL) {
  op <- new_operation(
    name = "UpdateCustomKeyStore",
    http_method = "POST",
    http_path = "/",
    paginator = list()
  )
  input <- .kms$update_custom_key_store_input(CustomKeyStoreId = CustomKeyStoreId, NewCustomKeyStoreName = NewCustomKeyStoreName, KeyStorePassword = KeyStorePassword, CloudHsmClusterId = CloudHsmClusterId)
  output <- .kms$update_custom_key_store_output()
  config <- get_config()
  svc <- .kms$service(config)
  request <- new_request(svc, op, input, output)
  response <- send_request(request)
  return(response)
}
.kms$operations$update_custom_key_store <- kms_update_custom_key_store

#' Updates the description of a KMS key
#'
#' @description
#' Updates the description of a KMS key. To see the description of a KMS
#' key, use [`describe_key`][kms_describe_key].
#' 
#' The KMS key that you use for this operation must be in a compatible key
#' state. For details, see [Key states of KMS
#' keys](https://docs.aws.amazon.com/kms/latest/developerguide/key-state.html)
#' in the *Key Management Service Developer Guide*.
#' 
#' **Cross-account use**: No. You cannot perform this operation on a KMS
#' key in a different Amazon Web Services account.
#' 
#' **Required permissions**:
#' [kms:UpdateKeyDescription](https://docs.aws.amazon.com/kms/latest/developerguide/kms-api-permissions-reference.html)
#' (key policy)
#' 
#' **Related operations**
#' 
#' -   [`create_key`][kms_create_key]
#' 
#' -   [`describe_key`][kms_describe_key]
#'
#' @usage
#' kms_update_key_description(KeyId, Description)
#'
#' @param KeyId &#91;required&#93; Updates the description of the specified KMS key.
#' 
#' Specify the key ID or key ARN of the KMS key.
#' 
#' For example:
#' 
#' -   Key ID: `1234abcd-12ab-34cd-56ef-1234567890ab`
#' 
#' -   Key ARN:
#'     `arn:aws:kms:us-east-2:111122223333:key/1234abcd-12ab-34cd-56ef-1234567890ab`
#' 
#' To get the key ID and key ARN for a KMS key, use
#' [`list_keys`][kms_list_keys] or [`describe_key`][kms_describe_key].
#' @param Description &#91;required&#93; New description for the KMS key.
#'
#' @return
#' An empty list.
#'
#' @section Request syntax:
#' ```
#' svc$update_key_description(
#'   KeyId = "string",
#'   Description = "string"
#' )
#' ```
#'
#' @examples
#' \dontrun{
#' # The following example updates the description of the specified KMS key.
#' svc$update_key_description(
#'   Description = "Example description that indicates the intended use of this KMS key.",
#'   KeyId = "1234abcd-12ab-34cd-56ef-1234567890ab"
#' )
#' }
#'
#' @keywords internal
#'
#' @rdname kms_update_key_description
kms_update_key_description <- function(KeyId, Description) {
  op <- new_operation(
    name = "UpdateKeyDescription",
    http_method = "POST",
    http_path = "/",
    paginator = list()
  )
  input <- .kms$update_key_description_input(KeyId = KeyId, Description = Description)
  output <- .kms$update_key_description_output()
  config <- get_config()
  svc <- .kms$service(config)
  request <- new_request(svc, op, input, output)
  response <- send_request(request)
  return(response)
}
.kms$operations$update_key_description <- kms_update_key_description

#' Changes the primary key of a multi-Region key
#'
#' @description
#' Changes the primary key of a multi-Region key.
#' 
#' This operation changes the replica key in the specified Region to a
#' primary key and changes the former primary key to a replica key. For
#' example, suppose you have a primary key in `us-east-1` and a replica key
#' in `eu-west-2`. If you run
#' [`update_primary_region`][kms_update_primary_region] with a
#' `PrimaryRegion` value of `eu-west-2`, the primary key is now the key in
#' `eu-west-2`, and the key in `us-east-1` becomes a replica key. For
#' details, see [Updating the primary
#' Region](https://docs.aws.amazon.com/kms/latest/developerguide/multi-region-keys-manage.html#multi-region-update)
#' in the *Key Management Service Developer Guide*.
#' 
#' This operation supports *multi-Region keys*, an KMS feature that lets
#' you create multiple interoperable KMS keys in different Amazon Web
#' Services Regions. Because these KMS keys have the same key ID, key
#' material, and other metadata, you can use them interchangeably to
#' encrypt data in one Amazon Web Services Region and decrypt it in a
#' different Amazon Web Services Region without re-encrypting the data or
#' making a cross-Region call. For more information about multi-Region
#' keys, see [Multi-Region keys in
#' KMS](https://docs.aws.amazon.com/kms/latest/developerguide/multi-region-keys-overview.html)
#' in the *Key Management Service Developer Guide*.
#' 
#' The *primary key* of a multi-Region key is the source for properties
#' that are always shared by primary and replica keys, including the key
#' material, [key
#' ID](https://docs.aws.amazon.com/kms/latest/developerguide/concepts.html#key-id-key-id),
#' [key
#' spec](https://docs.aws.amazon.com/kms/latest/developerguide/concepts.html#key-spec),
#' [key
#' usage](https://docs.aws.amazon.com/kms/latest/developerguide/concepts.html#key-usage),
#' [key material
#' origin](https://docs.aws.amazon.com/kms/latest/developerguide/concepts.html#key-origin),
#' and [automatic key
#' rotation](https://docs.aws.amazon.com/kms/latest/developerguide/rotate-keys.html).
#' It's the only key that can be replicated. You cannot [delete the primary
#' key](https://docs.aws.amazon.com/kms/latest/APIReference/API_ScheduleKeyDeletion.html)
#' until all replica keys are deleted.
#' 
#' The key ID and primary Region that you specify uniquely identify the
#' replica key that will become the primary key. The primary Region must
#' already have a replica key. This operation does not create a KMS key in
#' the specified Region. To find the replica keys, use the
#' [`describe_key`][kms_describe_key] operation on the primary key or any
#' replica key. To create a replica key, use the
#' [`replicate_key`][kms_replicate_key] operation.
#' 
#' You can run this operation while using the affected multi-Region keys in
#' cryptographic operations. This operation should not delay, interrupt, or
#' cause failures in cryptographic operations.
#' 
#' Even after this operation completes, the process of updating the primary
#' Region might still be in progress for a few more seconds. Operations
#' such as [`describe_key`][kms_describe_key] might display both the old
#' and new primary keys as replicas. The old and new primary keys have a
#' transient key state of `Updating`. The original key state is restored
#' when the update is complete. While the key state is `Updating`, you can
#' use the keys in cryptographic operations, but you cannot replicate the
#' new primary key or perform certain management operations, such as
#' enabling or disabling these keys. For details about the `Updating` key
#' state, see [Key states of KMS
#' keys](https://docs.aws.amazon.com/kms/latest/developerguide/key-state.html)
#' in the *Key Management Service Developer Guide*.
#' 
#' This operation does not return any output. To verify that primary key is
#' changed, use the [`describe_key`][kms_describe_key] operation.
#' 
#' **Cross-account use**: No. You cannot use this operation in a different
#' Amazon Web Services account.
#' 
#' **Required permissions**:
#' 
#' -   `kms:UpdatePrimaryRegion` on the current primary key (in the primary
#'     key's Region). Include this permission primary key's key policy.
#' 
#' -   `kms:UpdatePrimaryRegion` on the current replica key (in the replica
#'     key's Region). Include this permission in the replica key's key
#'     policy.
#' 
#' **Related operations**
#' 
#' -   [`create_key`][kms_create_key]
#' 
#' -   [`replicate_key`][kms_replicate_key]
#'
#' @usage
#' kms_update_primary_region(KeyId, PrimaryRegion)
#'
#' @param KeyId &#91;required&#93; Identifies the current primary key. When the operation completes, this
#' KMS key will be a replica key.
#' 
#' Specify the key ID or key ARN of a multi-Region primary key.
#' 
#' For example:
#' 
#' -   Key ID: `mrk-1234abcd12ab34cd56ef1234567890ab`
#' 
#' -   Key ARN:
#'     `arn:aws:kms:us-east-2:111122223333:key/mrk-1234abcd12ab34cd56ef1234567890ab`
#' 
#' To get the key ID and key ARN for a KMS key, use
#' [`list_keys`][kms_list_keys] or [`describe_key`][kms_describe_key].
#' @param PrimaryRegion &#91;required&#93; The Amazon Web Services Region of the new primary key. Enter the Region
#' ID, such as `us-east-1` or `ap-southeast-2`. There must be an existing
#' replica key in this Region.
#' 
#' When the operation completes, the multi-Region key in this Region will
#' be the primary key.
#'
#' @return
#' An empty list.
#'
#' @section Request syntax:
#' ```
#' svc$update_primary_region(
#'   KeyId = "string",
#'   PrimaryRegion = "string"
#' )
#' ```
#'
#' @keywords internal
#'
#' @rdname kms_update_primary_region
kms_update_primary_region <- function(KeyId, PrimaryRegion) {
  op <- new_operation(
    name = "UpdatePrimaryRegion",
    http_method = "POST",
    http_path = "/",
    paginator = list()
  )
  input <- .kms$update_primary_region_input(KeyId = KeyId, PrimaryRegion = PrimaryRegion)
  output <- .kms$update_primary_region_output()
  config <- get_config()
  svc <- .kms$service(config)
  request <- new_request(svc, op, input, output)
  response <- send_request(request)
  return(response)
}
.kms$operations$update_primary_region <- kms_update_primary_region

#' Verifies a digital signature that was generated by the Sign operation
#'
#' @description
#' Verifies a digital signature that was generated by the
#' [`sign`][kms_sign] operation.
#' 
#' Verification confirms that an authorized user signed the message with
#' the specified KMS key and signing algorithm, and the message hasn't
#' changed since it was signed. If the signature is verified, the value of
#' the `SignatureValid` field in the response is `True`. If the signature
#' verification fails, the [`verify`][kms_verify] operation fails with an
#' `KMSInvalidSignatureException` exception.
#' 
#' A digital signature is generated by using the private key in an
#' asymmetric KMS key. The signature is verified by using the public key in
#' the same asymmetric KMS key. For information about asymmetric KMS keys,
#' see [Asymmetric KMS
#' keys](https://docs.aws.amazon.com/kms/latest/developerguide/symmetric-asymmetric.html)
#' in the *Key Management Service Developer Guide*.
#' 
#' To verify a digital signature, you can use the [`verify`][kms_verify]
#' operation. Specify the same asymmetric KMS key, message, and signing
#' algorithm that were used to produce the signature.
#' 
#' You can also verify the digital signature by using the public key of the
#' KMS key outside of KMS. Use the [`get_public_key`][kms_get_public_key]
#' operation to download the public key in the asymmetric KMS key and then
#' use the public key to verify the signature outside of KMS. To verify a
#' signature outside of KMS with an SM2 public key, you must specify the
#' distinguishing ID. By default, KMS uses `1234567812345678` as the
#' distinguishing ID. For more information, see [Offline verification with
#' SM2 key
#' pairs](https://docs.aws.amazon.com/kms/latest/developerguide/asymmetric-key-specs.html#key-spec-sm-offline-verification)
#' in *Key Management Service Developer Guide*. The advantage of using the
#' [`verify`][kms_verify] operation is that it is performed within KMS. As
#' a result, it's easy to call, the operation is performed within the FIPS
#' boundary, it is logged in CloudTrail, and you can use key policy and IAM
#' policy to determine who is authorized to use the KMS key to verify
#' signatures.
#' 
#' The KMS key that you use for this operation must be in a compatible key
#' state. For details, see [Key states of KMS
#' keys](https://docs.aws.amazon.com/kms/latest/developerguide/key-state.html)
#' in the *Key Management Service Developer Guide*.
#' 
#' **Cross-account use**: Yes. To perform this operation with a KMS key in
#' a different Amazon Web Services account, specify the key ARN or alias
#' ARN in the value of the `KeyId` parameter.
#' 
#' **Required permissions**:
#' [kms:Verify](https://docs.aws.amazon.com/kms/latest/developerguide/kms-api-permissions-reference.html)
#' (key policy)
#' 
#' **Related operations**: [`sign`][kms_sign]
#'
#' @usage
#' kms_verify(KeyId, Message, MessageType, Signature, SigningAlgorithm,
#'   GrantTokens)
#'
#' @param KeyId &#91;required&#93; Identifies the asymmetric KMS key that will be used to verify the
#' signature. This must be the same KMS key that was used to generate the
#' signature. If you specify a different KMS key, the signature
#' verification fails.
#' 
#' To specify a KMS key, use its key ID, key ARN, alias name, or alias ARN.
#' When using an alias name, prefix it with `"alias/"`. To specify a KMS
#' key in a different Amazon Web Services account, you must use the key ARN
#' or alias ARN.
#' 
#' For example:
#' 
#' -   Key ID: `1234abcd-12ab-34cd-56ef-1234567890ab`
#' 
#' -   Key ARN:
#'     `arn:aws:kms:us-east-2:111122223333:key/1234abcd-12ab-34cd-56ef-1234567890ab`
#' 
#' -   Alias name: `alias/ExampleAlias`
#' 
#' -   Alias ARN: `arn:aws:kms:us-east-2:111122223333:alias/ExampleAlias`
#' 
#' To get the key ID and key ARN for a KMS key, use
#' [`list_keys`][kms_list_keys] or [`describe_key`][kms_describe_key]. To
#' get the alias name and alias ARN, use
#' [`list_aliases`][kms_list_aliases].
#' @param Message &#91;required&#93; Specifies the message that was signed. You can submit a raw message of
#' up to 4096 bytes, or a hash digest of the message. If you submit a
#' digest, use the `MessageType` parameter with a value of `DIGEST`.
#' 
#' If the message specified here is different from the message that was
#' signed, the signature verification fails. A message and its hash digest
#' are considered to be the same message.
#' @param MessageType Tells KMS whether the value of the `Message` parameter is a message or
#' message digest. The default value, RAW, indicates a message. To indicate
#' a message digest, enter `DIGEST`.
#' 
#' Use the `DIGEST` value only when the value of the `Message` parameter is
#' a message digest. If you use the `DIGEST` value with a raw message, the
#' security of the verification operation can be compromised.
#' @param Signature &#91;required&#93; The signature that the [`sign`][kms_sign] operation generated.
#' @param SigningAlgorithm &#91;required&#93; The signing algorithm that was used to sign the message. If you submit a
#' different algorithm, the signature verification fails.
#' @param GrantTokens A list of grant tokens.
#' 
#' Use a grant token when your permission to call this operation comes from
#' a new grant that has not yet achieved *eventual consistency*. For more
#' information, see [Grant
#' token](https://docs.aws.amazon.com/kms/latest/developerguide/grants.html#grant_token)
#' and [Using a grant
#' token](https://docs.aws.amazon.com/kms/latest/developerguide/grant-manage.html#using-grant-token)
#' in the *Key Management Service Developer Guide*.
#'
#' @return
#' A list with the following syntax:
#' ```
#' list(
#'   KeyId = "string",
#'   SignatureValid = TRUE|FALSE,
#'   SigningAlgorithm = "RSASSA_PSS_SHA_256"|"RSASSA_PSS_SHA_384"|"RSASSA_PSS_SHA_512"|"RSASSA_PKCS1_V1_5_SHA_256"|"RSASSA_PKCS1_V1_5_SHA_384"|"RSASSA_PKCS1_V1_5_SHA_512"|"ECDSA_SHA_256"|"ECDSA_SHA_384"|"ECDSA_SHA_512"|"SM2DSA"
#' )
#' ```
#'
#' @section Request syntax:
#' ```
#' svc$verify(
#'   KeyId = "string",
#'   Message = raw,
#'   MessageType = "RAW"|"DIGEST",
#'   Signature = raw,
#'   SigningAlgorithm = "RSASSA_PSS_SHA_256"|"RSASSA_PSS_SHA_384"|"RSASSA_PSS_SHA_512"|"RSASSA_PKCS1_V1_5_SHA_256"|"RSASSA_PKCS1_V1_5_SHA_384"|"RSASSA_PKCS1_V1_5_SHA_512"|"ECDSA_SHA_256"|"ECDSA_SHA_384"|"ECDSA_SHA_512"|"SM2DSA",
#'   GrantTokens = list(
#'     "string"
#'   )
#' )
#' ```
#'
#' @examples
#' \dontrun{
#' # This operation uses the public key in an elliptic curve (ECC) asymmetric
#' # key to verify a digital signature within AWS KMS.
#' svc$verify(
#'   KeyId = "alias/ECC_signing_key",
#'   Message = "<message to be verified>",
#'   MessageType = "RAW",
#'   Signature = "<binary data>",
#'   SigningAlgorithm = "ECDSA_SHA_384"
#' )
#' }
#'
#' @keywords internal
#'
#' @rdname kms_verify
kms_verify <- function(KeyId, Message, MessageType = NULL, Signature, SigningAlgorithm, GrantTokens = NULL) {
  op <- new_operation(
    name = "Verify",
    http_method = "POST",
    http_path = "/",
    paginator = list()
  )
  input <- .kms$verify_input(KeyId = KeyId, Message = Message, MessageType = MessageType, Signature = Signature, SigningAlgorithm = SigningAlgorithm, GrantTokens = GrantTokens)
  output <- .kms$verify_output()
  config <- get_config()
  svc <- .kms$service(config)
  request <- new_request(svc, op, input, output)
  response <- send_request(request)
  return(response)
}
.kms$operations$verify <- kms_verify

#' Verifies the hash-based message authentication code (HMAC) for a
#' specified message, HMAC KMS key, and MAC algorithm
#'
#' @description
#' Verifies the hash-based message authentication code (HMAC) for a
#' specified message, HMAC KMS key, and MAC algorithm. To verify the HMAC,
#' [`verify_mac`][kms_verify_mac] computes an HMAC using the message, HMAC
#' KMS key, and MAC algorithm that you specify, and compares the computed
#' HMAC to the HMAC that you specify. If the HMACs are identical, the
#' verification succeeds; otherwise, it fails.
#' 
#' Verification indicates that the message hasn't changed since the HMAC
#' was calculated, and the specified key was used to generate and verify
#' the HMAC.
#' 
#' This operation is part of KMS support for HMAC KMS keys. For details,
#' see [HMAC keys in
#' KMS](https://docs.aws.amazon.com/kms/latest/developerguide/hmac.html) in
#' the *Key Management Service Developer Guide*.
#' 
#' The KMS key that you use for this operation must be in a compatible key
#' state. For details, see [Key states of KMS
#' keys](https://docs.aws.amazon.com/kms/latest/developerguide/key-state.html)
#' in the *Key Management Service Developer Guide*.
#' 
#' **Cross-account use**: Yes. To perform this operation with a KMS key in
#' a different Amazon Web Services account, specify the key ARN or alias
#' ARN in the value of the `KeyId` parameter.
#' 
#' **Required permissions**:
#' [kms:VerifyMac](https://docs.aws.amazon.com/kms/latest/developerguide/kms-api-permissions-reference.html)
#' (key policy)
#' 
#' **Related operations**: [`generate_mac`][kms_generate_mac]
#'
#' @usage
#' kms_verify_mac(Message, KeyId, MacAlgorithm, Mac, GrantTokens)
#'
#' @param Message &#91;required&#93; The message that will be used in the verification. Enter the same
#' message that was used to generate the HMAC.
#' 
#' [`generate_mac`][kms_generate_mac] and [`verify_mac`][kms_verify_mac] do
#' not provide special handling for message digests. If you generated an
#' HMAC for a hash digest of a message, you must verify the HMAC for the
#' same hash digest.
#' @param KeyId &#91;required&#93; The KMS key that will be used in the verification.
#' 
#' Enter a key ID of the KMS key that was used to generate the HMAC. If you
#' identify a different KMS key, the [`verify_mac`][kms_verify_mac]
#' operation fails.
#' @param MacAlgorithm &#91;required&#93; The MAC algorithm that will be used in the verification. Enter the same
#' MAC algorithm that was used to compute the HMAC. This algorithm must be
#' supported by the HMAC KMS key identified by the `KeyId` parameter.
#' @param Mac &#91;required&#93; The HMAC to verify. Enter the HMAC that was generated by the
#' [`generate_mac`][kms_generate_mac] operation when you specified the same
#' message, HMAC KMS key, and MAC algorithm as the values specified in this
#' request.
#' @param GrantTokens A list of grant tokens.
#' 
#' Use a grant token when your permission to call this operation comes from
#' a new grant that has not yet achieved *eventual consistency*. For more
#' information, see [Grant
#' token](https://docs.aws.amazon.com/kms/latest/developerguide/grants.html#grant_token)
#' and [Using a grant
#' token](https://docs.aws.amazon.com/kms/latest/developerguide/grant-manage.html#using-grant-token)
#' in the *Key Management Service Developer Guide*.
#'
#' @return
#' A list with the following syntax:
#' ```
#' list(
#'   KeyId = "string",
#'   MacValid = TRUE|FALSE,
#'   MacAlgorithm = "HMAC_SHA_224"|"HMAC_SHA_256"|"HMAC_SHA_384"|"HMAC_SHA_512"
#' )
#' ```
#'
#' @section Request syntax:
#' ```
#' svc$verify_mac(
#'   Message = raw,
#'   KeyId = "string",
#'   MacAlgorithm = "HMAC_SHA_224"|"HMAC_SHA_256"|"HMAC_SHA_384"|"HMAC_SHA_512",
#'   Mac = raw,
#'   GrantTokens = list(
#'     "string"
#'   )
#' )
#' ```
#'
#' @examples
#' \dontrun{
#' # This example verifies an HMAC for a particular message, HMAC KMS keys,
#' # and MAC algorithm. A value of 'true' in the MacValid value in the
#' # response indicates that the HMAC is valid.
#' svc$verify_mac(
#'   KeyId = "1234abcd-12ab-34cd-56ef-1234567890ab",
#'   Mac = "<HMAC_TAG>",
#'   MacAlgorithm = "HMAC_SHA_384",
#'   Message = "Hello World"
#' )
#' }
#'
#' @keywords internal
#'
#' @rdname kms_verify_mac
kms_verify_mac <- function(Message, KeyId, MacAlgorithm, Mac, GrantTokens = NULL) {
  op <- new_operation(
    name = "VerifyMac",
    http_method = "POST",
    http_path = "/",
    paginator = list()
  )
  input <- .kms$verify_mac_input(Message = Message, KeyId = KeyId, MacAlgorithm = MacAlgorithm, Mac = Mac, GrantTokens = GrantTokens)
  output <- .kms$verify_mac_output()
  config <- get_config()
  svc <- .kms$service(config)
  request <- new_request(svc, op, input, output)
  response <- send_request(request)
  return(response)
}
.kms$operations$verify_mac <- kms_verify_mac
