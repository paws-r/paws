# This file is generated by make.paws. Please do not edit here.
#' @importFrom paws.common new_operation new_request send_request
#' @include kinesisvideomedia_service.R
NULL

#' Use this API to retrieve media content from a Kinesis video stream
#'
#' Use this API to retrieve media content from a Kinesis video stream. In
#' the request, you identify the stream name or stream Amazon Resource Name
#' (ARN), and the starting chunk. Kinesis Video Streams then returns a
#' stream of chunks in order by fragment number.
#' 
#' You must first call the `GetDataEndpoint` API to get an endpoint. Then
#' send the `GetMedia` requests to this endpoint using the [\\--endpoint-url
#' parameter](https://docs.aws.amazon.com/cli/latest/reference/).
#' 
#' When you put media data (fragments) on a stream, Kinesis Video Streams
#' stores each incoming fragment and related metadata in what is called a
#' \"chunk.\" For more information, see . The `GetMedia` API returns a
#' stream of these chunks starting from the chunk that you specify in the
#' request.
#' 
#' The following limits apply when using the `GetMedia` API:
#' 
#' -   A client can call `GetMedia` up to five times per second per stream.
#' 
#' -   Kinesis Video Streams sends media data at a rate of up to 25
#'     megabytes per second (or 200 megabits per second) during a
#'     `GetMedia` session.
#'
#' @usage
#' kinesisvideomedia_get_media(StreamName, StreamARN, StartSelector)
#'
#' @param StreamName The Kinesis video stream name from where you want to get the media
#' content. If you don\'t specify the `streamName`, you must specify the
#' `streamARN`.
#' @param StreamARN The ARN of the stream from where you want to get the media content. If
#' you don\'t specify the `streamARN`, you must specify the `streamName`.
#' @param StartSelector &#91;required&#93; Identifies the starting chunk to get from the specified stream.
#'
#' @section Request syntax:
#' ```
#' svc$get_media(
#'   StreamName = "string",
#'   StreamARN = "string",
#'   StartSelector = list(
#'     StartSelectorType = "FRAGMENT_NUMBER"|"SERVER_TIMESTAMP"|"PRODUCER_TIMESTAMP"|"NOW"|"EARLIEST"|"CONTINUATION_TOKEN",
#'     AfterFragmentNumber = "string",
#'     StartTimestamp = as.POSIXct(
#'       "2015-01-01"
#'     ),
#'     ContinuationToken = "string"
#'   )
#' )
#' ```
#'
#' @keywords internal
#'
#' @rdname kinesisvideomedia_get_media
kinesisvideomedia_get_media <- function(StreamName = NULL, StreamARN = NULL, StartSelector) {
  op <- new_operation(
    name = "GetMedia",
    http_method = "POST",
    http_path = "/getMedia",
    paginator = list()
  )
  input <- .kinesisvideomedia$get_media_input(StreamName = StreamName, StreamARN = StreamARN, StartSelector = StartSelector)
  output <- .kinesisvideomedia$get_media_output()
  svc <- .kinesisvideomedia$service()
  request <- new_request(svc, op, input, output)
  response <- send_request(request)
  return(response)
}
.kinesisvideomedia$operations$get_media <- kinesisvideomedia_get_media
